!function(){function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./src/firebaseApp");n.firebase=i.createFirebaseNamespace(),n.default=n.firebase},{"./src/firebaseApp":2}],2:[function(e,t,n){"use strict";function i(){function e(e){var t=d[e];f(t,"delete"),delete d[e]}function t(e){return e=e||s,a(d,e)||r("no-app",{name:e}),d[e]}function n(e,t){void 0===t?t=s:"string"==typeof t&&""!==t||r("bad-app-name",{name:t+""}),a(d,t)&&r("duplicate-app",{name:t});var n=new l(e,t,g);return d[t]=n,f(n,"create"),n}function u(){return Object.keys(d).map(function(e){return d[e]})}function c(e,n,i,a,s){v[e]&&r("duplicate-service",{name:e}),v[e]=n,a&&(m[e]=a,u().forEach(function(e){a("create",e)}));var c=function(n){return void 0===n&&(n=t()),"function"!=typeof n[e]&&r("invalid-app-argument",{name:e}),n[e]()};return void 0!==i&&o.deepExtend(c,i),g[e]=c,l.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this._getService.bind(this,e);return i.apply(this,s?t:[])},c}function h(e){o.deepExtend(g,e)}function f(e,t){Object.keys(v).forEach(function(n){var i=p(e,n);null!==i&&m[i]&&m[i](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;e.options;return n}var d={},v={},m={},g={__esModule:!0,initializeApp:n,app:t,apps:null,Promise:Promise,SDK_VERSION:"4.10.1",INTERNAL:{registerService:c,createFirebaseNamespace:i,extendNamespace:h,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:e,factories:v,useAsService:p,Promise:Promise,deepExtend:o.deepExtend}};return o.patchProperty(g,"default",g),Object.defineProperty(g,"apps",{get:u}),o.patchProperty(t,"App",l),g}function r(e,t){throw h.create(e,t)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@firebase/util"),a=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s="[DEFAULT]",u=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){u.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){u=u.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(i){t.push(e.services_[n][i])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=s),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==s?t:void 0,i=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=i}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(u.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),u=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&r("app-deleted",{name:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc"),n.createFirebaseNamespace=i;var c={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new o.ErrorFactory("app","Firebase",c)},{"@firebase/util":141}],3:[function(e,t,n){(function(t){(function(){function t(e){return"string"==typeof e}function n(e){return"boolean"==typeof e}function i(){}function r(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function o(e){return null===e}function a(e){return"array"==r(e)}function s(e){var t=r(e);return"array"==t||"object"==t&&"number"==typeof e.length}function u(e){return"function"==r(e)}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.jb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Tc=function(e,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return t.prototype[n].apply(e,r)}}function v(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function m(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function g(e){if(Error.captureStackTrace)Error.captureStackTrace(this,g);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function _(e,t){e=e.split("%s");for(var n="",i=e.length-1,r=0;r<i;r++)n+=e[r]+(r<t.length?t[r]:"%s");g.call(this,n+e[i])}function y(e,t){throw new _("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function b(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function w(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function T(){this.b=this.a=null}function E(){var e=xu,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function S(){this.next=this.b=this.a=null}function C(e,n){var i=e.length,r=t(e)?e.split(""):e;for(--i;0<=i;--i)i in r&&n.call(void 0,r[i],i,e)}function x(e){e:{for(var n=Ai,i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(void 0,r[o],o,e)){n=o;break e}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function P(e,t){return 0<=uu(e,t)}function I(e,t){t=uu(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function N(e,t){var n=0;C(e,function(i,r){t.call(void 0,i,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&n++})}function O(e){return Array.prototype.concat.apply([],arguments)}function A(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function R(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function k(e){return yu.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(pu,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(du,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(vu,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(mu,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(gu,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(_u,"&#0;")),e):e}function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}function M(e){return D(su,e)}function F(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function j(e){for(var t in e)return!1;return!0}function U(e){var t,n={};for(t in e)n[t]=e[t];return n}function B(e,t){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)e[n]=i[n];for(var o=0;o<Su.length;o++)n=Su[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function W(e){nu.setTimeout(function(){throw e},0)}function V(){var e=nu.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!M("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=f(function(e){"*"!=i&&e.origin!=i||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,i)}}}),"undefined"!=typeof e&&!M("Trident")&&!M("MSIE")){var t=new e,n={},i=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.qb;n.qb=null,e()}},function(e){i.next={qb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){nu.setTimeout(e,0)}}function q(e,t){Eu||H(),Cu||(Eu(),Cu=!0),xu.add(e,t)}function H(){if(-1!=String(nu.Promise).indexOf("[native code]")){var e=nu.Promise.resolve(void 0);Eu=function(){e.then(z)}}else Eu=function(){var e=z;!u(nu.setImmediate)||nu.Window&&nu.Window.prototype&&!M("Edge")&&nu.Window.prototype.setImmediate==nu.setImmediate?(Tu||(Tu=V()),Tu(e)):nu.setImmediate(e)}}function z(){for(var e;e=E();){try{e.a.call(e.b)}catch(e){W(e)}w(au,e)}Cu=!1}function X(e,t){if(this.a=Pu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=i)try{var n=this;e.call(t,function(e){re(n,Iu,e)},function(e){if(!(e instanceof fe))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}re(n,Nu,e)})}catch(e){re(this,Nu,e)}}function K(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Y(e,t,n){var i=Ou.get();return i.g=e,i.b=t,i.f=n,i}function G(e){if(e instanceof X)return e;var t=new X(i);return re(t,Iu,e),t}function Q(e){return new X(function(t,n){n(e)})}function $(e,t,n){oe(e,t,n,null)||q(p(t,e))}function J(e){return new X(function(t,n){var i=e.length,r=[];if(i)for(var o,a=function(e,n){i--,r[e]=n,0==i&&t(r)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],$(o,p(a,u),s);else t(r)})}function Z(e){return new X(function(t){var n=e.length,i=[];if(n)for(var r,o=function(e,r,o){n--,i[e]=r?{Wb:!0,value:o}:{Wb:!1,reason:o},0==n&&t(i)},a=0;a<e.length;a++)r=e[a],$(r,p(o,a,!0),p(o,a,!1));else t(i)})}function ee(e,t){return t=Y(t,t,void 0),t.c=!0,ne(e,t),e}function te(e,t){if(e.a==Pu)if(e.c){var n=e.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==e&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==Pu&&1==i?te(n,t):(o?(i=o,i.next==n.f&&(n.f=i),i.next=i.next.next):ue(n),le(n,r,Nu,t)))}e.c=null}else re(e,Nu,t)}function ne(e,t){e.b||e.a!=Iu&&e.a!=Nu||se(e),e.f?e.f.next=t:e.b=t,e.f=t}function ie(e,t,n,i){var r=Y(null,null,null);return r.a=new X(function(e,o){r.g=t?function(n){try{var r=t.call(i,n);e(r)}catch(e){o(e)}}:e,r.b=n?function(t){try{var r=n.call(i,t);void 0===r&&t instanceof fe?o(t):e(r)}catch(e){o(e)}}:o}),r.a.c=e,ne(e,r),r.a}function re(e,t,n){e.a==Pu&&(e===n&&(t=Nu,n=new TypeError("Promise cannot resolve to itself")),e.a=1,oe(n,e.Cc,e.Dc,e)||(e.i=n,e.a=t,e.c=null,se(e),t!=Nu||n instanceof fe||he(e,n)))}function oe(e,t,n,r){if(e instanceof X)return ne(e,Y(t||i,n||null,r)),!0;if(m(e))return e.then(t,n,r),!0;if(l(e))try{var o=e.then;if(u(o))return ae(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function ae(e,t,n,i,r){function o(e){s||(s=!0,i.call(r,e))}function a(e){s||(s=!0,n.call(r,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function se(e){e.h||(e.h=!0,q(e.Sb,e))}function ue(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function le(e,t,n,i){if(n==Nu&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ce(t,n,i);else try{t.c?t.g.call(t.f):ce(t,n,i)}catch(e){Au.call(null,e)}w(Ou,t)}function ce(e,t,n){t==Iu?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function he(e,t){e.g=!0,q(function(){e.g&&Au.call(null,t)})}function fe(e){g.call(this,e)}function pe(){0!=Ru&&(ku[this[iu]||(this[iu]=++ru)]=this),this.pa=this.pa,this.oa=this.oa}function de(e){if(!e.pa&&(e.pa=!0,e.ua(),0!=Ru)){var t=e[iu]||(e[iu]=++ru);if(0!=Ru&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ku[t]}}function ve(e){return ve[" "](e),e}function me(e,t){var n=zu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function ge(){var e=nu.document;return e?e.documentMode:void 0}function _e(e){return me(e,function(){for(var t=0,n=fu(String(Du)).split("."),i=fu(String(e)).split("."),r=Math.max(n.length,i.length),o=0;0==t&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=L(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==a[2].length,0==s[2].length)||L(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function ye(e,t){this.type=e,this.b=this.target=t,this.Cb=!0}function be(e,n){if(ye.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var i=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(Uu){e:{try{ve(n.nodeName);var o=!0;break e}catch(e){}o=!1}o||(n=null)}}else"mouseover"==i?n=e.fromElement:"mouseout"==i&&(n=e.toElement);this.relatedTarget=n,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:$u[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function we(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.La=r,this.key=++Zu,this.ma=this.Ha=!1}function Te(e){e.ma=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Ee(e){this.src=e,this.a={},this.b=0}function Se(e,t){var n=t.type;n in e.a&&I(e.a[n],t)&&(Te(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Ce(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r];if(!o.ma&&o.listener==t&&o.capture==!!n&&o.La==i)return r}return-1}function xe(e,t,n,i,r){if(i&&i.once)Ne(e,t,n,i,r);else if(a(t))for(var o=0;o<t.length;o++)xe(e,t[o],n,i,r);else n=Fe(n),e&&e[Ju]?Be(e,t,n,l(i)?!!i.capture:!!i,r):Pe(e,t,n,!1,i,r)}function Pe(e,t,n,i,r,o){if(!t)throw Error("Invalid event type");var a=l(r)?!!r.capture:!!r,s=Me(e);if(s||(e[el]=s=new Ee(e)),n=s.add(t,n,i,a,o),!n.proxy){if(i=Ie(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Qu||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Re(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}nl++}}function Ie(){var e=Le,t=Yu?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Ne(e,t,n,i,r){if(a(t))for(var o=0;o<t.length;o++)Ne(e,t[o],n,i,r);else n=Fe(n),e&&e[Ju]?We(e,t,n,l(i)?!!i.capture:!!i,r):Pe(e,t,n,!0,i,r)}function Oe(e,t,n,i,r){if(a(t))for(var o=0;o<t.length;o++)Oe(e,t[o],n,i,r);else i=l(i)?!!i.capture:!!i,n=Fe(n),e&&e[Ju]?(e=e.u,t=String(t).toString(),t in e.a&&(o=e.a[t],n=Ce(o,n,i,r),-1<n&&(Te(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Me(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ce(t,n,i,r)),(n=-1<e?t[e]:null)&&Ae(n))}function Ae(e){if("number"!=typeof e&&e&&!e.ma){var t=e.src;if(t&&t[Ju])Se(t.u,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Re(n),i):t.addListener&&t.removeListener&&t.removeListener(i),nl--,(n=Me(t))?(Se(n,e),0==n.b&&(n.src=null,t[el]=null)):Te(e)}}}function Re(e){return e in tl?tl[e]:tl[e]="on"+e}function ke(e,t,n,i){var r=!0;if((e=Me(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ma&&(o=De(o,i),r=r&&!1!==o)}return r}function De(e,t){var n=e.listener,i=e.La||e.src;return e.Ha&&Ae(e),n.call(i,t)}function Le(e,t){if(e.ma)return!0;if(!Yu){if(!t)e:{t=["window","event"];for(var n=nu,i=0;i<t.length;i++)if(n=n[t[i]],null==n){t=null;break e}t=n}if(i=t,t=new be(i,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=t.b;r;r=r.parentNode)i.push(r);for(e=e.type,r=i.length-1;0<=r;r--){t.b=i[r];var o=ke(i[r],e,!0,t);n=n&&o}for(r=0;r<i.length;r++)t.b=i[r],o=ke(i[r],e,!1,t),n=n&&o}return n}return De(e,new be(t,this))}function Me(e){return e=e[el],e instanceof Ee?e:null}function Fe(e){return u(e)?e:(e[il]||(e[il]=function(t){return e.handleEvent(t)}),e[il])}function je(){pe.call(this),this.u=new Ee(this),this.Kb=this,this.Ra=null}function Ue(e,n){var i,r=e.Ra;if(r)for(i=[];r;r=r.Ra)i.push(r);if(e=e.Kb,r=n.type||n,t(n))n=new ye(n,e);else if(n instanceof ye)n.target=n.target||e;else{var o=n;n=new ye(r,e),B(n,o)}if(o=!0,i)for(var a=i.length-1;0<=a;a--){var s=n.b=i[a];o=Ve(s,r,!0,n)&&o}if(s=n.b=e,o=Ve(s,r,!0,n)&&o,o=Ve(s,r,!1,n)&&o,i)for(a=0;a<i.length;a++)s=n.b=i[a],o=Ve(s,r,!1,n)&&o}function Be(e,t,n,i,r){e.u.add(String(t),n,!1,i,r)}function We(e,t,n,i,r){e.u.add(String(t),n,!0,i,r)}function Ve(e,t,n,i){if(t=e.u.a[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Se(e.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Cb}function qe(e,t,n){if(u(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:nu.setTimeout(e,t||0)}function He(e){var t=null;return new X(function(n,i){t=qe(function(){n(void 0)},e),-1==t&&i(Error("Failed to schedule timer."))}).o(function(e){throw nu.clearTimeout(t),e})}function ze(e){if(e.P&&"function"==typeof e.P)return e.P();if(t(e))return e.split("");if(s(e)){for(var n=[],i=e.length,r=0;r<i;r++)n.push(e[r]);return n}n=[],i=0;for(r in e)n[i++]=e[r];return n}function Xe(e){if(e.S&&"function"==typeof e.S)return e.S();if(!e.P||"function"!=typeof e.P){if(s(e)||t(e)){var n=[];e=e.length;for(var i=0;i<e;i++)n.push(i);return n}n=[],i=0;for(var r in e)n[i++]=r;return n}}function Ke(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))lu(e,n,void 0);else for(var i=Xe(e),r=ze(e),o=r.length,a=0;a<o;a++)n.call(void 0,r[a],i&&i[a],e)}function Ye(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof Ye)for(n=e.S(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}function Ge(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var i=e.a[t];Qe(e.b,i)&&(e.a[n++]=i),t++}e.a.length=n}if(e.c!=e.a.length){var r={};for(n=t=0;t<e.a.length;)i=e.a[t],Qe(r,i)||(e.a[n++]=i,r[i]=1),t++;e.a.length=n}}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var o=e[n].substring(0,i);r=e[n].substring(i+1)}else o=e[n];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Je(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof Je){this.f=void 0!==t?t:e.f,Ze(this,e.c),this.l=e.l,this.b=e.b,et(this,e.i),this.g=e.g,t=e.a;var n=new lt;n.c=t.c,t.a&&(n.a=new Ye(t.a),n.b=t.b),tt(this,n),this.h=e.h}else e&&(n=String(e).match(rl))?(this.f=!!t,Ze(this,n[1]||"",!0),this.l=at(n[2]||""),this.b=at(n[3]||"",!0),et(this,n[4]),this.g=at(n[5]||"",!0),tt(this,n[6]||"",!0),this.h=at(n[7]||"")):(this.f=!!t,this.a=new lt(null,this.f))}function Ze(e,t,n){e.c=n?at(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function tt(e,t,n){t instanceof lt?(e.a=t,mt(e.a,e.f)):(n||(t=st(t,ul)),e.a=new lt(t,e.f))}function nt(e,t,n){e.a.set(t,n)}function it(e,t){return e.a.get(t)}function rt(e){return e instanceof Je?new Je(e):new Je(e,void 0)}function ot(e,t){var n=new Je(null,void 0);return Ze(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,n,i){return t(e)?(e=encodeURI(e).replace(n,ut),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ut(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function lt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ct(e){e.a||(e.a=new Ye,e.b=0,e.c&&$e(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ht(e){var t=Xe(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new lt(null,void 0);e=ze(e);for(var i=0;i<t.length;i++){var r=t[i],o=e[i];a(o)?dt(n,r,o):n.add(r,o)}return n}function ft(e,t){ct(e),t=vt(e,t),Qe(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Qe(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ge(e)))}function pt(e,t){return ct(e),t=vt(e,t),Qe(e.a.b,t)}function dt(e,t,n){ft(e,t),0<n.length&&(e.c=null,e.a.set(vt(e,t),A(n)),e.b+=n.length)}function vt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function mt(e,t){t&&!e.f&&(ct(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ft(this,t),dt(this,n,e))},e)),e.f=t}function gt(){this.a="",this.b=cl}function _t(e){return e instanceof gt&&e.constructor===gt&&e.b===cl?e.a:(y("expected object of type Const, got '"+e+"'"),"type_error:Const")}function yt(e){var t=new gt;return t.a=e,t}function bt(){this.a="",this.b=pl}function wt(e){return e instanceof bt&&e.constructor===bt&&e.b===pl?e.a:(y("expected object of type TrustedResourceUrl, got '"+e+"' of type "+r(e)),"type_error:TrustedResourceUrl")}function Tt(e,t){var n=_t(e);if(!fl.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(hl,function(e,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[i],e instanceof gt?_t(e):encodeURIComponent(String(e))}),Et(e)}function Et(e){var t=new bt;return t.a=e,t}function St(){this.a="",this.b=vl}function Ct(e){return e instanceof St&&e.constructor===St&&e.b===vl?e.a:(y("expected object of type SafeUrl, got '"+e+"' of type "+r(e)),"type_error:SafeUrl")}function xt(e){return e instanceof St?e:(e=e.la?e.ja():String(e),dl.test(e)||(e="about:invalid#zClosurez"),Pt(e))}function Pt(e){var t=new St;return t.a=e,t}function It(e){var t=[];return Ot(new Nt,e,t),t.join("")}function Nt(){}function Ot(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(a(t)){var i=t;t=i.length,n.push("[");for(var r="",o=0;o<t;o++)n.push(r),Ot(e,i[o],n),r=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),r="";for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o=t[i],"function"!=typeof o&&(n.push(r),At(i,n),n.push(":"),Ot(e,o,n),r=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":At(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function At(e,t){t.push('"',e.replace(gl,function(e){var t=ml[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ml[e]=t),t}),'"')}function Rt(){this.a="",this.b=_l}function kt(e){return e instanceof Rt&&e.constructor===Rt&&e.b===_l?e.a:(y("expected object of type SafeHtml, got '"+e+"' of type "+r(e)),"type_error:SafeHtml")}function Dt(e){var t=new Rt;return t.a=e,t}function Lt(){var e=Jt();return Mu&&!!Hu&&11==Hu||/Edge\/\d+/.test(e)}function Mt(){return nu.window&&nu.window.location.href||""}function Ft(e,t){t=t||nu.window;var n="about:blank";e&&(n=Ct(xt(e))),t.location.href=n}function jt(e,t){var n,i=[];for(n in e)if(n in t)if(typeof e[n]!=typeof t[n])i.push(n);else if(a(e[n])){e:{var r=void 0,o=e[n],s=t[n];for(r in o)if(!(r in s)||o[r]!==s[r]){r=!1;break e}for(r in s)if(!(r in o)){r=!1;break e}r=!0}r||i.push(n)}else"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<jt(e[n],t[n]).length&&i.push(n):e[n]!==t[n]&&i.push(n);else i.push(n);for(n in t)n in e||i.push(n);return i}function Ut(){var e=Jt();return e=Qt(e)!=wl?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null,!(e&&30>e)&&(!Mu||!Hu||9<Hu)}function Bt(e){return e=(e||Jt()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Wt(e){e=e||nu.window;try{e.close()}catch(e){}}function Vt(e,t,n){var i=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Jt().toLowerCase(),i&&(t.target=i,D(n,"crios/")&&(t.target="_blank")),Qt(Jt())==bl&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),i=window,t=n instanceof St?n:xt("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,r=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(e[a]?1:0))}var a=r.join(",");if((M("iPhone")&&!M("iPod")&&!M("iPad")||M("iPad")||M("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(a=i.document.createElement("A"),t instanceof St||t instanceof St||(t=t.la?t.ja():String(t),dl.test(t)||(t="about:invalid#zClosurez"),t=Pt(t)),a.href=Ct(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=i.open("",n,a),e=Ct(t),a&&(ju&&D(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,yt("b/12014412, meta tag with sanitized URL"),e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+k(e)+'">',e=Dt(e),a.document.write(kt(e)),a.document.close())):(a=i.open(Ct(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function qt(e){return new X(function(t){function n(){He(2e3).then(function(){return e&&!e.closed?n():void t()})}return n()})}function Ht(){var e=null;return new X(function(t){"complete"==nu.document.readyState?t():(e=function(){t()},Ne(window,"load",e))}).o(function(t){throw Oe(window,"load",e),t})}function zt(){return Xt(void 0)?Ht().then(function(){return new X(function(e,t){var n=nu.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):Q(Error("Cordova must run in an Android or iOS file scheme."))}function Xt(e){return e=e||Jt(),!("file:"!==rn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kt(){var e=nu.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Yt(){return eu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":eu.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function Gt(){var e=Yt();return"ReactNative"===e||"Node"===e}function Qt(e){var t=e.toLowerCase();return D(t,"opera/")||D(t,"opr/")||D(t,"opios/")?"Opera":D(t,"iemobile")?"IEMobile":D(t,"msie")||D(t,"trident/")?"IE":D(t,"edge/")?"Edge":D(t,"firefox/")?bl:D(t,"silk/")?"Silk":D(t,"blackberry")?"Blackberry":D(t,"webos")?"Webos":!D(t,"safari/")||D(t,"chrome/")||D(t,"crios/")||D(t,"android")?!D(t,"chrome/")&&!D(t,"crios/")||D(t,"edge/")?D(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":wl:"Safari"}function $t(e,t){t=t||[];var n,i=[],r={};for(n in Tl)r[Tl[n]]=!0;for(n=0;n<t.length;n++)"undefined"!=typeof r[t[n]]&&(delete r[t[n]],i.push(t[n]));return i.sort(),t=i,t.length||(t=["FirebaseCore-web"]),i=Yt(),r="",r="Browser"===i?Qt(Jt()):i,r+"/JsCore/"+e+"/"+t.join(",")}function Jt(){return nu.navigator&&nu.navigator.userAgent||""}function Zt(e,t){e=e.split("."),t=t||nu;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function en(){try{var e=nu.localStorage,t=ln();if(e)return e.setItem(t,"1"),e.removeItem(t),!Lt()||!!nu.indexedDB}catch(e){}return!1}function tn(){return(nn()||"chrome-extension:"===rn()||Xt())&&!Gt()&&en()}function nn(){return"http:"===rn()||"https:"===rn()}function rn(){return nu.location&&nu.location.protocol||null}function on(e){return e=e||Jt(),!Bt(e)&&Qt(e)!=bl}function an(e){return"undefined"==typeof e?null:It(e)}function sn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function un(e){if(null!==e)return JSON.parse(e)}function ln(e){return e?e:Math.floor(1e9*Math.random()).toString()}function cn(e){return e=e||Jt(),"Safari"!=Qt(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function hn(){var e=nu.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function fn(){var e=nu.navigator;return!e||"boolean"!=typeof e.onLine||!nn()&&"chrome-extension:"!==rn()&&"undefined"==typeof e.connection||e.onLine}function pn(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.c=e,this.b=t,e=Jt(),t=Yt(),this.a=Bt(e)||"ReactNative"===t}function dn(){var e=nu.document;return!e||"undefined"==typeof e.visibilityState||"visible"==e.visibilityState}function vn(){var e=nu.document,t=null;return dn()||!e?G():new X(function(n){t=function(){dn()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function mn(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function gn(e,t,n){El?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function _n(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&gn(e,n,t[n])}function yn(e){var t={};return _n(t,e),t;
}function bn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function wn(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var i=e[t[n]];if(void 0===i||null===i||""===i)return!1}return!0}function Tn(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)gn(t,n,Tn(e[n]))}return t}function En(e){var t={},n=e[xl],i=e[Pl];if(e=e[Il],!n||!e)throw Error("Invalid provider user info!");t[Ol]=i||null,t[Nl]=n,gn(this,Rl,e),gn(this,Al,Tn(t))}function Sn(e,t){this.code=kl+e,this.message=t||Dl[e]||""}function Cn(e){var t=e&&e.code;return t?new Sn(t.substring(kl.length),e.message):null}function xn(e){var t=e[jl];if("undefined"==typeof t)throw new Sn("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Sn("invalid-continue-uri");this.h=t,this.c=this.a=null,this.g=!1;var n=e[Ll];if(n&&"object"==typeof n){t=n[Wl];var i=n[Ul];if(n=n[Bl],"string"==typeof t&&t.length){if(this.a=t,"undefined"!=typeof i&&"boolean"!=typeof i)throw new Sn("argument-error",Ul+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Sn("argument-error",Bl+" property must be a non empty string when specified.");this.c=n||null}else{if("undefined"!=typeof t)throw new Sn("argument-error",Wl+" property must be a non empty string when specified.");if("undefined"!=typeof i||"undefined"!=typeof n)throw new Sn("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new Sn("argument-error",Ll+" property must be a non null object when specified.");if(this.b=null,(t=e[Fl])&&"object"==typeof t){if(t=t[Vl],"string"==typeof t&&t.length)this.b=t;else if("undefined"!=typeof t)throw new Sn("argument-error",Vl+" property must be a non empty string when specified.")}else if("undefined"!=typeof t)throw new Sn("argument-error",Fl+" property must be a non null object when specified.");if(e=e[Ml],"undefined"!=typeof e&&"boolean"!=typeof e)throw new Sn("argument-error",Ml+" property must be a boolean when specified.");if((this.f=!!e)&&!this.b&&!this.a)throw new Sn("argument-error",Ml+" property can't be true when no mobile application is provided.")}function Pn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.f,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.c,t.androidInstallApp=e.g),t.iOSBundleId=e.b;for(var n in t)null===t[n]&&delete t[n];return t}function In(e){return cu(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function Nn(e){var t="";return On(e,function(e){t+=String.fromCharCode(e)}),t}function On(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=Hl[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}An();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function An(){if(!ql){ql={},Hl={};for(var e=0;65>e;e++)ql[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Hl[ql[e]]=e,62<=e&&(Hl["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Rn(e){this.c=e.sub,ou(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function kn(e){if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{var i=JSON.parse(Nn(e));if(i.sub&&i.iss&&i.aud&&i.exp)return new Rn(i)}catch(e){}return null}function Dn(e){for(var t in Kl)if(Kl[t].Na==e)return Kl[t];return null}function Ln(e){var t={};t["facebook.com"]=jn,t["google.com"]=Bn,t["github.com"]=Un,t["twitter.com"]=Wn;var n=e&&e[Gl];try{if(n)return t[n]?new t[n](e):new Fn(e);if("undefined"!=typeof e[Yl])return new Mn(e)}catch(e){}return null}function Mn(e){var t=e[Gl];if(!t&&e[Yl]){var n=kn(e[Yl]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!=typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),gn(this,"providerId",t),gn(this,"isNewUser",n)}function Fn(e){Mn.call(this,e),e=un(e.rawUserInfo||"{}"),gn(this,"profile",Tn(e||{}))}function jn(e){if(Fn.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Un(e){if(Fn.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");gn(this,"username",this.profile&&this.profile.login||null)}function Bn(e){if(Fn.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wn(e){if(Fn.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");gn(this,"username",e.screenName||null)}function Vn(e,t){return e.then(function(e){if(e[mc]){var n=kn(e[mc]);if(!n||t!=n.c)throw new Sn("user-mismatch");return e}throw new Sn("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==kl+"user-not-found"?new Sn("user-mismatch"):e})}function qn(e,t){if(t.idToken||t.accessToken)t.idToken&&gn(this,"idToken",t.idToken),t.accessToken&&gn(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Sn("internal-error","failed to construct a credential");gn(this,"accessToken",t.oauthToken),gn(this,"secret",t.oauthTokenSecret)}gn(this,"providerId",e)}function Hn(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:ht(t).toString(),requestUri:"http://localhost"}}function zn(e,t){this.tc=t||[],_n(this,{providerId:e,isOAuthProvider:!0}),this.sb={},this.Xa=(Dn(e)||{}).Ma||null,this.Va=null}function Xn(e){zn.call(this,e,Xl),this.a=[]}function Kn(){Xn.call(this,"facebook.com")}function Yn(e){if(!e)throw new Sn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new Kn).credential(null,t)}function Gn(){Xn.call(this,"github.com")}function Qn(e){if(!e)throw new Sn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new Gn).credential(null,t)}function $n(){Xn.call(this,"google.com"),this.ta("profile")}function Jn(e,t){var n=e;return l(e)&&(n=e.idToken,t=e.accessToken),(new $n).credential(n,t)}function Zn(){zn.call(this,"twitter.com",zl)}function ei(e,t){var n=e;if(l(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Sn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qn("twitter.com",n)}function ti(e,t){this.a=e,this.f=t,gn(this,"providerId","password")}function ni(){_n(this,{providerId:"password",isOAuthProvider:!1})}function ii(e){if(!(e.Pa&&e.Oa||e.Ea&&e.Y))throw new Sn("internal-error");this.a=e,gn(this,"providerId","phone")}function ri(e){return e.a.Ea&&e.a.Y?{temporaryProof:e.a.Ea,phoneNumber:e.a.Y}:{sessionInfo:e.a.Pa,code:e.a.Oa}}function oi(e){try{this.a=e||eu.auth()}catch(e){throw new Sn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}_n(this,{providerId:"phone",isOAuthProvider:!1})}function ai(e,t){if(!e)throw new Sn("missing-verification-id");if(!t)throw new Sn("missing-verification-code");return new ii({Pa:e,Oa:t})}function si(e){if(e.temporaryProof&&e.phoneNumber)return new ii({Ea:e.temporaryProof,Y:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,i=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Jn(e,n);case"facebook.com":return Yn(n);case"github.com":return Qn(n);case"twitter.com":return ei(n,i);default:return new Xn(t).credential(e,n)}}catch(e){return null}}function ui(e){if(!e.isOAuthProvider)throw new Sn("invalid-oauth-provider")}function li(e,t,n,i,r){if(this.b=e,this.c=t||null,this.f=n||null,this.g=i||null,this.a=r||null,!this.f&&!this.a)throw new Sn("invalid-auth-event");if(this.f&&this.a)throw new Sn("invalid-auth-event");if(this.f&&!this.g)throw new Sn("invalid-auth-event")}function ci(e){return e=e||{},e.type?new li(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Cn(e.error)):null}function hi(){this.b=null,this.a=[]}function fi(e){var t="unauthorized-domain",n=void 0,i=rt(e);e=i.b,i=i.c,"chrome-extension"==i?n=R("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==i||"https"==i?n=R("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Sn.call(this,t,n)}function pi(e,t,n){Sn.call(this,e,n),e=t||{},e.tb&&gn(this,"email",e.tb),e.Y&&gn(this,"phoneNumber",e.Y),e.credential&&gn(this,"credential",e.credential)}function di(e){if(e.code){var t=e.code||"";0==t.indexOf(kl)&&(t=t.substring(kl.length));var n={credential:si(e)};if(e.email)n.tb=e.email;else{if(!e.phoneNumber)return new Sn(t,e.message||void 0);n.Y=e.phoneNumber}return new pi(t,n,e.message)}return null}function vi(){}function mi(e){return e.c||(e.c=e.b())}function gi(){}function _i(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var i=t[n];try{return new ActiveXObject(i),e.f=i}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function yi(){}function bi(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=f(this.Yb,this),this.a.onerror=f(this.yb,this),this.a.onprogress=f(this.Zb,this),this.a.ontimeout=f(this.$b,this)}function wi(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ti(e,t,n){this.reset(e,t,n,void 0,void 0)}function Ei(e){this.f=e,this.b=this.c=this.a=null}function Si(e,t){this.name=e,this.value=t}function Ci(e){return e.c?e.c:e.a?Ci(e.a):(y("Root logger has no level set."),null)}function xi(e){rc||(rc=new Ei(""),ic[""]=rc,rc.c=tc);var t;if(!(t=ic[e])){t=new Ei(e);var n=e.lastIndexOf("."),i=e.substr(n+1);n=xi(e.substr(0,n)),n.b||(n.b={}),n.b[i]=t,t.a=n,ic[e]=t}return t}function Pi(e,t){e&&e.log(nc,t,void 0)}function Ii(e){je.call(this),this.headers=new Ye,this.w=e||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.B=!1,this.f=0,this.m=null,this.l=oc,this.s=this.N=!1}function Ni(e,t,n,i,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.i+"; newUri="+t);n=n?n.toUpperCase():"GET",e.i=t,e.g="",e.I=n,e.B=!1,e.b=!0,e.a=e.w?e.w.a():Jl.a(),e.v=mi(e.w?e.w:Jl),e.a.onreadystatechange=f(e.Bb,e);try{Pi(e.J,Bi(e,"Opening Xhr")),e.G=!0,e.a.open(n,String(t),!0),e.G=!1}catch(t){return Pi(e.J,Bi(e,"Error opening Xhr: "+t.message)),void Ri(e,t)}t=i||"";var o=new Ye(e.headers);r&&Ke(r,function(e,t){o.set(t,e)}),r=x(o.S()),i=nu.FormData&&t instanceof nu.FormData,!P(lc,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.l&&(e.a.responseType=e.l),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{Mi(e),0<e.f&&(e.s=Oi(e.a),Pi(e.J,Bi(e,"Will abort after "+e.f+"ms if incomplete, xhr2 "+e.s)),e.s?(e.a.timeout=e.f,e.a.ontimeout=f(e.Fa,e)):e.m=qe(e.Fa,e.f,e)),Pi(e.J,Bi(e,"Sending request")),e.h=!0,e.a.send(t),e.h=!1}catch(t){Pi(e.J,Bi(e,"Send error: "+t.message)),Ri(e,t)}}function Oi(e){return Mu&&_e(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function Ai(e){return"content-type"==e.toLowerCase()}function Ri(e,t){e.b=!1,e.a&&(e.c=!0,e.a.abort(),e.c=!1),e.g=t,ki(e),Li(e)}function ki(e){e.B||(e.B=!0,Ue(e,"complete"),Ue(e,"error"))}function Di(e){if(e.b&&"undefined"!=typeof tu)if(e.v[1]&&4==Fi(e)&&2==ji(e))Pi(e.J,Bi(e,"Local request error detected and ignored"));else if(e.h&&4==Fi(e))qe(e.Bb,0,e);else if(Ue(e,"readystatechange"),4==Fi(e)){Pi(e.J,Bi(e,"Request complete")),e.b=!1;try{var t=ji(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var r;if(r=0===t){var o=String(e.i).match(rl)[1]||null;if(!o&&nu.self&&nu.self.location){var a=nu.self.location.protocol;o=a.substr(0,a.length-1)}r=!uc.test(o?o.toLowerCase():"")}i=r}if(i)Ue(e,"complete"),Ue(e,"success");else{try{var s=2<Fi(e)?e.a.statusText:""}catch(t){Pi(e.J,"Can not get status: "+t.message),s=""}e.g=s+" ["+ji(e)+"]",ki(e)}}finally{Li(e)}}}function Li(e,t){if(e.a){Mi(e);var n=e.a,r=e.v[0]?i:null;e.a=null,e.v=null,t||Ue(e,"ready");try{n.onreadystatechange=r}catch(t){(e=e.J)&&e.log(ec,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Mi(e){e.a&&e.s&&(e.a.ontimeout=null),e.m&&(nu.clearTimeout(e.m),e.m=null)}function Fi(e){return e.a?e.a.readyState:0}function ji(e){try{return 2<Fi(e)?e.a.status:-1}catch(e){return-1}}function Ui(e){try{return e.a?e.a.responseText:""}catch(t){return Pi(e.J,"Can not get responseText: "+t.message),""}}function Bi(e,t){return t+" ["+e.I+" "+e.i+" "+ji(e)+"]"}function Wi(e,t){this.g=[],this.v=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Vi(e,t,n){e.a=!0,e.c=n,e.f=!t,Ki(e)}function qi(e){if(e.a){if(!e.u)throw new Yi(e);e.u=!1}}function Hi(e,t){zi(e,null,t,void 0)}function zi(e,t,n,i){e.g.push([t,n,i]),e.a&&Ki(e)}function Xi(e){return hu(e.g,function(e){return u(e[1])})}function Ki(e){if(e.h&&e.a&&Xi(e)){var t=e.h,n=cc[t];n&&(nu.clearTimeout(n.a),delete cc[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=n=!1;e.g.length&&!e.i;){var r=e.g.shift(),o=r[0],a=r[1];if(r=r[2],o=e.f?a:o)try{var s=o.call(r||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(m(t)||"function"==typeof nu.Promise&&t instanceof nu.Promise)&&(i=!0,e.i=!0)}catch(i){t=i,e.f=!0,Xi(e)||(n=!0)}}e.c=t,i&&(s=f(e.m,e,!0),i=f(e.m,e,!1),t instanceof Wi?(zi(t,s,i),t.w=!0):t.then(s,i)),n&&(t=new Qi(t),cc[t.a]=t,e.h=t.a)}function Yi(){g.call(this)}function Gi(){g.call(this)}function Qi(e){this.a=nu.setTimeout(f(this.c,this),0),this.b=e}function $i(e){var n=document;return t(e)?n.getElementById(e):e}function Ji(e,t){F(t,function(t,n){t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:fc.hasOwnProperty(n)?e.setAttribute(fc[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function Zi(e,n,i){var r=arguments,o=document,s=String(r[0]),u=r[1];if(!hc&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',k(u.name),'"'),u.type){s.push(' type="',k(u.type),'"');var l={};B(l,u),delete l.type,u=l}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(t(u)?s.className=u:a(u)?s.className=u.join(" "):Ji(s,u)),2<r.length&&er(o,s,r),s}function er(e,n,i){function r(i){i&&n.appendChild(t(i)?e.createTextNode(i):i)}for(var o=2;o<i.length;o++){var a=i[o];!s(a)||l(a)&&0<a.nodeType?r(a):lu(tr(a)?A(a):a,r)}}function tr(e){if(e&&"number"==typeof e.length){if(l(e))return"function"==typeof e.item||"string"==typeof e.item;if(u(e))return"function"==typeof e.item}return!1}function nr(e){var t={},n=t.document||document,i=wt(e),r=document.createElement("SCRIPT"),o={Db:r,Fa:void 0},a=new Wi(rr,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){or(r,!0);var e=new ar(dc,"Timeout reached for loading script "+i);qi(a),Vi(a,!1,e)},u),o.Fa=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(or(r,t.Uc||!1,s),a.B())},r.onerror=function(){or(r,!0,s);var e=new ar(pc,"Error while loading script "+i);qi(a),Vi(a,!1,e)},o=t.attributes||{},B(o,{type:"text/javascript",charset:"UTF-8"}),Ji(r,o),r.src=wt(e),ir(n).appendChild(r),a}function ir(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function rr(){if(this&&this.Db){var e=this.Db;e&&"SCRIPT"==e.tagName&&or(e,!0,this.Fa)}}function or(e,t,n){null!=n&&nu.clearTimeout(n),e.onload=i,e.onerror=i,e.onreadystatechange=i,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function ar(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),g.call(this,n),this.code=e}function sr(e){this.f=e}function ur(e,t,n){var i="Node"==Yt();if(i=nu.XMLHttpRequest||i&&eu.INTERNAL.node&&eu.INTERNAL.node.XMLHttpRequest,!i)throw new Sn("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||gc,this.c=U(e.secureTokenHeaders||_c),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||yc,this.a=U(e.firebaseHeaders||bc),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new yi,this.s=new sr(i)}function lr(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function cr(e,t){t?(e.a["X-Client-Version"]=t,e.c["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.c["X-Client-Version"])}function hr(e,t,n,i,r,o,a){fn()?(Ut()?e=f(e.m,e):(vc||(vc=new X(function(e,t){fr(e,t)})),e=f(e.u,e)),e(t,n,i,r,o,a)):n&&n(null)}function fr(e,t){if(((window.gapi||{}).client||{}).request)e();else{nu[Tc]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=Tt(wc,{onload:Tc});Hi(nr(n),function(){t(Error("CORS_UNSUPPORTED"))})}}function pr(e,t){return new X(function(n,i){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hr(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?i(Ar(e)):e.access_token&&e.refresh_token?n(e):i(new Sn("internal-error")):i(new Sn("network-request-failed"))},"POST",ht(t).toString(),e.c,e.l.get()):i(new Sn("internal-error"))})}function dr(e,t,n,i,r,o){var a=rt(e.g+t);nt(a,"key",e.b),o&&nt(a,"cb",ou().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&nt(a,u,i[u]);return new X(function(t,o){hr(e,a.toString(),function(e){e?e.error?o(Ar(e,r||{})):t(e):o(new Sn("network-request-failed"))},n,s?void 0:It(sn(i)),e.a,e.h.get())})}function vr(e){if(!$l.test(e.email))throw new Sn("invalid-email")}function mr(e){"email"in e&&vr(e)}function gr(e,t){return Nr(e,Ic,{identifier:t,continueUri:nn()?Mt():"http://localhost"}).then(function(e){return e.allProviders||[]})}function _r(e){return Nr(e,Dc,{}).then(function(e){return e.authorizedDomains||[]})}function yr(e){if(!e[mc])throw new Sn("internal-error")}function br(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Sn("internal-error")}else{if(!e.sessionInfo)throw new Sn("missing-verification-id");if(!e.code)throw new Sn("missing-verification-code")}}function wr(e,t){return Nr(e,Fc,t)}function Tr(e,t,n){return Nr(e,Oc,{idToken:t,deleteProvider:n})}function Er(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Sn("internal-error")}function Sr(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=di(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=di(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=di(e)):e.errorMessage&&(t=Or(e.errorMessage)),t)throw t;if(!e[mc])throw new Sn("internal-error")}function Cr(e,t){return t.returnIdpCredential=!0,Nr(e,Wc,t)}function xr(e,t){return t.returnIdpCredential=!0,Nr(e,qc,t)}function Pr(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Nr(e,Vc,t)}function Ir(e){if(!e.oobCode)throw new Sn("invalid-action-code")}function Nr(e,t,n){if(!wn(n,t.ea))return Q(new Sn("internal-error"));var i,r=t.Ab||"POST";return G(n).then(t.D).then(function(){return t.T&&(n.returnSecureToken=!0),dr(e,t.endpoint,r,n,t.Rb,t.ob||!1)}).then(function(e){return i=e}).then(t.O).then(function(){if(!t.ga)return i;if(!(t.ga in i))throw new Sn("internal-error");return i[t.ga]})}function Or(e){return Ar({error:{errors:[{message:e}],code:400,message:e}})}function Ar(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Sn(i[n]):null)return n;n=e.error&&e.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},B(i,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var r in i)if(0===n.indexOf(r))return new Sn(i[r],t);return!t&&e&&(t=an(e)),new Sn("internal-error",t)}function Rr(e){for(var t in Gc)if(Gc[t].id===e)return e=Gc[t],{firebaseEndpoint:e.Wa,secureTokenEndpoint:e.bb};return null}function kr(e){this.b=e,this.a=null,this.Za=Dr(this)}function Dr(e){return Fr().then(function(){return new X(function(t,n){Zt("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),t()}e.a=i,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Jc.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}function Lr(e,t){return e.Za.then(function(){return new X(function(n){e.a.send(t.type,t,n,Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Mr(e,t){e.Za.then(function(){e.a.register("authEvent",t,Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Fr(){return Zc?Zc:Zc=new X(function(e,t){if(fn()){var n=function(){hn(),Zt("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){hn(),t(Error("Network Error"))},timeout:$c.get()})};if(Zt("gapi.iframes.Iframe"))e();else if(Zt("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();nu[i]=function(){Zt("gapi.load")?n():t(Error("Network Error"))},i=Tt(Qc,{onload:i}),G(nr(i)).o(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))}).o(function(e){throw Zc=null,e})}function jr(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=ot(this.i,"/__/auth/iframe"),nt(this.a,"apiKey",this.g),nt(this.a,"appName",this.h),this.b=null,this.c=[]}function Ur(e,t,n,i,r){this.m=e,this.u=t,this.c=n,this.l=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function Br(e){try{return eu.app(e).auth().Ka()}catch(e){return[]}}function Wr(e,t,n,i,r){this.u=e,this.f=t,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.v=null,this.g=[],this.l=this.a=null}function Vr(e){var t=Mt();return _r(e).then(function(e){e:{var n=rt(t),i=n.c;n=n.b;for(var r=0;r<e.length;r++){var o=e[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=rt(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yl.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new fi(Mt())})}function qr(e){return e.l?e.l:(e.l=Ht().then(function(){if(!e.s){var t=e.c,n=e.h,i=Br(e.b),r=new jr(e.u,e.f,e.b);r.f=t,r.b=n,r.c=A(i||[]),e.s=r.toString()}e.i=new kr(e.s),Xr(e)}),e.l)}function Hr(e){return e.m||(e.v=e.c?$t(e.c,Br(e.b)):null,e.m=new ur(e.f,Rr(e.h),e.v)),e.m}function zr(e,t,n,i,r,o,a,s,u,l){return e=new Ur(e,t,n,i,r),e.i=o,e.g=a,e.h=s,e.b=U(u||null),e.f=l,e.toString()}function Xr(e){if(!e.i)throw Error("IfcHandler must be initialized!");Mr(e.i,function(t){var n={};if(t&&t.authEvent){var i=!1;for(t=ci(t.authEvent),n=0;n<e.g.length;n++)i=e.g[n](t)||i;return n={},n.status=i?"ACK":"ERROR",G(n)}return n.status="ERROR",G(n)})}function Kr(e){var t={type:"webStorageSupport"};return qr(e).then(function(){return Lr(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!=typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function Yr(e){if(this.a=e||eu.INTERNAL.reactNative&&eu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Sn("internal-error","The React Native compatibility library was not found.")}function Gr(){this.a={}}function Qr(){try{var e=!!nu.indexedDB}catch(t){e=!1}if(!e)throw new Sn("web-storage-unsupported");this.f={},this.c=[],this.a=0,this.h=nu.indexedDB}function $r(e){return new X(function(t,n){var i=e.h.open("firebaseLocalStorageDb",1);i.onerror=function(e){n(Error(e.target.errorCode))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(e){t(e.target.result)}})}function Jr(e){return e.g||(e.g=$r(e)),e.g}function Zr(e){return e.objectStore("firebaseLocalStorage")}function eo(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function to(e){return new X(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function no(e){function t(){return e.b=He(800).then(f(e.Bc,e)).then(function(t){0<t.length&&lu(e.c,function(e){e(t)})}).then(t).o(function(e){"STOP_EVENT"!=e.message&&t()}),e.b}e.b&&e.b.cancel("STOP_EVENT"),t()}function io(){if(!oo()){if("Node"==Yt())throw new Sn("internal-error","The LocalStorage compatibility library was not found.");throw new Sn("web-storage-unsupported")}this.a=ro()||eu.INTERNAL.node.localStorage}function ro(){try{var e=nu.localStorage,t=ln();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function oo(){var e="Node"==Yt();if(e=ro()||e&&eu.INTERNAL.node&&eu.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function ao(){}function so(){if(!lo()){if("Node"==Yt())throw new Sn("internal-error","The SessionStorage compatibility library was not found.");throw new Sn("web-storage-unsupported")}this.a=uo()||eu.INTERNAL.node.sessionStorage}function uo(){try{var e=nu.sessionStorage,t=ln();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function lo(){var e="Node"==Yt();if(e=uo()||e&&eu.INTERNAL.node&&eu.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function co(){var e={};e.Browser=ih,e.Node=rh,e.ReactNative=oh,this.a=e[Yt()]}function ho(e){var t=new Sn("invalid-persistence-type"),n=new Sn("unsupported-persistence-type");e:{for(i in ah)if(ah[i]==e){var i=!0;break e}i=!1}if(!i||"string"!=typeof e)throw t;switch(Yt()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!en()&&"none"!==e)throw n}}function fo(){var e=!(cn(Jt())||!Kt()),t=on(),n=en();this.m=e,this.h=t,this.l=n,this.a={},th||(th=new co),e=th;try{if(Lt()){eh||(eh=new Qr);var i=eh}else i=new e.a.C;this.g=i}catch(e){this.g=new Gr,this.h=!0}try{this.i=new e.a.kb}catch(e){this.i=new Gr}this.u=new Gr,this.f=f(this.Ib,this),this.b={}}function po(){return nh||(nh=new fo),nh}function vo(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function mo(e,t){return"firebase:"+e.name+(t?":"+t:"")}function go(e,t,n){return n=mo(t,n),"local"==t.C&&(e.b[n]=null),vo(e,t.C).X(n)}function _o(e){yo(e),e.c=setInterval(function(){for(var t in e.a){var n=nu.localStorage.getItem(t),i=e.b[t];n!=i&&(e.b[t]=n,n=new be({type:"storage",key:t,target:window,oldValue:i,newValue:n,a:!0}),e.Ib(n))}},1e3)}function yo(e){e.c&&(clearInterval(e.c),e.c=null)}function bo(e){this.a=e,this.b=po()}function wo(e){return e.b.get(uh,e.a).then(function(e){return ci(e)})}function To(){this.a=po()}function Eo(){this.b=-1}function So(e,t){this.b=-1,this.b=lh,this.f=nu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=nu.Int32Array?new Int32Array(64):Array(64),void 0!==sh||(sh=nu.Int32Array?new Int32Array(dh):dh),this.reset()}function Co(e){for(var t=e.f,n=e.l,i=0,r=0;r<t.length;)n[i++]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r=4*i;for(t=16;64>t;t++){r=0|n[t-15],i=0|n[t-2];var o=(0|n[t-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[t-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[t]=o+a|0}i=0|e.a[0],r=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=l&c^~l&h,o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0,a=a+(0|sh[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=r,r=i,i=a+f|0}e.a[0]=e.a[0]+i|0,e.a[1]=e.a[1]+r|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function xo(e,n,i){void 0===i&&(i=n.length);var r=0,o=e.c;if(t(n))for(;r<i;)e.f[o++]=n.charCodeAt(r++),o==e.b&&(Co(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;r<i;){var a=n[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(Co(e),o=0)}}e.c=o,e.g+=i}function Po(){So.call(this,8,vh)}function Io(e,t,n,i,r){this.u=e,this.i=t,this.l=n,this.m=i||null,this.s=r||null,this.h=t+":"+n,this.v=new To,this.g=new bo(this.h),this.f=null,this.b=[],this.a=this.c=null}function No(e){return new Sn("invalid-cordova-configuration",e)}function Oo(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function Ao(e){var t=new Po;xo(t,e),e=[];var n=8*t.g;56>t.c?xo(t,ph,56-t.c):xo(t,ph,t.b-(t.c-56));for(var i=63;56<=i;i--)t.f[i]=255&n,n/=256;for(Co(t),i=n=0;i<t.i;i++)for(var r=24;0<=r;r-=8)e[n++]=t.a[i]>>r&255;return In(e)}function Ro(e,t,n,i){var r=Oo(),o=new li(t,i,null,r,new Sn("no-auth-event")),a=Zt("BuildInfo.packageName",nu);if("string"!=typeof a)throw new Sn("invalid-cordova-configuration");var s=Zt("BuildInfo.displayName",nu),u={};if(Jt().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!Jt().toLowerCase().match(/android/))return Q(new Sn("operation-not-supported-in-this-environment"));
u.apn=a}s&&(u.appDisplayName=s),r=Ao(r),u.sessionId=r;var l=zr(e.u,e.i,e.l,t,n,null,i,e.m,u,e.s);return e.ba().then(function(){var t=e.h;return e.v.a.set(uh,o.A(),t)}).then(function(){var t=Zt("cordova.plugins.browsertab.isAvailable",nu);if("function"!=typeof t)throw new Sn("invalid-cordova-configuration");var n=null;t(function(t){if(t){if(n=Zt("cordova.plugins.browsertab.openUrl",nu),"function"!=typeof n)throw new Sn("invalid-cordova-configuration");n(l)}else{if(n=Zt("cordova.InAppBrowser.open",nu),"function"!=typeof n)throw new Sn("invalid-cordova-configuration");t=Jt(),t=!(!t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=n(l,t?"_blank":"_system","location=yes")}})})}function ko(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Do(e){return e.f||(e.f=e.ba().then(function(){return new X(function(t){function n(i){return t(i),e.Ja(n),!1}e.va(n),Mo(e)})})),e.f}function Lo(e){var t=null;return wo(e.g).then(function(n){return t=n,n=e.g,go(n.b,uh,n.a)}).then(function(){return t})}function Mo(e){function t(t){i=!0,r&&r.cancel(),Lo(e).then(function(i){var r=n;if(i&&t&&t.url){r=null;var o=t.url,a=rt(o),s=it(a,"link"),u=it(rt(s),"link");a=it(a,"deep_link_id"),o=it(rt(a),"link")||a||u||s||o,-1!=o.indexOf("/__/auth/callback")&&(r=rt(o),r=un(it(r,"firebaseError")||null),r=(r="object"==typeof r?Cn(r):null)?new li(i.b,i.c,null,null,r):new li(i.b,i.c,o,i.g)),r=r||n}ko(e,r)})}var n=new li("unknown",null,null,null,new Sn("no-auth-event")),i=!1,r=He(500).then(function(){return Lo(e).then(function(){i||ko(e,n)})}),o=nu.handleOpenURL;nu.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Zt("BuildInfo.packageName",nu).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Ql||(Ql=new hi),Ql.subscribe(t)}function Fo(e){this.a=e,this.b=po()}function jo(e){return e.b.set(mh,"pending",e.a)}function Uo(e){return go(e.b,mh,e.a)}function Bo(e){return e.b.get(mh,e.a).then(function(e){return"pending"==e})}function Wo(e,t,n){this.v=e,this.l=t,this.u=n,this.h=[],this.f=!1,this.i=f(this.m,this),this.c=new Yo,this.s=new ta,this.g=new Fo(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=Vo(this.v,this.l,this.u,Sc)}function Vo(e,t,n,i){var r=eu.SDK_VERSION||null;return Xt()?new Io(e,t,n,r,i):new Wr(e,t,n,r,i)}function qo(e){e.f||(e.f=!0,e.a.va(e.i));var t=e.a;return e.a.ba().o(function(n){throw e.a==t&&e.reset(),n})}function Ho(e){e.a.Eb()&&qo(e).o(function(t){var n=new li("unknown",null,null,null,new Sn("operation-not-supported-in-this-environment"));Xo(t)&&e.m(n)}),e.a.zb()||Go(e.c)}function zo(e,t,n,i,r,o){return e.a.wb(t,n,i,function(){e.f||(e.f=!0,e.a.va(e.i))},function(){e.reset()},r,o)}function Xo(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Ko(e,t,n){var i=t+":"+n;return yh[i]||(yh[i]=new Wo(e,t,n)),yh[i]}function Yo(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Go(e){e.g||(e.g=!0,Zo(e,!1,null,null))}function Qo(e,t,n){n=n.wa(t.b,t.c);var i=t.f,r=t.g,o=!!t.b.match(/Redirect$/);n(i,r).then(function(t){Zo(e,o,t,null)}).o(function(t){Zo(e,o,null,t)})}function $o(e,t){if(e.b=function(){return Q(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Jo(e,t){if(e.b=function(){return G(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zo(e,t,n,i){t?i?$o(e,i):Jo(e,n):Jo(e,{user:null}),e.f=[],e.c=[]}function ea(e){var t=new Sn("timeout");e.a&&e.a.cancel(),e.a=He(_h.get()).then(function(){e.b||Zo(e,!0,null,t)})}function ta(){}function na(e,t){var n=e.c,i=e.b;t.wa(i,n)(e.f,e.g).then(function(e){t.fa(i,e,null,n)}).o(function(e){t.fa(i,null,e,n)})}function ia(e,t){this.a=t,gn(this,"verificationId",e)}function ra(e,t,n,i){return new oi(e).Qa(t,n).then(function(e){return new ia(e,i)})}function oa(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function aa(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function sa(e,t){ua(e),e.b=He(aa(e,t)).then(function(){return vn()}).then(function(){return e.h()}).then(function(){sa(e,!0)}).o(function(t){e.i(t)&&sa(e,!1)})}function ua(e){e.b&&(e.b.cancel(),e.b=null)}function la(e){this.f=e,this.b=this.a=null,this.c=0}function ca(e,t){var n=t[mc],i=t.refreshToken;t=ha(t.expiresIn),e.b=n,e.c=t,e.a=i}function ha(e){return ou()+1e3*parseInt(e,10)}function fa(e,t){return pr(e.f,t).then(function(t){return e.b=t.access_token,e.c=ha(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function pa(e,t){this.a=e||null,this.b=t||null,_n(this,{lastSignInTime:mn(t||null),creationTime:mn(e||null)})}function da(e){return new pa(e.a,e.b)}function va(e,t,n,i,r,o){_n(this,{uid:e,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:t})}function ma(e,t){ye.call(this,e);for(var n in t)this[n]=t[n]}function ga(e,t,n){this.B=[],this.G=e.apiKey,this.s=e.appName,this.w=e.authDomain||null,e=eu.SDK_VERSION?$t(eu.SDK_VERSION):null,this.c=new ur(this.G,Rr(Sc),e),this.h=new la(this.c),Ca(this,t[mc]),ca(this.h,t),gn(this,"refreshToken",this.h.a),Na(this,n||{}),je.call(this),this.I=!1,this.w&&tn()&&(this.a=Ko(this.w,this.G,this.s)),this.N=[],this.i=null,this.l=Ta(this),this.U=f(this.Ga,this);var i=this;this.ha=null,this.sa=function(e){i.na(e.h)},this.W=null,this.R=[],this.ra=function(e){ya(i,e.f)},this.V=null}function _a(e,t){e.W&&Oe(e.W,"languageCodeChanged",e.sa),(e.W=t)&&xe(t,"languageCodeChanged",e.sa)}function ya(e,t){e.R=t,cr(e.c,eu.SDK_VERSION?$t(eu.SDK_VERSION,e.R):null)}function ba(e,t){e.V&&Oe(e.V,"frameworkChanged",e.ra),(e.V=t)&&xe(t,"frameworkChanged",e.ra)}function wa(e){try{return eu.app(e.s).auth()}catch(t){throw new Sn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.s+"'!")}}function Ta(e){return new oa(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-ou()-3e5;return 0<t?t:0})}function Ea(e){e.m||e.l.b||(e.l.start(),Oe(e,"tokenChanged",e.U),xe(e,"tokenChanged",e.U))}function Sa(e){Oe(e,"tokenChanged",e.U),ua(e.l)}function Ca(e,t){e.qa=t,gn(e,"_lat",t)}function xa(e,t){N(e.N,function(e){return e==t})}function Pa(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Z(t).then(function(){return e})}function Ia(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Na(e,t){_n(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new pa(t.createdAt,t.lastLoginAt),providerData:[]})}function Oa(){}function Aa(e){return G().then(function(){if(e.m)throw new Sn("app-deleted")})}function Ra(e){return cu(e.providerData,function(e){return e.providerId})}function ka(e,t){t&&(Da(e,t.providerId),e.providerData.push(t))}function Da(e,t){N(e.providerData,function(e){return e.providerId==t})}function La(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&gn(e,t,n)}function Ma(e,t){e!=t&&(_n(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?gn(e,"metadata",da(t.metadata)):gn(e,"metadata",new pa),lu(t.providerData,function(t){ka(e,t)}),e.h=t.h,gn(e,"refreshToken",e.h.a))}function Fa(e){return e.F().then(function(t){var n=e.isAnonymous;return Ua(e,t).then(function(){return n||La(e,"isAnonymous",!1),t})})}function ja(e,t){t[mc]&&e.qa!=t[mc]&&(ca(e.h,t),Ue(e,new ma("tokenChanged")),Ca(e,t[mc]),La(e,"refreshToken",e.h.a))}function Ua(e,t){return Nr(e.c,Ac,{idToken:t}).then(f(e.nc,e))}function Ba(e){return(e=e.providerUserInfo)&&e.length?cu(e,function(e){return new va(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Wa(e,t){return Fa(e).then(function(){if(P(Ra(e),t))return Pa(e).then(function(){throw new Sn("provider-already-linked")})})}function Va(e,t,n){var i=si(t);return t=Ln(t),yn({user:e,credential:i,additionalUserInfo:t,operationType:n})}function qa(e,t){return ja(e,t),e.reload().then(function(){return e})}function Ha(e,t,n,i,r){if(!tn())return Q(new Sn("operation-not-supported-in-this-environment"));if(e.i&&!r)return Q(e.i);var o=Dn(n.providerId),a=ln(e.uid+":::"),s=null;(!on()||Kt())&&e.w&&n.isOAuthProvider&&(s=zr(e.w,e.G,e.s,t,n,null,a,eu.SDK_VERSION||null));var u=Vt(s,o&&o.Aa,o&&o.za);return i=i().then(function(){if(Xa(e),!r)return e.F().then(function(){})}).then(function(){return zo(e.a,u,t,n,a,!!s)}).then(function(){return new X(function(n,i){e.fa(t,null,new Sn("cancelled-popup-request"),e.g||null),e.f=n,e.v=i,e.g=a,e.b=e.a.Da(e,t,u,a)})}).then(function(e){return u&&Wt(u),e?yn(e):null}).o(function(e){throw u&&Wt(u),e}),Ka(e,i,r)}function za(e,t,n,i,r){if(!tn())return Q(new Sn("operation-not-supported-in-this-environment"));if(e.i&&!r)return Q(e.i);var o=null,a=ln(e.uid+":::");return i=i().then(function(){if(Xa(e),!r)return e.F().then(function(){})}).then(function(){return e.Z=a,Pa(e)}).then(function(t){return e.ca&&(t=e.ca,t=t.b.set(bh,e.A(),t.a)),t}).then(function(){return e.a.Ba(t,n,a)}).o(function(t){if(o=t,e.ca)return Ja(e.ca);throw o}).then(function(){if(o)throw o}),Ka(e,i,r)}function Xa(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Sn("internal-error");throw new Sn("auth-domain-config-required")}}function Ka(e,t,n){var i=Ya(e,t,n);return e.B.push(i),ee(i,function(){I(e.B,i)}),i}function Ya(e,t,n){return e.i&&!n?(t.cancel(),Q(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||Ue(e,new ma("userInvalidated")),e.i=t),t})}function Ga(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[mc]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-ou())/1e3;var i=new ga(t,n,e);return e.providerData&&lu(e.providerData,function(e){e&&ka(i,yn(e))}),e.redirectEventId&&(i.Z=e.redirectEventId),i}function Qa(e,t,n,i){var r=new ga(e,t);return n&&(r.ca=n),i&&ya(r,i),r.reload().then(function(){return r})}function $a(e){this.a=e,this.b=po()}function Ja(e){return go(e.b,bh,e.a)}function Za(e,t){return e.b.get(bh,e.a).then(function(e){return e&&t&&(e.authDomain=t),Ga(e||{})})}function es(e){this.a=e,this.b=po(),this.c=null,this.f=ns(this),this.b.addListener(is("local"),this.a,f(this.g,this))}function ts(e,t){var n,i=[];for(n in ah)ah[n]!==t&&i.push(go(e.b,is(ah[n]),e.a));return i.push(go(e.b,wh,e.a)),J(i)}function ns(e){var t=is("local"),n=is("session"),i=is("none");return e.b.get(n,e.a).then(function(r){return r?n:e.b.get(i,e.a).then(function(n){return n?i:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(wh,e.a).then(function(e){return e?is(e):t})})})}).then(function(t){return e.c=t,ts(e,t.C)}).o(function(){e.c||(e.c=t)})}function is(e){return{name:"authUser",C:e}}function rs(e){return us(e,function(){return e.b.set(wh,e.c.C,e.a)})}function os(e,t){return us(e,function(){return e.b.set(e.c,t.A(),e.a)})}function as(e){return us(e,function(){return go(e.b,e.c,e.a)})}function ss(e,t){return us(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Ga(e||{})})})}function us(e,t){return e.f=e.f.then(t,t),e.f}function ls(e){if(this.l=!1,gn(this,"app",e),!ws(this).options||!ws(this).options.apiKey)throw new Sn("invalid-api-key");e=eu.SDK_VERSION?$t(eu.SDK_VERSION):null,this.c=new ur(ws(this).options&&ws(this).options.apiKey,Rr(Sc),e),this.N=[],this.m=[],this.I=[],this.Mb=eu.INTERNAL.createSubscribe(f(this.cc,this)),this.R=void 0,this.Nb=eu.INTERNAL.createSubscribe(f(this.dc,this)),ms(this,null),this.h=new es(ws(this).options.apiKey+":"+ws(this).name),this.G=new $a(ws(this).options.apiKey+":"+ws(this).name),this.U=xs(this,_s(this)),this.i=xs(this,ys(this)),this.W=!1,this.ha=f(this.Ac,this),this.Ga=f(this.ka,this),this.qa=f(this.Vb,this),this.ra=f(this.ac,this),this.sa=f(this.bc,this),ds(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.ic,this),this.s=0,je.call(this),fs(this),this.B=[]}function cs(e){ye.call(this,"languageCodeChanged"),this.h=e}function hs(e){ye.call(this,"frameworkChanged"),this.f=e}function fs(e){Object.defineProperty(e,"lc",{get:function(){return this.$()},set:function(e){this.na(e)},enumerable:!1}),e.V=null}function ps(e){return e.Lb||Q(new Sn("auth-domain-config-required"))}function ds(e){var t=ws(e).options.authDomain,n=ws(e).options.apiKey;t&&tn()&&(e.Lb=e.U.then(function(){if(!e.l){if(e.a=Ko(t,n,ws(e).name),e.a.subscribe(e),Ts(e)&&Ia(Ts(e)),e.w){Ia(e.w);var i=e.w;i.na(e.$()),_a(i,e),i=e.w,ya(i,e.B),ba(i,e),e.w=null}return e.a}}))}function vs(e,t){var n={};return n.apiKey=ws(e).options.apiKey,n.authDomain=ws(e).options.authDomain,n.appName=ws(e).name,e.U.then(function(){return Qa(n,t,e.G,e.Ka())}).then(function(t){return Ts(e)&&t.uid==Ts(e).uid?(Ma(Ts(e),t),e.ka(t)):(ms(e,t),Ia(t),e.ka(t))}).then(function(){Ss(e)})}function ms(e,t){Ts(e)&&(xa(Ts(e),e.Ga),Oe(Ts(e),"tokenChanged",e.qa),Oe(Ts(e),"userDeleted",e.ra),Oe(Ts(e),"userInvalidated",e.sa),Sa(Ts(e))),t&&(t.N.push(e.Ga),xe(t,"tokenChanged",e.qa),xe(t,"userDeleted",e.ra),xe(t,"userInvalidated",e.sa),0<e.s&&Ea(t)),gn(e,"currentUser",t),t&&(t.na(e.$()),_a(t,e),ya(t,e.B),ba(t,e))}function gs(e){var t=Za(e.G,ws(e).options.authDomain).then(function(t){return(e.w=t)&&(t.ca=e.G),Ja(e.G)});return xs(e,t)}function _s(e){var t=ws(e).options.authDomain,n=gs(e).then(function(){return ss(e.h,t)}).then(function(t){return t?(t.ca=e.G,e.w&&(e.w.Z||null)==(t.Z||null)?t:t.reload().then(function(){return os(e.h,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:as(e.h)})):null}).then(function(t){ms(e,t||null)});return xs(e,n)}function ys(e){return e.U.then(function(){return e.aa()}).o(function(){}).then(function(){if(!e.l)return e.ha()}).o(function(){}).then(function(){if(!e.l){e.W=!0;var t=e.h;t.b.addListener(is("local"),t.a,e.ha)}})}function bs(e,t){var n=null,i=null;return xs(e,t.then(function(t){return n=si(t),i=Ln(t),vs(e,t)}).then(function(){return yn({user:Ts(e),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function ws(e){return e.app}function Ts(e){return e.currentUser}function Es(e){return Ts(e)&&Ts(e)._lat||null}function Ss(e){if(e.W){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Es(e));if(e.R!==e.getUid()&&e.I.length)for(e.R=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Es(e))}}function Cs(e,t){e.I.push(t),xs(e,e.i.then(function(){!e.l&&P(e.I,t)&&e.R!==e.getUid()&&(e.R=e.getUid(),t(Es(e)))}))}function xs(e,t){return e.N.push(t),ee(t,function(){I(e.N,t)}),t}function Ps(e,t,n,i,r,o){if(gn(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=t,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Sh])throw new Sn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Ch],!$i(t)||!this.h&&$i(t).hasChildNodes())throw new Sn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ur(e,o||null,r||null),this.s=i||function(){return null};var a=this;this.i=[];var s=this.a[Th];this.a[Th]=function(e){if(Is(a,e),"function"==typeof s)s(e);else if("string"==typeof s){var t=Zt(s,nu);"function"==typeof t&&t(e)}};var u=this.a[Eh];this.a[Eh]=function(){if(Is(a,null),"function"==typeof u)u();else if("string"==typeof u){var e=Zt(u,nu);"function"==typeof e&&e()}}}function Is(e,t){for(var n=0;n<e.i.length;n++)try{e.i[n](t)}catch(e){}}function Ns(e,t){N(e.i,function(e){return e==t})}function Os(e,t){return e.g.push(t),ee(t,function(){I(e.g,t)}),t}function As(e){if(e.m)throw new Sn("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rs(){this.b=nu.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function ks(e,t){return new X(function(n,i){if(fn())if(!nu.grecaptcha||t!==e.c&&!e.b){nu[e.a]=function(){if(nu.grecaptcha){e.c=t;var r=nu.grecaptcha.render;nu.grecaptcha.render=function(t,n){return t=r(t,n),e.b++,t},n()}else i(new Sn("internal-error"));delete nu[e.a]};var r=Tt(xh,{onload:e.a,hl:t||""});G(nr(r)).o(function(){i(new Sn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else i(new Sn("network-request-failed"))})}function Ds(){return Ph||(Ph=new Rs),Ph}function Ls(e,t,n){try{this.f=n||eu.app()}catch(e){throw new Sn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Sn("invalid-api-key");n=this.f.options.apiKey;var i=this,r=null;try{r=this.f.auth().Ka()}catch(e){}r=eu.SDK_VERSION?$t(eu.SDK_VERSION,r):null,Ps.call(this,n,e,t,function(){try{var e=i.f.auth().$()}catch(t){e=null}return e},r,Rr(Sc))}function Ms(e,t,n,i){e:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Sn("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=t.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=t[r].optional&&void 0===n[r],!t[r].M(n[r])&&!o){if(t=t[r],0>r||r>=Ih.length)throw new Sn("internal-error","Argument validator received an unsupported number of arguments.");n=Ih[r],i=(i?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}i=null}}if(i)throw new Sn("argument-error",e+" failed: "+i)}function Fs(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function js(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:n}}function Us(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:l}}function Bs(e,t){return{name:e||"",K:"a function",optional:!!t,M:u}}function Ws(e,t){return{name:e||"",K:"null",optional:!!t,M:o}}function Vs(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function qs(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ls)}}}function Hs(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof eu.app.App)}}}function zs(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.xa||!n)}}}function Xs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Ks(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function Ys(e,t,n,i){return{name:n||"",K:e.K+" or "+t.K,optional:!!i,M:function(n){return e.M(n)||t.M(n)}}}function Gs(e,t){for(var n in t){var i=t[n].name;e[i]=$s(i,e[n],t[n].j)}}function Qs(e,t,n,i){e[t]=$s(t,n,i)}function $s(e,t,n){function i(){var e=Array.prototype.slice.call(arguments);return Ms(o,n,e),t.apply(this,e)}if(!n)return t;var r,o=Js(e);for(r in t)i[r]=t[r];for(r in t.prototype)i.prototype[r]=t.prototype[r];return i}function Js(e){return e=e.split("."),e[e.length-1]}var Zs,eu=e("@firebase/app").default,tu=tu||{},nu=this,iu="closure_uid_"+(1e9*Math.random()>>>0),ru=0,ou=Date.now||function(){return+new Date};d(g,Error),g.prototype.name="CustomError",d(_,g),_.prototype.name="AssertionError",b.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var au=new b(function(){return new S},function(e){e.reset()});T.prototype.add=function(e,t){var n=au.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},S.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},S.prototype.reset=function(){this.next=this.b=this.a=null};var su,uu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var i=0;i<e.length;i++)if(i in e&&e[i]===n)return i;return-1},lu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,i){for(var r=e.length,o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&n.call(i,o[a],a,e)},cu=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,n){for(var i=e.length,r=Array(i),o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&(r[a]=n.call(void 0,o[a],a,e));return r},hu=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,n){for(var i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(void 0,r[o],o,e))return!0;return!1},fu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},pu=/&/g,du=/</g,vu=/>/g,mu=/"/g,gu=/'/g,_u=/\x00/g,yu=/[\x00&<>"']/;e:{var bu=nu.navigator;if(bu){var wu=bu.userAgent;if(wu){su=wu;break e}}su=""}var Tu,Eu,Su="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Cu=!1,xu=new T,Pu=0,Iu=2,Nu=3;K.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ou=new b(function(){return new K},function(e){e.reset()});X.prototype.then=function(e,t,n){return ie(this,u(e)?e:null,u(t)?t:null,n)},v(X),Zs=X.prototype,Zs.o=function(e,t){return ie(this,null,e,t)},Zs.cancel=function(e){this.a==Pu&&q(function(){var t=new fe(e);te(this,t)},this)},Zs.Cc=function(e){this.a=Pu,re(this,Iu,e)},Zs.Dc=function(e){this.a=Pu,re(this,Nu,e)},Zs.Sb=function(){for(var e;e=ue(this);)le(this,e,this.a,this.i);this.h=!1};var Au=W;d(fe,g),fe.prototype.name="cancel";var Ru=0,ku={};pe.prototype.pa=!1,pe.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},ve[" "]=i;var Du,Lu=M("Opera"),Mu=M("Trident")||M("MSIE"),Fu=M("Edge"),ju=Fu||Mu,Uu=M("Gecko")&&!(D(su.toLowerCase(),"webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),Bu=D(su.toLowerCase(),"webkit")&&!M("Edge");e:{var Wu="",Vu=function(){var e=su;return Uu?/rv:([^\);]+)(\)|;)/.exec(e):Fu?/Edge\/([\d\.]+)/.exec(e):Mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bu?/WebKit\/(\S+)/.exec(e):Lu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vu&&(Wu=Vu?Vu[1]:""),Mu){var qu=ge();if(null!=qu&&qu>parseFloat(Wu)){Du=String(qu);break e}}Du=Wu}var Hu,zu={},Xu=nu.document;Hu=Xu&&Mu?ge()||("CSS1Compat"==Xu.compatMode?parseInt(Du,10):5):void 0;var Ku=Object.freeze||function(e){return e},Yu=!Mu||9<=Number(Hu),Gu=Mu&&!_e("9"),Qu=function(){if(!nu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return nu.addEventListener("test",i,t),nu.removeEventListener("test",i,t),e}();ye.prototype.c=function(){this.Cb=!1},d(be,ye);var $u=Ku({2:"touch",3:"pen",4:"mouse"});be.prototype.c=function(){be.jb.c.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gu)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},be.prototype.g=function(){return this.a};var Ju="closure_listenable_"+(1e6*Math.random()|0),Zu=0;Ee.prototype.add=function(e,t,n,i,r){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var a=Ce(e,t,i,r);return-1<a?(t=e[a],n||(t.Ha=!1)):(t=new we(t,this.src,o,!!i,r),t.Ha=n,e.push(t)),t};var el="closure_lm_"+(1e6*Math.random()|0),tl={},nl=0,il="__closure_events_fn_"+(1e9*Math.random()>>>0);d(je,pe),je.prototype[Ju]=!0,je.prototype.removeEventListener=function(e,t,n,i){Oe(this,e,t,n,i)},je.prototype.ua=function(){if(je.jb.ua.call(this),this.u){var e,t=this.u,n=0;for(e in t.a){for(var i=t.a[e],r=0;r<i.length;r++)++n,Te(i[r]);delete t.a[e],t.b--}}this.Ra=null},Zs=Ye.prototype,Zs.P=function(){Ge(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Zs.S=function(){return Ge(this),this.a.concat()},Zs.clear=function(){this.b={},this.c=this.a.length=0},Zs.get=function(e,t){return Qe(this.b,e)?this.b[e]:t},Zs.set=function(e,t){Qe(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Zs.forEach=function(e,t){for(var n=this.S(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);e.call(t,o,r,this)}};var rl=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Je.prototype.toString=function(){var e=[],t=this.c;t&&e.push(st(t,ol,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(st(t,ol,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?sl:al,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",st(n,ll)),e.join("")};var ol=/[#\/\?@]/g,al=/[#\?:]/g,sl=/[#\?]/g,ul=/[#\?@]/g,ll=/#/g;Zs=lt.prototype,Zs.add=function(e,t){ct(this),this.c=null,e=vt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Zs.clear=function(){this.a=this.c=null,this.b=0},Zs.forEach=function(e,t){ct(this),this.a.forEach(function(n,i){lu(n,function(n){e.call(t,n,i,this)},this)},this)},Zs.S=function(){ct(this);for(var e=this.a.P(),t=this.a.S(),n=[],i=0;i<t.length;i++)for(var r=e[i],o=0;o<r.length;o++)n.push(t[i]);return n},Zs.P=function(e){ct(this);var n=[];if(t(e))pt(this,e)&&(n=O(n,this.a.get(vt(this,e))));else{e=this.a.P();for(var i=0;i<e.length;i++)n=O(n,e[i])}return n},Zs.set=function(e,t){return ct(this),this.c=null,e=vt(this,e),pt(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Zs.get=function(e,t){return e=e?this.P(e):[],0<e.length?String(e[0]):t},Zs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.S(),n=0;n<t.length;n++){var i=t[n],r=encodeURIComponent(String(i));i=this.P(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),e.push(a)}}return this.c=e.join("&")},gt.prototype.la=!0,gt.prototype.ja=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var cl={};yt(""),bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var hl=/%{(\w+)}/g,fl=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,pl={};St.prototype.la=!0,St.prototype.ja=function(){return this.a},St.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var dl=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,vl={};Pt("about:blank");var ml={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},gl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Rt.prototype.la=!0,Rt.prototype.ja=function(){return this.a},Rt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var _l={};Dt("<!DOCTYPE html>"),Dt(""),Dt("<br>");var yl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bl="Firefox",wl="Chrome",Tl={Ic:"FirebaseCore-web",Kc:"FirebaseUI-web"};pn.prototype.get=function(){return this.a?this.b:this.c};var El,Sl={};try{var Cl={};Object.defineProperty(Cl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Cl,"abcd",{configurable:!0,enumerable:!0,value:2}),El=2==Cl.abcd}catch(e){El=!1}var xl="email",Pl="newEmail",Il="requestType",Nl="email",Ol="fromEmail",Al="data",Rl="operation";d(Sn,Error),Sn.prototype.A=function(){return{code:this.code,message:this.message}},Sn.prototype.toJSON=function(){return this.A()};var kl="auth/",Dl={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.",
"invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ll="android",Ml="handleCodeInApp",Fl="iOS",jl="url",Ul="installApp",Bl="minimumVersion",Wl="packageName",Vl="bundleId",ql=null,Hl=null;Rn.prototype.f=function(){return this.b};var zl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xl=["client_id","response_type","scope","redirect_uri","state"],Kl={Jc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",ab:Xl},Lc:{Ma:null,Aa:500,za:620,Na:"github.com",ab:Xl},Mc:{Ma:"hl",Aa:515,za:680,Na:"google.com",ab:Xl},Sc:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",ab:zl}},Yl="idToken",Gl="providerId";d(Fn,Mn),d(jn,Fn),d(Un,Fn),d(Bn,Fn),d(Wn,Fn),qn.prototype.xa=function(e){return Cr(e,Hn(this))},qn.prototype.b=function(e,t){var n=Hn(this);return n.idToken=t,xr(e,n)},qn.prototype.c=function(e,t){var n=Hn(this);return Vn(Pr(e,n),t)},qn.prototype.A=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},zn.prototype.Ca=function(e){return this.sb=U(e),this},d(Xn,zn),Xn.prototype.ta=function(e){return P(this.a,e)||this.a.push(e),this},Xn.prototype.xb=function(){return A(this.a)},Xn.prototype.credential=function(e,t){if(!e&&!t)throw new Sn("argument-error","credential failed: must provide the ID token and/or the access token.");return new qn(this.providerId,{idToken:e||null,accessToken:t||null})},d(Kn,Xn),gn(Kn,"PROVIDER_ID","facebook.com"),d(Gn,Xn),gn(Gn,"PROVIDER_ID","github.com"),d($n,Xn),gn($n,"PROVIDER_ID","google.com"),d(Zn,zn),gn(Zn,"PROVIDER_ID","twitter.com"),ti.prototype.xa=function(e){return Nr(e,zc,{email:this.a,password:this.f})},ti.prototype.b=function(e,t){return Nr(e,Uc,{idToken:t,email:this.a,password:this.f})},ti.prototype.c=function(e,t){return Vn(this.xa(e),t)},ti.prototype.A=function(){return{email:this.a,password:this.f}},_n(ni,{PROVIDER_ID:"password"}),ii.prototype.xa=function(e){return e.Qa(ri(this))},ii.prototype.b=function(e,t){var n=ri(this);return n.idToken=t,Nr(e,Kc,n)},ii.prototype.c=function(e,t){var n=ri(this);return n.operation="REAUTH",e=Nr(e,Yc,n),Vn(e,t)},ii.prototype.A=function(){var e={providerId:"phone"};return this.a.Pa&&(e.verificationId=this.a.Pa),this.a.Oa&&(e.verificationCode=this.a.Oa),this.a.Ea&&(e.temporaryProof=this.a.Ea),this.a.Y&&(e.phoneNumber=this.a.Y),e},oi.prototype.Qa=function(e,n){var i=this.a.c;return G(n.verify()).then(function(r){if(!t(r))throw new Sn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return wr(i,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"==typeof n.reset&&n.reset(),e},function(e){throw"function"==typeof n.reset&&n.reset(),e});default:throw new Sn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},_n(oi,{PROVIDER_ID:"phone"}),li.prototype.A=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.A()}};var Ql=null;hi.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},e=Zt("universalLinks.subscribe",nu),"function"==typeof e&&e(null,this.b))},hi.prototype.unsubscribe=function(e){N(this.a,function(t){return t==e})},d(fi,Sn),d(pi,Sn),pi.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.A();return t&&B(e,t),e},pi.prototype.toJSON=function(){return this.A()};var $l=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;vi.prototype.c=null;var Jl;d(gi,vi),gi.prototype.a=function(){var e=_i(this);return e?new ActiveXObject(e):new XMLHttpRequest},gi.prototype.b=function(){var e={};return _i(this)&&(e[0]=!0,e[1]=!0),e},Jl=new gi,d(yi,vi),yi.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new bi;throw Error("Unsupported browser")},yi.prototype.b=function(){return{}},Zs=bi.prototype,Zs.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},Zs.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},Zs.abort=function(){this.a.abort()},Zs.setRequestHeader=function(){},Zs.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},Zs.Yb=function(){this.status=200,this.responseText=this.a.responseText,wi(this,4)},Zs.yb=function(){this.status=500,this.responseText="",wi(this,4)},Zs.$b=function(){this.yb()},Zs.Zb=function(){this.status=200,wi(this,1)},Zs.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ti.prototype.a=null;var Zl=0;Ti.prototype.reset=function(e,t,n,i,r){"number"==typeof r||Zl++,i||ou(),delete this.a},Si.prototype.toString=function(){return this.name};var ec=new Si("SEVERE",1e3),tc=new Si("CONFIG",700),nc=new Si("FINE",500);Ei.prototype.log=function(e,t,n){if(e.value>=Ci(this).value)for(u(t)&&(t=t()),e=new Ti(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ic={},rc=null;d(Ii,je);var oc="",ac=Ii.prototype,sc=xi("goog.net.XhrIo");ac.J=sc;var uc=/^https?$/i,lc=["POST","PUT"];Zs=Ii.prototype,Zs.Fa=function(){"undefined"!=typeof tu&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",Pi(this.J,Bi(this,this.g)),Ue(this,"timeout"),this.abort(8))},Zs.abort=function(){this.a&&this.b&&(Pi(this.J,Bi(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,Ue(this,"complete"),Ue(this,"abort"),Li(this))},Zs.ua=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),Li(this,!0)),Ii.jb.ua.call(this)},Zs.Bb=function(){this.pa||(this.G||this.h||this.c?Di(this):this.mc())},Zs.mc=function(){Di(this)},Zs.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case oc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.J;return e&&e.log(ec,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(e){return Pi(this.J,"Can not get response: "+e.message),null}},Wi.prototype.cancel=function(e){if(this.a)this.c instanceof Wi&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(e=new Gi(this),qi(this),Vi(this,!1,e))}},Wi.prototype.m=function(e,t){this.i=!1,Vi(this,e,t)},Wi.prototype.B=function(){qi(this),Vi(this,!0,null)},Wi.prototype.then=function(e,t,n){var i,r,o=new X(function(e,t){i=e,r=t});return zi(this,i,function(e){e instanceof Gi?o.cancel():r(e)}),o.then(e,t,n)},v(Wi),d(Yi,g),Yi.prototype.message="Deferred has already fired",Yi.prototype.name="AlreadyCalledError",d(Gi,g),Gi.prototype.message="Deferred was canceled",Gi.prototype.name="CanceledError",Qi.prototype.c=function(){throw delete cc[this.a],this.b};var cc={},hc=!Mu||9<=Number(Hu),fc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},pc=0,dc=1;d(ar,g),d(sr,vi),sr.prototype.a=function(){return new this.f},sr.prototype.b=function(){return{}};var vc,mc="idToken",gc=new pn(3e4,6e4),_c={"Content-Type":"application/x-www-form-urlencoded"},yc=new pn(3e4,6e4),bc={"Content-Type":"application/json"};ur.prototype.m=function(e,t,n,i,r,o){var a="Node"==Yt(),s=Gt()?a?new Ii(this.s):new Ii:new Ii(this.f);if(o){s.f=Math.max(0,o);var u=setTimeout(function(){Ue(s,"timeout")},o)}Be(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(Ui(this))||null}catch(t){e=null}t&&t(e)}),We(s,"ready",function(){u&&clearTimeout(u),de(this)}),We(s,"timeout",function(){u&&clearTimeout(u),de(this),t&&t(null)}),Ni(s,e,n,i,r)};var wc=yt("https://apis.google.com/js/client.js?onload=%{onload}"),Tc="__fcb"+Math.floor(1e6*Math.random()).toString();ur.prototype.u=function(e,t,n,i,r){var o=this;vc.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:i,headers:r,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ur.prototype.hb=function(){return Nr(this,Bc,{})},ur.prototype.lb=function(e,t){return Nr(this,jc,{idToken:e,email:t})},ur.prototype.mb=function(e,t){return Nr(this,Uc,{idToken:e,password:t})};var Ec={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Zs=ur.prototype,Zs.nb=function(e,t){var n={idToken:e},i=[];return F(Ec,function(e,r){var o=t[r];null===o?i.push(e):r in t&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Nr(this,jc,n)},Zs.eb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},B(e,t),Nr(this,kc,e)},Zs.cb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},B(e,t),Nr(this,Rc,e)},Zs.Qa=function(e){return Nr(this,Xc,e)},Zs.Ua=function(e,t){return Nr(this,Mc,{oobCode:e,newPassword:t})},Zs.Ia=function(e){return Nr(this,xc,{oobCode:e})},Zs.Sa=function(e){return Nr(this,Cc,{oobCode:e})};var Sc,Cc={endpoint:"setAccountInfo",D:Ir,ga:"email"},xc={endpoint:"resetPassword",D:Ir,O:function(e){if(!e.email||!e.requestType)throw new Sn("internal-error")}},Pc={endpoint:"signupNewUser",D:function(e){if(vr(e),!e.password)throw new Sn("weak-password")},O:yr,T:!0},Ic={endpoint:"createAuthUri"},Nc={endpoint:"deleteAccount",ea:["idToken"]},Oc={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(e){if(!a(e.deleteProvider))throw new Sn("internal-error")}},Ac={endpoint:"getAccountInfo"},Rc={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Sn("internal-error")},ga:"email"},kc={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Sn("internal-error");vr(e)},ga:"email"},Dc={ob:!0,endpoint:"getProjectConfig",Ab:"GET"},Lc={ob:!0,endpoint:"getRecaptchaParam",Ab:"GET",O:function(e){if(!e.recaptchaSiteKey)throw new Sn("internal-error")}},Mc={endpoint:"resetPassword",D:Ir,ga:"email"},Fc={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},jc={endpoint:"setAccountInfo",ea:["idToken"],D:mr,T:!0},Uc={endpoint:"setAccountInfo",ea:["idToken"],D:function(e){if(mr(e),!e.password)throw new Sn("weak-password")},O:yr,T:!0},Bc={endpoint:"signupNewUser",O:yr,T:!0},Wc={endpoint:"verifyAssertion",D:Er,O:Sr,T:!0},Vc={endpoint:"verifyAssertion",D:Er,O:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Sn("user-not-found");if(e.errorMessage)throw Or(e.errorMessage);if(!e[mc])throw new Sn("internal-error")},T:!0},qc={endpoint:"verifyAssertion",D:function(e){if(Er(e),!e.idToken)throw new Sn("internal-error")},O:Sr,T:!0},Hc={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Sn("invalid-custom-token")},O:yr,T:!0},zc={endpoint:"verifyPassword",D:function(e){if(vr(e),!e.password)throw new Sn("wrong-password")},O:yr,T:!0},Xc={endpoint:"verifyPhoneNumber",D:br,O:yr},Kc={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Sn("internal-error");br(e)},O:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",di(e);yr(e)}},Yc={Rb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:br,O:yr},Gc={Oc:{Wa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",bb:"https://securetoken.googleapis.com/v1/token",id:"p"},Qc:{Wa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",bb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Rc:{Wa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",bb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Sc=Rr("__EID__")?"__EID__":void 0;var Qc=yt("https://apis.google.com/js/api.js?onload=%{onload}"),$c=new pn(3e4,6e4),Jc=new pn(5e3,15e3),Zc=null;jr.prototype.toString=function(){return this.f?nt(this.a,"v",this.f):ft(this.a.a,"v"),this.b?nt(this.a,"eid",this.b):ft(this.a.a,"eid"),this.c.length?nt(this.a,"fw",this.c.join(",")):ft(this.a.a,"fw"),this.a.toString()},Ur.prototype.toString=function(){var e=ot(this.m,"/__/auth/handler");if(nt(e,"apiKey",this.u),nt(e,"appName",this.c),nt(e,"authType",this.l),this.a.isOAuthProvider){var t=this.a;try{var n=eu.app(this.c).auth().$()}catch(e){n=null}t.Va=n,nt(e,"providerId",this.a.providerId),t=this.a,n=sn(t.sb);for(var i in n)n[i]=n[i].toString();i=t.tc,n=U(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}t.Xa&&t.Va&&!n[t.Xa]&&(n[t.Xa]=t.Va),j(n)||nt(e,"customParameters",an(n))}if("function"==typeof this.a.xb&&(t=this.a.xb(),t.length&&nt(e,"scopes",t.join(","))),this.i?nt(e,"redirectUrl",this.i):ft(e.a,"redirectUrl"),this.g?nt(e,"eventId",this.g):ft(e.a,"eventId"),this.h?nt(e,"v",this.h):ft(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!it(e,a)&&nt(e,a,this.b[a]);return this.f?nt(e,"eid",this.f):ft(e.a,"eid"),a=Br(this.c),a.length&&nt(e,"fw",a.join(",")),e.toString()},Zs=Wr.prototype,Zs.Da=function(e,t,n){var i=new Sn("popup-closed-by-user"),r=new Sn("web-storage-unsupported"),o=this,a=!1;return this.ba().then(function(){Kr(o).then(function(n){n||(e&&Wt(e),t(r),a=!0)})}).o(function(){}).then(function(){if(!a)return qt(e)}).then(function(){if(!a)return He(n).then(function(){t(i)})})},Zs.Eb=function(){var e=Jt();return!on(e)&&!cn(e)},Zs.zb=function(){return!1},Zs.wb=function(e,t,n,i,r,o,a){if(!e)return Q(new Sn("popup-blocked"));if(a&&!on())return this.ba().o(function(t){Wt(e),r(t)}),i(),G();this.a||(this.a=Vr(Hr(this)));var s=this;return this.a.then(function(){var t=s.ba().o(function(t){throw Wt(e),r(t),t});return i(),t}).then(function(){if(ui(n),!a){var i=zr(s.u,s.f,s.b,t,n,null,o,s.c,void 0,s.h);Ft(i,e)}}).o(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},Zs.Ba=function(e,t,n){this.a||(this.a=Vr(Hr(this)));var i=this;return this.a.then(function(){ui(t);var r=zr(i.u,i.f,i.b,e,t,Mt(),n,i.c,void 0,i.h);Ft(r)}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},Zs.ba=function(){var e=this;return qr(this).then(function(){return e.i.Za}).o(function(){throw e.a=null,new Sn("network-request-failed")})},Zs.Jb=function(){return!0},Zs.va=function(e){this.g.push(e)},Zs.Ja=function(e){N(this.g,function(t){return t==e})},Zs=Yr.prototype,Zs.get=function(e){return G(this.a.getItem(e)).then(function(e){return e&&un(e)})},Zs.set=function(e,t){return G(this.a.setItem(e,an(t)))},Zs.X=function(e){return G(this.a.removeItem(e))},Zs.ia=function(){},Zs.da=function(){},Zs=Gr.prototype,Zs.get=function(e){return G(this.a[e])},Zs.set=function(e,t){return this.a[e]=t,G()},Zs.X=function(e){return delete this.a[e],G()},Zs.ia=function(){},Zs.da=function(){};var eh;Zs=Qr.prototype,Zs.set=function(e,t){var n,i=!1,r=this;return ee(Jr(this).then(function(t){return n=t,t=Zr(eo(n,!0)),to(t.get(e))}).then(function(o){var a=Zr(eo(n,!0));return o?(o.value=t,to(a.put(o))):(r.a++,i=!0,o={},o.fbase_key=e,o.value=t,to(a.add(o)))}).then(function(){r.f[e]=t}),function(){i&&r.a--})},Zs.get=function(e){return Jr(this).then(function(t){return to(Zr(eo(t,!1)).get(e))}).then(function(e){return e&&e.value})},Zs.X=function(e){var t=!1,n=this;return ee(Jr(this).then(function(i){return t=!0,n.a++,to(Zr(eo(i,!0)).delete(e))}).then(function(){delete n.f[e]}),function(){t&&n.a--})},Zs.Bc=function(){var e=this;return Jr(this).then(function(e){var t=Zr(eo(e,!1));return t.getAll?to(t.getAll()):new X(function(e,n){var i=[],r=t.openCursor();r.onsuccess=function(t){(t=t.target.result)?(i.push(t.value),t.continue()):e(i)},r.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(t){var n={},i=[];if(0==e.a){for(i=0;i<t.length;i++)n[t[i].fbase_key]=t[i].value;i=jt(e.f,n),e.f=n}return i})},Zs.ia=function(e){0==this.c.length&&no(this),this.c.push(e)},Zs.da=function(e){N(this.c,function(t){return t==e}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},Zs=io.prototype,Zs.get=function(e){var t=this;return G().then(function(){var n=t.a.getItem(e);return un(n)})},Zs.set=function(e,t){var n=this;return G().then(function(){var i=an(t);null===i?n.X(e):n.a.setItem(e,i)})},Zs.X=function(e){var t=this;return G().then(function(){t.a.removeItem(e)})},Zs.ia=function(e){nu.window&&xe(nu.window,"storage",e)},Zs.da=function(e){nu.window&&Oe(nu.window,"storage",e)},Zs=ao.prototype,Zs.get=function(){return G(null)},Zs.set=function(){return G()},Zs.X=function(){return G()},Zs.ia=function(){},Zs.da=function(){},Zs=so.prototype,Zs.get=function(e){var t=this;return G().then(function(){var n=t.a.getItem(e);return un(n)})},Zs.set=function(e,t){var n=this;return G().then(function(){var i=an(t);null===i?n.X(e):n.a.setItem(e,i)})},Zs.X=function(e){var t=this;return G().then(function(){t.a.removeItem(e)})},Zs.ia=function(){},Zs.da=function(){};var th,nh,ih={C:io,kb:so},rh={C:io,kb:so},oh={C:Yr,kb:ao},ah={Nc:"local",NONE:"none",Pc:"session"};Zs=fo.prototype,Zs.get=function(e,t){return vo(this,e.C).get(mo(e,t))},Zs.set=function(e,t,n){var i=mo(e,n),r=this,o=vo(this,e.C);return o.set(i,t).then(function(){return o.get(i)}).then(function(t){"local"==e.C&&(r.b[i]=t)})},Zs.addListener=function(e,t,n){e=mo(e,t),this.l&&(this.b[e]=nu.localStorage.getItem(e)),j(this.a)&&(vo(this,"local").ia(this.f),this.h||Lt()||!this.l||_o(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},Zs.removeListener=function(e,t,n){e=mo(e,t),this.a[e]&&(N(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),j(this.a)&&(vo(this,"local").da(this.f),yo(this))},Zs.Ib=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var i=this.b[n];"undefined"==typeof i&&(i=null);var r=nu.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Ta(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!=typeof e.a.a?vo(this,"local").da(this.f):yo(this),this.m)if(n=nu.localStorage.getItem(t),i=e.a.newValue,i!==n)null!==i?nu.localStorage.setItem(t,i):nu.localStorage.removeItem(t);else if(this.b[t]===i&&"undefined"==typeof e.a.a)return;var o=this;n=function(){"undefined"==typeof e.a.a&&o.b[t]===nu.localStorage.getItem(t)||(o.b[t]=nu.localStorage.getItem(t),o.Ta(t))},Mu&&Hu&&10==Hu&&nu.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else lu(e,f(this.Ta,this))},Zs.Ta=function(e){this.a[e]&&lu(this.a[e],function(e){e()})};var sh,uh={name:"authEvent",C:"local"};d(So,Eo);for(var lh=64,ch=lh-1,hh=[],fh=0;fh<ch;fh++)hh[fh]=0;var ph=O(128,hh);So.prototype.reset=function(){this.g=this.c=0,this.a=nu.Int32Array?new Int32Array(this.h):A(this.h)};var dh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(Po,So);var vh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Zs=Io.prototype,Zs.ba=function(){return this.ya?this.ya:this.ya=zt().then(function(){if("function"!=typeof Zt("universalLinks.subscribe",nu))throw No("cordova-universal-links-plugin is not installed");if("undefined"==typeof Zt("BuildInfo.packageName",nu))throw No("cordova-plugin-buildinfo is not installed");if("function"!=typeof Zt("cordova.plugins.browsertab.openUrl",nu))throw No("cordova-plugin-browsertab is not installed");if("function"!=typeof Zt("cordova.InAppBrowser.open",nu))throw No("cordova-plugin-inappbrowser is not installed")},function(){throw new Sn("cordova-not-ready")})},Zs.Da=function(e,t){return t(new Sn("operation-not-supported-in-this-environment")),G()},Zs.wb=function(){return Q(new Sn("operation-not-supported-in-this-environment"))},Zs.Jb=function(){return!1},Zs.Eb=function(){return!0},Zs.zb=function(){return!0},Zs.Ba=function(e,t,n){if(this.c)return Q(new Sn("redirect-operation-pending"));var i=this,r=nu.document,o=null,a=null,s=null,u=null;return this.c=ee(G().then(function(){return ui(t),Do(i)}).then(function(){return Ro(i,e,t,n)}).then(function(){return new X(function(e,t){a=function(){var t=Zt("cordova.plugins.browsertab.close",nu);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(a),s=function(){o||(o=He(2e3).then(function(){t(new Sn("redirect-cancelled-by-user"))}))},u=function(){dn()&&s()},r.addEventListener("resume",s,!1),Jt().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",u,!1)}).o(function(e){return Lo(i).then(function(){throw e})})}),function(){s&&r.removeEventListener("resume",s,!1),u&&r.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&i.Ja(a),i.c=null})},Zs.va=function(e){this.b.push(e),Do(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new li("unknown",null,null,null,new Sn("no-auth-event")),e(t))})},Zs.Ja=function(e){N(this.b,function(t){return t==e})};var mh={name:"pendingRedirect",C:"session"};Wo.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Vo(this.v,this.l,this.u)},Wo.prototype.subscribe=function(e){if(P(this.h,e)||this.h.push(e),!this.f){var t=this;Bo(this.g).then(function(e){e?Uo(t.g).then(function(){qo(t).o(function(e){var n=new li("unknown",null,null,null,new Sn("operation-not-supported-in-this-environment"));Xo(e)&&t.m(n)})}):Ho(t)}).o(function(){Ho(t)})}},Wo.prototype.unsubscribe=function(e){N(this.h,function(t){return t==e})},Wo.prototype.m=function(e){if(!e)throw new Sn("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.pb(e.b,e.c)){(t=this.b[e.b])&&t.h(e,i),t=!0;break}}return Go(this.c),t};var gh=new pn(2e3,1e4),_h=new pn(3e4,6e4);Wo.prototype.aa=function(){return this.c.aa()},Wo.prototype.Ba=function(e,t,n){var i,r=this;return jo(this.g).then(function(){return r.a.Ba(e,t,n).o(function(e){if(Xo(e))throw new Sn("operation-not-supported-in-this-environment");return i=e,Uo(r.g).then(function(){throw i})}).then(function(){return r.a.Jb()?new X(function(){}):Uo(r.g).then(function(){return r.aa()}).then(function(){}).o(function(){})})})},Wo.prototype.Da=function(e,t,n,i){return this.a.Da(n,function(n){e.fa(t,null,n,i)},gh.get())};var yh={};Yo.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yo.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,i=e.c,r=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;"unknown"!=n||r||o?e.a?(Zo(this,!0,null,e.a),G()):t.wa(n,i)?Qo(this,e,t):Q(new Sn("invalid-auth-event")):(Zo(this,!1,null,null),G())}else Q(new Sn("invalid-auth-event"))},Yo.prototype.aa=function(){var e=this;return new X(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),ea(e))})},ta.prototype.h=function(e,t){if(e){var n=e.b,i=e.c;e.a?(t.fa(e.b,null,e.a,e.c),G()):t.wa(n,i)?na(e,t):Q(new Sn("invalid-auth-event"))}else Q(new Sn("invalid-auth-event"))},ia.prototype.confirm=function(e){return e=ai(this.verificationId,e),this.a(e)},oa.prototype.start=function(){this.a=this.c,sa(this,!0)},la.prototype.A=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},la.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Q(new Sn("user-token-expired")):e||!this.b||ou()>this.c-3e4?this.a?fa(this,{grant_type:"refresh_token",refresh_token:this.a}):G(null):G({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},pa.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(ma,ye),d(ga,je),ga.prototype.na=function(e){this.ha=e,lr(this.c,e)},ga.prototype.$=function(){return this.ha},ga.prototype.Ka=function(){return A(this.R)},ga.prototype.Ga=function(){this.l.b&&(ua(this.l),this.l.start())},gn(ga.prototype,"providerId","firebase"),Zs=ga.prototype,Zs.reload=function(){var e=this;return Ka(this,Aa(this).then(function(){return Fa(e).then(function(){return Pa(e)}).then(Oa)}))},Zs.F=function(e){var t=this;return Ka(this,Aa(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Sn("internal-error");return e.accessToken!=t.qa&&(Ca(t,e.accessToken),Ue(t,new ma("tokenChanged"))),La(t,"refreshToken",e.refreshToken),e.accessToken}))},Zs.getToken=function(e){return Sl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Sl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(e)},Zs.nc=function(e){if(e=e.users,!e||!e.length)throw new Sn("internal-error");e=e[0],Na(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=Ba(e),n=0;n<t.length;n++)ka(this,t[n]);La(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},Zs.$a=function(e){var t=this,n=null;return Ka(this,e.c(this.c,this.uid).then(function(e){return ja(t,e),n=Va(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},Zs.oc=function(e){return this.$a(e).then(function(){})},Zs.Ya=function(e){var t=this,n=null;return Ka(this,Wa(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.c,n)}).then(function(e){return n=Va(t,e,"link"),qa(t,e)}).then(function(){return n}))},Zs.ec=function(e){return this.Ya(e).then(function(e){return e.user})},Zs.fc=function(e,t){var n=this;return Ka(this,Wa(this,"phone").then(function(){return ra(wa(n),e,t,f(n.Ya,n))}))},Zs.pc=function(e,t){var n=this;return Ka(this,G().then(function(){return ra(wa(n),e,t,f(n.$a,n))}),!0)},Zs.lb=function(e){var t=this;return Ka(this,this.F().then(function(n){return t.c.lb(n,e)}).then(function(e){return ja(t,e),t.reload()}))},Zs.Fc=function(e){var t=this;return Ka(this,this.F().then(function(n){return e.b(t.c,n)}).then(function(e){return ja(t,e),t.reload()}))},Zs.mb=function(e){var t=this;return Ka(this,this.F().then(function(n){return t.c.mb(n,e)}).then(function(e){return ja(t,e),t.reload()}))},Zs.nb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Aa(this);var t=this;return Ka(this,this.F().then(function(n){return t.c.nb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return ja(t,e),La(t,"displayName",e.displayName||null),La(t,"photoURL",e.photoUrl||null),lu(t.providerData,function(e){"password"===e.providerId&&(gn(e,"displayName",t.displayName),gn(e,"photoURL",t.photoURL))}),Pa(t)}).then(Oa))},Zs.Ec=function(e){var t=this;return Ka(this,Fa(this).then(function(n){return P(Ra(t),e)?Tr(t.c,n,[e]).then(function(e){var n={};return lu(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),lu(Ra(t),function(e){n[e]||Da(t,e)}),n[oi.PROVIDER_ID]||gn(t,"phoneNumber",null),Pa(t)}):Pa(t).then(function(){throw new Sn("no-such-provider")})}))},Zs.delete=function(){var e=this;return Ka(this,this.F().then(function(t){return Nr(e.c,Nc,{idToken:t})}).then(function(){Ue(e,new ma("userDeleted"))})).then(function(){for(var t=0;t<e.B.length;t++)e.B[t].cancel("app-deleted");_a(e,null),ba(e,null),e.B=[],e.m=!0,Sa(e),gn(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},Zs.pb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.Z||null)==t||"reauthViaRedirect"==e&&(this.Z||null)==t);
},Zs.fa=function(e,t,n,i){"linkViaPopup"!=e&&"reauthViaPopup"!=e||i!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Zs.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?f(this.ub,this):"reauthViaPopup"==e&&t==(this.g||null)?f(this.vb,this):"linkViaRedirect"==e&&(this.Z||null)==t?f(this.ub,this):"reauthViaRedirect"==e&&(this.Z||null)==t?f(this.vb,this):null},Zs.gc=function(e){var t=this;return Ha(this,"linkViaPopup",e,function(){return Wa(t,e.providerId).then(function(){return Pa(t)})},!1)},Zs.qc=function(e){return Ha(this,"reauthViaPopup",e,function(){return G()},!0)},Zs.hc=function(e){var t=this;return za(this,"linkViaRedirect",e,function(){return Wa(t,e.providerId)},!1)},Zs.rc=function(e){return za(this,"reauthViaRedirect",e,function(){return G()},!0)},Zs.ub=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var i=null,r=this.F().then(function(i){return xr(n.c,{requestUri:e,sessionId:t,idToken:i})}).then(function(e){return i=Va(n,e,"link"),qa(n,e)}).then(function(){return i});return Ka(this,r)},Zs.vb=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var i=null,r=G().then(function(){return Vn(Pr(n.c,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return i=Va(n,e,"reauthenticate"),ja(n,e),n.i=null,n.reload()}).then(function(){return i});return Ka(this,r,!0)},Zs.cb=function(e){var t=this,n=null;return Ka(this,this.F().then(function(t){return n=t,"undefined"==typeof e||j(e)?{}:Pn(new xn(e))}).then(function(e){return t.c.cb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},Zs.toJSON=function(){return this.A()},Zs.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.w,stsTokenManager:this.h.A(),redirectEventId:this.Z||null};return this.metadata&&B(e,this.metadata.A()),lu(this.providerData,function(t){e.providerData.push(bn(t))}),e};var bh={name:"redirectUser",C:"session"};es.prototype.g=function(){var e=this,t=is("local");us(this,function(){return G().then(function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null}).then(function(n){if(n)return ts(e,"local").then(function(){e.c=t})})})};var wh={name:"persistence",C:"session"};es.prototype.fb=function(e){var t=null,n=this;return ho(e),us(this,function(){return e!=n.c.C?n.b.get(n.c,n.a).then(function(i){return t=i,ts(n,e)}).then(function(){if(n.c=is(e),t)return n.b.set(n.c,t,n.a)}):G()})},d(ls,je),d(cs,ye),d(hs,ye),Zs=ls.prototype,Zs.fb=function(e){return e=this.h.fb(e),xs(this,e)},Zs.na=function(e){this.V===e||this.l||(this.V=e,lr(this.c,this.V),Ue(this,new cs(this.$())))},Zs.$=function(){return this.V},Zs.Gc=function(){var e=nu.navigator;this.na(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},Zs.ic=function(e){this.B.push(e),cr(this.c,eu.SDK_VERSION?$t(eu.SDK_VERSION,this.B):null),Ue(this,new hs(this.B))},Zs.Ka=function(){return A(this.B)},Zs.toJSON=function(){return{apiKey:ws(this).options.apiKey,authDomain:ws(this).options.authDomain,appName:ws(this).name,currentUser:Ts(this)&&Ts(this).A()}},Zs.pb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},Zs.fa=function(e,t,n,i){"signInViaPopup"==e&&this.g==i&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Zs.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?f(this.Ub,this):null},Zs.Ub=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var i=null,r=null,o=Cr(n.c,e).then(function(e){return i=si(e),r=Ln(e),e});return e=n.U.then(function(){return o}).then(function(e){return vs(n,e)}).then(function(){return yn({user:Ts(n),credential:i,additionalUserInfo:r,operationType:"signIn"})}),xs(this,e)},Zs.yc=function(e){if(!tn())return Q(new Sn("operation-not-supported-in-this-environment"));var t=this,n=Dn(e.providerId),i=ln(),r=null;(!on()||Kt())&&ws(this).options.authDomain&&e.isOAuthProvider&&(r=zr(ws(this).options.authDomain,ws(this).options.apiKey,ws(this).name,"signInViaPopup",e,null,i,eu.SDK_VERSION||null));var o=Vt(r,n&&n.Aa,n&&n.za);return n=ps(this).then(function(t){return zo(t,o,"signInViaPopup",e,i,!!r)}).then(function(){return new X(function(e,n){t.fa("signInViaPopup",null,new Sn("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.b=t.a.Da(t,"signInViaPopup",o,i)})}).then(function(e){return o&&Wt(o),e?yn(e):null}).o(function(e){throw o&&Wt(o),e}),xs(this,n)},Zs.zc=function(e){if(!tn())return Q(new Sn("operation-not-supported-in-this-environment"));var t=this,n=ps(this).then(function(){return rs(t.h)}).then(function(){return t.a.Ba("signInViaRedirect",e)});return xs(this,n)},Zs.aa=function(){if(!tn())return Q(new Sn("operation-not-supported-in-this-environment"));var e=this,t=ps(this).then(function(){return e.a.aa()}).then(function(e){return e?yn(e):null});return xs(this,t)},Zs.ib=function(){var e=this,t=this.i.then(function(){return Ts(e)?(ms(e,null),as(e.h).then(function(){Ss(e)})):G()});return xs(this,t)},Zs.Ac=function(){var e=this;return ss(this.h,ws(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Ts(e)&&t){n=Ts(e).uid;var i=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Ma(Ts(e),t),Ts(e).F();(Ts(e)||t)&&(ms(e,t),t&&(Ia(t),t.ca=e.G),e.a&&e.a.subscribe(e),Ss(e))}})},Zs.ka=function(e){return os(this.h,e)},Zs.Vb=function(){Ss(this),this.ka(Ts(this))},Zs.ac=function(){this.ib()},Zs.bc=function(){this.ib()},Zs.cc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Ts(t))})},Zs.dc=function(e){var t=this;Cs(this,function(){e.next(Ts(t))})},Zs.kc=function(e,t,n){var i=this;return this.W&&eu.Promise.resolve().then(function(){u(e)?e(Ts(i)):u(e.next)&&e.next(Ts(i))}),this.Mb(e,t,n)},Zs.jc=function(e,t,n){var i=this;return this.W&&eu.Promise.resolve().then(function(){i.R=i.getUid(),u(e)?e(Ts(i)):u(e.next)&&e.next(Ts(i))}),this.Nb(e,t,n)},Zs.Xb=function(e){var t=this,n=this.i.then(function(){return Ts(t)?Ts(t).F(e).then(function(e){return{accessToken:e}}):null});return xs(this,n)},Zs.vc=function(e){return this.Fb(e).then(function(e){return e.user})},Zs.Fb=function(e){var t=this;return this.i.then(function(){return bs(t,Nr(t.c,Hc,{token:e}))}).then(function(e){var n=e.user;return La(n,"isAnonymous",!1),t.ka(n),e})},Zs.Gb=function(e,t){var n=this;return this.i.then(function(){return bs(n,Nr(n.c,zc,{email:e,password:t}))})},Zs.wc=function(e,t){return this.Gb(e,t).then(function(e){return e.user})},Zs.Qb=function(e,t){return this.rb(e,t).then(function(e){return e.user})},Zs.rb=function(e,t){var n=this;return this.i.then(function(){return bs(n,Nr(n.c,Pc,{email:e,password:t}))})},Zs.uc=function(e){return this.gb(e).then(function(e){return e.user})},Zs.gb=function(e){var t=this;return this.i.then(function(){return bs(t,e.xa(t.c))})},Zs.hb=function(){return this.Hb().then(function(e){return e.user})},Zs.Hb=function(){var e=this;return this.i.then(function(){var t=Ts(e);if(t&&t.isAnonymous){var n=yn({providerId:null,isNewUser:!1});return yn({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bs(e,e.c.hb()).then(function(t){var n=t.user;return La(n,"isAnonymous",!0),e.ka(n),t})})},Zs.getUid=function(){return Ts(this)&&Ts(this).uid||null},Zs.Ob=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&Ts(this)&&Ea(Ts(this))},Zs.sc=function(e){var t=this;lu(this.m,function(n){n==e&&t.s--}),0>this.s&&(this.s=0),0==this.s&&Ts(this)&&Sa(Ts(this)),this.removeAuthTokenListener(e)},Zs.addAuthTokenListener=function(e){var t=this;this.m.push(e),xs(this,this.i.then(function(){t.l||P(t.m,e)&&e(Es(t))}))},Zs.removeAuthTokenListener=function(e){N(this.m,function(t){return t==e})},Zs.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(is("local"),e.a,this.ha)),this.a&&this.a.unsubscribe(this),eu.Promise.resolve()},Zs.Tb=function(e){return xs(this,gr(this.c,e))},Zs.Hc=function(e){return this.Ia(e).then(function(e){return e.data.email})},Zs.Ua=function(e,t){return xs(this,this.c.Ua(e,t).then(function(){}))},Zs.Ia=function(e){return xs(this,this.c.Ia(e).then(function(e){return new En(e)}))},Zs.Sa=function(e){return xs(this,this.c.Sa(e).then(function(){}))},Zs.eb=function(e,t){var n=this;return xs(this,G().then(function(){return"undefined"==typeof t||j(t)?{}:Pn(new xn(t))}).then(function(t){return n.c.eb(e,t)}).then(function(){}))},Zs.xc=function(e,t){return xs(this,ra(this,e,t,f(this.gb,this)))};var Th="callback",Eh="expired-callback",Sh="sitekey",Ch="size";Zs=Ps.prototype,Zs.ya=function(){var e=this;return this.c?this.c:this.c=Os(this,G().then(function(){if(nn())return Ht();throw new Sn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return ks(Ds(),e.s())}).then(function(){return Nr(e.u,Lc,{})}).then(function(t){e.a[Sh]=t.recaptchaSiteKey}).o(function(t){throw e.c=null,t}))},Zs.render=function(){As(this);var e=this;return Os(this,this.ya().then(function(){if(null===e.b){var t=e.l;if(!e.h){var n=$i(t);t=Zi("DIV"),n.appendChild(t)}e.b=grecaptcha.render(t,e.a)}return e.b}))},Zs.verify=function(){As(this);var e=this;return Os(this,this.render().then(function(t){return new X(function(n){var i=grecaptcha.getResponse(t);if(i)n(i);else{var r=function(t){t&&(Ns(e,r),n(t))};e.i.push(r),e.h&&grecaptcha.execute(e.b)}})}))},Zs.reset=function(){As(this),null!==this.b&&grecaptcha.reset(this.b)},Zs.clear=function(){As(this),this.m=!0,Ds().b--;for(var e=0;e<this.g.length;e++)this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=$i(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}};var xh=yt("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ph=null;d(Ls,Ps);var Ih="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Gs(ls.prototype,{Sa:{name:"applyActionCode",j:[Fs("code")]},Ia:{name:"checkActionCode",j:[Fs("code")]},Ua:{name:"confirmPasswordReset",j:[Fs("code"),Fs("newPassword")]},Qb:{name:"createUserWithEmailAndPassword",j:[Fs("email"),Fs("password")]},rb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Fs("email"),Fs("password")]},Tb:{name:"fetchProvidersForEmail",j:[Fs("email")]},aa:{name:"getRedirectResult",j:[]},jc:{name:"onAuthStateChanged",j:[Ys(Us(),Bs(),"nextOrObserver"),Bs("opt_error",!0),Bs("opt_completed",!0)]},kc:{name:"onIdTokenChanged",j:[Ys(Us(),Bs(),"nextOrObserver"),Bs("opt_error",!0),Bs("opt_completed",!0)]},eb:{name:"sendPasswordResetEmail",j:[Fs("email"),Ys(Us("opt_actionCodeSettings",!0),Ws(null,!0),"opt_actionCodeSettings",!0)]},fb:{name:"setPersistence",j:[Fs("persistence")]},gb:{name:"signInAndRetrieveDataWithCredential",j:[zs()]},hb:{name:"signInAnonymously",j:[]},Hb:{name:"signInAnonymouslyAndRetrieveData",j:[]},uc:{name:"signInWithCredential",j:[zs()]},vc:{name:"signInWithCustomToken",j:[Fs("token")]},Fb:{name:"signInAndRetrieveDataWithCustomToken",j:[Fs("token")]},wc:{name:"signInWithEmailAndPassword",j:[Fs("email"),Fs("password")]},Gb:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Fs("email"),Fs("password")]},xc:{name:"signInWithPhoneNumber",j:[Fs("phoneNumber"),Ks()]},yc:{name:"signInWithPopup",j:[Xs()]},zc:{name:"signInWithRedirect",j:[Xs()]},ib:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fs(null,!0)]},Gc:{name:"useDeviceLanguage",j:[]},Hc:{name:"verifyPasswordResetCode",j:[Fs("code")]}}),function(e,t){for(var n in t){var i=t[n].name;if(i!==n){var r=t[n].Pb;Object.defineProperty(e,i,{get:function(){return this[n]},set:function(e){Ms(i,[r],[e],!0),this[n]=e},enumerable:!0})}}}(ls.prototype,{lc:{name:"languageCode",Pb:Ys(Fs(),Ws(),"languageCode")}}),ls.Persistence=ah,ls.Persistence.LOCAL="local",ls.Persistence.SESSION="session",ls.Persistence.NONE="none",Gs(ga.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[js()]},getToken:{name:"getToken",j:[js()]},Ya:{name:"linkAndRetrieveDataWithCredential",j:[zs()]},ec:{name:"linkWithCredential",j:[zs()]},fc:{name:"linkWithPhoneNumber",j:[Fs("phoneNumber"),Ks()]},gc:{name:"linkWithPopup",j:[Xs()]},hc:{name:"linkWithRedirect",j:[Xs()]},$a:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zs()]},oc:{name:"reauthenticateWithCredential",j:[zs()]},pc:{name:"reauthenticateWithPhoneNumber",j:[Fs("phoneNumber"),Ks()]},qc:{name:"reauthenticateWithPopup",j:[Xs()]},rc:{name:"reauthenticateWithRedirect",j:[Xs()]},reload:{name:"reload",j:[]},cb:{name:"sendEmailVerification",j:[Ys(Us("opt_actionCodeSettings",!0),Ws(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fs(null,!0)]},Ec:{name:"unlink",j:[Fs("provider")]},lb:{name:"updateEmail",j:[Fs("email")]},mb:{name:"updatePassword",j:[Fs("password")]},Fc:{name:"updatePhoneNumber",j:[zs("phone")]},nb:{name:"updateProfile",j:[Us("profile")]}}),Gs(X.prototype,{o:{name:"catch"},then:{name:"then"}}),Gs(ia.prototype,{confirm:{name:"confirm",j:[Fs("verificationCode")]}}),Qs(ni,"credential",function(e,t){return new ti(e,t)},[Fs("email"),Fs("password")]),Gs(Kn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[Us("customOAuthParameters")]}}),Qs(Kn,"credential",Yn,[Ys(Fs(),Us(),"token")]),Gs(Gn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[Us("customOAuthParameters")]}}),Qs(Gn,"credential",Qn,[Ys(Fs(),Us(),"token")]),Gs($n.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[Us("customOAuthParameters")]}}),Qs($n,"credential",Jn,[Ys(Fs(),Ys(Us(),Ws()),"idToken"),Ys(Fs(),Ws(),"accessToken",!0)]),Gs(Zn.prototype,{Ca:{name:"setCustomParameters",j:[Us("customOAuthParameters")]}}),Qs(Zn,"credential",ei,[Ys(Fs(),Us(),"token"),Fs("secret",!0)]),Gs(Xn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},credential:{name:"credential",j:[Ys(Fs(),Ws(),"idToken",!0),Ys(Fs(),Ws(),"accessToken",!0)]},Ca:{name:"setCustomParameters",j:[Us("customOAuthParameters")]}}),Qs(oi,"credential",ai,[Fs("verificationId"),Fs("verificationCode")]),Gs(oi.prototype,{Qa:{name:"verifyPhoneNumber",j:[Fs("phoneNumber"),Ks()]}}),Gs(Sn.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Gs(pi.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Gs(fi.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Gs(Ls.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"==typeof eu||!eu.INTERNAL||!eu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:ls,Error:Sn};Qs(e,"EmailAuthProvider",ni,[]),Qs(e,"FacebookAuthProvider",Kn,[]),Qs(e,"GithubAuthProvider",Gn,[]),Qs(e,"GoogleAuthProvider",$n,[]),Qs(e,"TwitterAuthProvider",Zn,[]),Qs(e,"OAuthProvider",Xn,[Fs("providerId")]),Qs(e,"PhoneAuthProvider",oi,[qs()]),Qs(e,"RecaptchaVerifier",Ls,[Ys(Fs(),Vs(),"recaptchaContainer"),Us("recaptchaParameters",!0),Hs()]),eu.INTERNAL.registerService("auth",function(e,t){return e=new ls(e),t({INTERNAL:{getUid:f(e.getUid,e),getToken:f(e.Xb,e),addAuthTokenListener:f(e.Ob,e),removeAuthTokenListener:f(e.sc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),eu.INTERNAL.extendNamespace({User:ga})}()}).call("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@firebase/app":1}],4:[function(e,t,n){"use strict";function i(e){var n=e.INTERNAL.registerService("database",function(e,t,n){return l.RepoManager.getInstance().databaseFromApp(e,n)},{Reference:s.Reference,Query:a.Query,Database:o.Database,enableLogging:u.enableLogging,INTERNAL:c,ServerValue:p,TEST_ACCESS:h},null,!0);f.isNodeSdk()&&(t.exports=n)}Object.defineProperty(n,"__esModule",{value:!0});var r=e("@firebase/app"),o=e("./src/api/Database");n.Database=o.Database;var a=e("./src/api/Query");n.Query=a.Query;var s=e("./src/api/Reference");n.Reference=s.Reference;var u=e("./src/core/util/util");n.enableLogging=u.enableLogging;var l=e("./src/core/RepoManager"),c=e("./src/api/internal"),h=e("./src/api/test_access"),f=e("@firebase/util"),p=o.Database.ServerValue;n.ServerValue=p,n.registerDatabase=i,i(r.default);var d=e("./src/api/DataSnapshot");n.DataSnapshot=d.DataSnapshot;var v=e("./src/api/onDisconnect");n.OnDisconnect=v.OnDisconnect},{"./src/api/DataSnapshot":5,"./src/api/Database":6,"./src/api/Query":7,"./src/api/Reference":8,"./src/api/internal":10,"./src/api/onDisconnect":11,"./src/api/test_access":12,"./src/core/RepoManager":19,"./src/core/util/util":63,"@firebase/app":1,"@firebase/util":141}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../core/util/validation"),o=e("../core/util/Path"),a=e("../core/snap/indexes/PriorityIndex"),s=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return i.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return i.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return i.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return i.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){i.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),r.validatePathString("DataSnapshot.child",1,t,!1);var n=new o.Path(t),s=this.ref_.child(n);return new e(this.node_.getChild(n),s,a.PRIORITY_INDEX)},e.prototype.hasChild=function(e){i.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),r.validatePathString("DataSnapshot.hasChild",1,e,!1);var t=new o.Path(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return i.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(i.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),i.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,r){return t(new e(r,n.ref_.child(i),a.PRIORITY_INDEX))})},e.prototype.hasChildren=function(){return i.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return i.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return i.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();n.DataSnapshot=s},{"../core/snap/indexes/PriorityIndex":41,"../core/util/Path":57,"../core/util/validation":64,"@firebase/util":141}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("../core/util/util"),o=e("../core/util/libs/parser"),a=e("../core/util/Path"),s=e("./Reference"),u=e("../core/Repo"),l=e("../core/RepoManager"),c=e("@firebase/util"),h=e("../core/util/validation"),f=function(){function e(e){this.repo_=e,e instanceof u.Repo||r.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new s.Reference(e,a.Path.Empty),this.INTERNAL=new p(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),e instanceof s.Reference?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),c.validateArgCount(t,1,1,arguments.length);var n=o.parseRepoInfo(e);h.validateUrl(t,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&r.fatal(t+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&r.fatal("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}();n.Database=f;var p=function(){function e(e){this.database=e}return e.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){return this.database.checkDeleted_("delete"),l.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}();n.DatabaseInternals=p},{"../core/Repo":17,"../core/RepoManager":19,"../core/util/Path":57,"../core/util/libs/parser":62,"../core/util/util":63,"../core/util/validation":64,"./Reference":8,"@firebase/util":141,tslib:178}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("@firebase/util"),o=e("../core/snap/indexes/KeyIndex"),a=e("../core/snap/indexes/PriorityIndex"),s=e("../core/snap/indexes/ValueIndex"),u=e("../core/snap/indexes/PathIndex"),l=e("../core/util/util"),c=e("../core/util/Path"),h=e("../core/util/validation"),f=e("@firebase/util"),p=e("../core/view/EventRegistration"),d=e("@firebase/util"),v=function(){function e(e,t,n,i){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return r.assert(i,"Reference.ts has not been loaded"),i},set:function(e){i=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===o.KEY_INDEX){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var f=e.getIndexStartName();if(f!=l.MIN_NAME)throw new Error(i);if("string"!=typeof t)throw new Error(c)}if(e.hasEnd()){var p=e.getIndexEndName();if(p!=l.MAX_NAME)throw new Error(i);if("string"!=typeof n)throw new Error(c)}}else if(e.getIndex()===a.PRIORITY_INDEX){if(null!=t&&!h.isValidPriority(t)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(r.assert(e.getIndex()instanceof u.PathIndex||e.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return f.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,i,r){f.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,t,!1),f.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",i,r);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var i=new p.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,i)},e.prototype.onChildEvent=function(e,t,n){var i=new p.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,i)},e.prototype.off=function(e,t,n){f.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,e,!0),f.validateCallback("Query.off",2,t,!0),f.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===e){var o=t||null;i=new p.ValueEventRegistration(o,null,n||null)}else e&&(t&&(r={},r[e]=t),i=new p.ChildEventRegistration(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},e.prototype.once=function(t,n,i,r){var o=this;f.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,t,!1),f.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",i,r),s=!0,u=new d.Deferred;u.promise.catch(function(){});var l=function(e){s&&(s=!1,o.off(t,l),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,l,function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(f.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(f.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(f.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new c.Path(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new u.PathIndex(n),r=this.queryParams_.orderBy(i);return e.validateQueryEndpoints_(r),new e(this.repo,this.path,r,!0)},e.prototype.orderByKey=function(){f.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(o.KEY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){f.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(a.PRIORITY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){f.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(s.VALUE_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,t,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,t,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(t,n);if(e.validateLimit_(i),e.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,i,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(f.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,e,this.path,!1),h.validateKey("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return f.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return f.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=l.ObjectToUniqueKey(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(f.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===t.repo,r=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return i&&r&&o},e.getCancelAndContextArgs_=function(e,t,n){var i={cancel:null,context:null};if(t&&n)i.cancel=t,f.validateCallback(e,3,i.cancel,!0),i.context=n,f.validateContextObject(e,4,i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error(f.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");i.cancel=t}return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();n.Query=v},{"../core/snap/indexes/KeyIndex":39,"../core/snap/indexes/PathIndex":40,"../core/snap/indexes/PriorityIndex":41,"../core/snap/indexes/ValueIndex":42,"../core/util/Path":57,"../core/util/util":63,"../core/util/validation":64,"../core/view/EventRegistration":72,"@firebase/util":141}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./onDisconnect"),o=e("./TransactionResult"),a=e("../core/util/util"),s=e("../core/util/NextPushId"),u=e("./Query"),l=e("../core/Repo"),c=e("../core/util/Path"),h=e("../core/view/QueryParams"),f=e("../core/util/validation"),p=e("@firebase/util"),d=e("@firebase/util"),v=e("../core/SyncPoint"),m=function(e){function t(t,n){var i=this;if(!(t instanceof l.Repo))throw new Error("new Reference() no longer supported - use app.database().");return i=e.call(this,t,n,h.QueryParams.DEFAULT,!1)||this}return i.__extends(t,e),t.prototype.getKey=function(){return p.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack();
},t.prototype.child=function(e){return p.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof c.Path||(null===this.path.getFront()?f.validateRootPathString("Reference.child",1,e,!1):f.validatePathString("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){p.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){p.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){p.validateArgCount("Reference.set",1,2,arguments.length),f.validateWritablePath("Reference.set",this.path),f.validateFirebaseDataArg("Reference.set",1,e,this.path,!1),p.validateCallback("Reference.set",2,t,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(p.validateArgCount("Reference.update",1,2,arguments.length),f.validateWritablePath("Reference.update",this.path),Array.isArray(e)){for(var n={},i=0;i<e.length;++i)n[""+i]=e[i];e=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}f.validateFirebaseMergeDataArg("Reference.update",1,e,this.path,!1),p.validateCallback("Reference.update",2,t,!0);var r=new d.Deferred;return this.repo.update(this.path,e,r.wrapCallback(t)),r.promise},t.prototype.setWithPriority=function(e,t,n){if(p.validateArgCount("Reference.setWithPriority",2,3,arguments.length),f.validateWritablePath("Reference.setWithPriority",this.path),f.validateFirebaseDataArg("Reference.setWithPriority",1,e,this.path,!1),f.validatePriority("Reference.setWithPriority",2,t,!1),p.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new d.Deferred;return this.repo.setWithPriority(this.path,e,t,i.wrapCallback(n)),i.promise},t.prototype.remove=function(e){return p.validateArgCount("Reference.remove",0,1,arguments.length),f.validateWritablePath("Reference.remove",this.path),p.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(p.validateArgCount("Reference.transaction",1,3,arguments.length),f.validateWritablePath("Reference.transaction",this.path),p.validateCallback("Reference.transaction",1,e,!1),p.validateCallback("Reference.transaction",2,t,!0),f.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new d.Deferred;"function"==typeof t&&i.promise.catch(function(){});var r=function(e,n,r){e?i.reject(e):i.resolve(new o.TransactionResult(n,r)),"function"==typeof t&&t(e,n,r)};return this.repo.startTransaction(this.path,e,r,n),i.promise},t.prototype.setPriority=function(e,t){p.validateArgCount("Reference.setPriority",1,2,arguments.length),f.validateWritablePath("Reference.setPriority",this.path),f.validatePriority("Reference.setPriority",1,e,!1),p.validateCallback("Reference.setPriority",2,t,!0);var n=new d.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){p.validateArgCount("Reference.push",0,2,arguments.length),f.validateWritablePath("Reference.push",this.path),f.validateFirebaseDataArg("Reference.push",1,e,this.path,!0),p.validateCallback("Reference.push",2,t,!0);var n,i=this.repo.serverTime(),r=s.nextPushId(i),o=this.child(r),a=this.child(r);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return f.validateWritablePath("Reference.onDisconnect",this.path),new r.OnDisconnect(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(u.Query);n.Reference=m,u.Query.__referenceConstructor=m,v.SyncPoint.__referenceConstructor=m},{"../core/Repo":17,"../core/SyncPoint":24,"../core/util/NextPushId":55,"../core/util/Path":57,"../core/util/util":63,"../core/util/validation":64,"../core/view/QueryParams":73,"./Query":7,"./TransactionResult":9,"./onDisconnect":11,"@firebase/util":141,tslib:178}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return i.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();n.TransactionResult=r},{"@firebase/util":141}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../realtime/WebSocketConnection"),r=e("../realtime/BrowserPollConnection");n.forceLongPolling=function(){i.WebSocketConnection.forceDisallow(),r.BrowserPollConnection.forceAllow()},n.forceWebSockets=function(){r.BrowserPollConnection.forceDisallow()},n.isWebSocketsAvailable=function(){return i.WebSocketConnection.isAvailable()},n.setSecurityDebugCallback=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},n.stats=function(e,t){e.repo.stats(t)},n.statsIncrementCounter=function(e,t){e.repo.statsIncrementCounter(t)},n.dataUpdateCount=function(e){return e.repo.dataUpdateCount},n.interceptServerData=function(e,t){return e.repo.interceptServerData_(t)}},{"../realtime/BrowserPollConnection":80,"../realtime/WebSocketConnection":84}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../core/util/validation"),o=e("../core/util/util"),a=e("@firebase/util"),s=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){i.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),i.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){i.validateArgCount("OnDisconnect.remove",0,1,arguments.length),r.validateWritablePath("OnDisconnect.remove",this.path_),i.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){i.validateArgCount("OnDisconnect.set",1,2,arguments.length),r.validateWritablePath("OnDisconnect.set",this.path_),r.validateFirebaseDataArg("OnDisconnect.set",1,e,this.path_,!1),i.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){i.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),r.validateWritablePath("OnDisconnect.setWithPriority",this.path_),r.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,e,this.path_,!1),r.validatePriority("OnDisconnect.setWithPriority",2,t,!1),i.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,o.wrapCallback(n)),o.promise},e.prototype.update=function(e,t){if(i.validateArgCount("OnDisconnect.update",1,2,arguments.length),r.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},s=0;s<e.length;++s)n[""+s]=e[s];e=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}r.validateFirebaseMergeDataArg("OnDisconnect.update",1,e,this.path_,!1),i.validateCallback("OnDisconnect.update",2,t,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,u.wrapCallback(t)),u.promise},e}();n.OnDisconnect=s},{"../core/util/util":63,"../core/util/validation":64,"@firebase/util":141}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../core/RepoInfo"),r=e("../core/PersistentConnection"),o=e("../core/RepoManager"),a=e("../realtime/Connection");n.DataConnection=r.PersistentConnection,r.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},r.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},n.RealTimeConnection=a.Connection,n.hijackHash=function(e){var t=r.PersistentConnection.prototype.put;return r.PersistentConnection.prototype.put=function(n,i,r,o){void 0!==o&&(o=e()),t.call(this,n,i,r,o)},function(){r.PersistentConnection.prototype.put=t}},n.ConnectionTarget=i.RepoInfo,n.queryIdentifier=function(e){return e.queryIdentifier()},n.listens=function(e){return e.repo.persistentConnection_.listens_},n.forceRestClient=function(e){o.RepoManager.getInstance().forceRestClient(e)}},{"../core/PersistentConnection":15,"../core/RepoInfo":18,"../core/RepoManager":19,"../realtime/Connection":81}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./util/util"),r=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(i.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',i.warn(e)},e}();n.AuthTokenProvider=r},{"./util/util":63}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./util/ImmutableTree"),r=e("./util/Path"),o=e("@firebase/util"),a=e("./snap/Node"),s=e("./snap/indexes/PriorityIndex"),u=e("@firebase/util"),l=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new i.ImmutableTree(n));var o=this.writeTree_.findRootMostValueAndPath(t);if(null!=o){var a=o.path,s=o.value,u=r.Path.relativePath(a,t);return s=s.updateChild(u,n),new e(this.writeTree_.set(a,s))}var l=new i.ImmutableTree(n),c=this.writeTree_.setTree(t,l);return new e(c)},e.prototype.addWrites=function(e,t){var n=this;return o.forEach(t,function(t,i){n=n.addWrite(e.child(t),i)}),n},e.prototype.removeWrite=function(t){if(t.isEmpty())return e.Empty;var n=this.writeTree_.setTree(t,i.ImmutableTree.Empty);return new e(n)},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(r.Path.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,function(t,n){e.push(new a.NamedNode(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new a.NamedNode(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new i.ImmutableTree(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(r.Path.Empty,this.writeTree_,t)},e.Empty=new e(new i.ImmutableTree(null)),e.applySubtreeWrite_=function(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);var r=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=e.applySubtreeWrite_(t.child(n),o,i)}),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(t.child(".priority"),r)),i},e}();n.CompoundWrite=l},{"./snap/Node":35,"./snap/indexes/PriorityIndex":41,"./util/ImmutableTree":54,"./util/Path":57,"@firebase/util":141}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("@firebase/app"),o=e("@firebase/util"),a=e("@firebase/util"),s=e("@firebase/util"),u=e("./util/util"),l=e("./util/Path"),c=e("./util/VisibilityMonitor"),h=e("./util/OnlineMonitor"),f=e("@firebase/util"),p=e("../realtime/Connection"),d=e("@firebase/util"),v=e("@firebase/util"),m=e("./ServerActions"),g=1e3,_=3e5,y=3e4,b=1.3,w=3e4,T="server_kill",E=3,S=function(e){function t(n,i,r,o,a,s){var l=e.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=i,l.onConnectStatus_=r,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=s,l.id=t.nextPersistentConnectionId_++,l.log_=u.logWrapper("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=g,l.maxReconnectDelay_=_,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),c.VisibilityMonitor.getInstance().on("visible",l.onVisible_,l),n.host.indexOf("fblocal")===-1&&h.OnlineMonitor.getInstance().on("online",l.onOnline_,l),l}return i.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(a.stringify(r)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},t.prototype.listen=function(e,t,n,i){var r=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+r),this.listens_[o]=this.listens_[o]||{},s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][r],"listen() called twice for same path/queryId.");var a={onComplete:i,hashFn:t,query:e,tag:n};this.listens_[o][r]=a,this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,i=e.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var a={p:r},s="q";e.tag&&(a.q=i.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest(s,a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,i);var l=n.listens_[r]&&n.listens_[r][o];l===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(r,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',r=t.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+i+" at ")+(r+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||f.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=y)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=f.isValidFormat(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";e.authToken_===t&&("ok"===i?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(i,r))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),i=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);var r={p:e},o="n";i&&(r.q=n,r.t=i),this.sendRequest(o,r)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,i){var r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,i){this.putInternal("p",e,t,n,i)},t.prototype.merge=function(e,t,n,i){this.putInternal("m",e,t,n,i)},t.prototype.putInternal=function(e,t,n,i,r){var o={p:t,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,function(i){t.log_(n+" response",i),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(i.s,i.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){var n=e.s;if("ok"!==n){var i=e.d;t.log_("reportStats","Error sending stats: "+i)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):u.error("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>w&&(this.reconnectDelay_=g),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*b)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},f=function(e){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)};this.realtime_={close:h,sendRequest:f};var v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(v).then(function(t){l?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new p.Connection(r,o.repoInfo_,e,n,i,function(e){u.warn(e+" ("+o.repoInfo_.toString()+")"),o.interrupt(T)},a))}).then(null,function(e){o.log_("Failed to get token: "+e),l||(d.CONSTANTS.NODE_ADMIN&&u.warn(e),h())})}},t.prototype.interrupt=function(e){u.log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){u.log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=g,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return u.ObjectToUniqueKey(e)}).join("$"):"default";var i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,i=new l.Path(e).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][t],delete this.listens_[i][t],0===o.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){u.log("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E&&(this.reconnectDelay_=y,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),o.forEach(this.listens_,function(t,n){o.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";d.CONSTANTS.NODE_ADMIN?t="admin_node":d.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+r.default.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?e["framework.cordova"]=1:v.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=h.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(m.ServerActions);n.PersistentConnection=S},{"../realtime/Connection":81,"./ServerActions":21,"./util/OnlineMonitor":56,"./util/Path":57,"./util/VisibilityMonitor":61,"./util/util":63,"@firebase/app":1,"@firebase/util":141,tslib:178}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("@firebase/util"),o=e("./util/util"),a=e("@firebase/util"),s=e("@firebase/util"),u=e("@firebase/util"),l=e("./ServerActions"),c=function(e){function t(t,n,i){var r=e.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=o.logWrapper("p:rest:"),r.listens_={},r}return i.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(r.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,i,r){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,i),l={};this.listens_[u]=l;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,i),s.safeGet(o.listens_,u)===l){var c;c=e?401==e?"permission_denied":"rest_error:"+e:"ok",r(c,null)}})},t.prototype.unlisten=function(e,n){var i=t.getListenId_(e,n);delete this.listens_[i]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var i=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var s=r&&r.accessToken;s&&(t.auth=s);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+e+"?"+u.querystring(t);i.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){i.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=a.jsonEval(c.responseText)}catch(e){o.warn("Failed to parse JSON response for "+l+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&o.warn("Got unsuccessful REST response for "+l+" Status: "+c.status),n(c.status);n=null}},c.open("GET",l,!0),c.send()})},t}(l.ServerActions);n.ReadonlyRestClient=c},{"./ServerActions":21,"./util/util":63,"@firebase/util":141,tslib:178}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./util/ServerValues"),r=e("./snap/nodeFromJSON"),o=e("./util/Path"),a=e("./SparseSnapshotTree"),s=e("./SyncTree"),u=e("./SnapshotHolder"),l=e("@firebase/util"),c=e("./util/util"),h=e("@firebase/util"),f=e("./AuthTokenProvider"),p=e("./stats/StatsManager"),d=e("./stats/StatsReporter"),v=e("./stats/StatsListener"),m=e("./view/EventQueue"),g=e("./PersistentConnection"),_=e("./ReadonlyRestClient"),y=e("../api/Database"),b="repo_interrupt",w=function(){function e(e,t,n){var i=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new a.SparseSnapshotTree,this.persistentConnection_=null;var r=new f.AuthTokenProvider(n);if(this.stats_=p.StatsManager.getCollection(e),t||c.beingCrawled())this.server_=new _.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!=typeof o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{l.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new g.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){i.server_.refreshAuthToken(e)}),this.statsReporter_=p.StatsManager.getOrCreateReporter(e,function(){return new d.StatsReporter(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new s.SyncTree({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new s.SyncTree({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new o.Path(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return i.generateWithValues({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,i){this.dataUpdateCount++;var a=new o.Path(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(i)if(n){var u=h.map(t,function(e){return r.nodeFromJSON(e)});s=this.serverSyncTree_.applyTaggedQueryMerge(a,u,i)}else{var l=r.nodeFromJSON(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(a,l,i)}else if(n){var c=h.map(t,function(e){return r.nodeFromJSON(e)});s=this.serverSyncTree_.applyServerMerge(a,c)}else{var f=r.nodeFromJSON(t);s=this.serverSyncTree_.applyServerOverwrite(a,f)}var p=a;s.length>0&&(p=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(p,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;c.each(e,function(e,n){
t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new o.Path("/.info/"+e),i=r.nodeFromJSON(t);this.infoData_.updateSnapshot(n,i);var a=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,a)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,o){var a=this;this.log_("set",{path:e.toString(),value:t,priority:n});var s=this.generateServerValues(),u=r.nodeFromJSON(t,n),l=i.resolveDeferredValueSnapshot(u,s),h=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserOverwrite(e,l,h,!0);this.eventQueue_.queueEvents(f),this.server_.put(e.toString(),u.val(!0),function(t,n){var i="ok"===t;i||c.warn("set at "+e+" failed: "+t);var r=a.serverSyncTree_.ackUserWrite(h,!i);a.eventQueue_.raiseEventsForChangedPath(e,r),a.callOnCompleteCallback(o,t,n)});var p=this.abortTransactions_(e);this.rerunTransactions_(p),this.eventQueue_.raiseEventsForChangedPath(p,[])},e.prototype.update=function(e,t,n){var o=this;this.log_("update",{path:e.toString(),value:t});var a=!0,s=this.generateServerValues(),u={};if(h.forEach(t,function(e,t){a=!1;var n=r.nodeFromJSON(t);u[e]=i.resolveDeferredValueSnapshot(n,s)}),a)c.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserMerge(e,u,l);this.eventQueue_.queueEvents(f),this.server_.merge(e.toString(),t,function(t,i){var r="ok"===t;r||c.warn("update at "+e+" failed: "+t);var a=o.serverSyncTree_.ackUserWrite(l,!r),s=a.length>0?o.rerunTransactions_(e):e;o.eventQueue_.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,t,i)}),h.forEach(t,function(t){var n=o.abortTransactions_(e.child(t));o.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=i.resolveDeferredValueTree(this.onDisconnect_,t),r=[];n.forEachTree(o.Path.Empty,function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new a.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(o.Path.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,i,r)})},e.prototype.onDisconnectSet=function(e,t,n){var i=this,o=r.nodeFromJSON(t);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,r){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(n,t,r)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,i){var o=this,a=r.nodeFromJSON(t,n);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(t,n){"ok"===t&&o.onDisconnect_.remember(e,a),o.callOnCompleteCallback(i,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var i=this;return h.isEmpty(t)?(c.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok")):void this.server_.onDisconnectMerge(e.toString(),t,function(o,a){"ok"===o&&h.forEach(t,function(t,n){var o=r.nodeFromJSON(n);i.onDisconnect_.remember(e.child(t),o)}),i.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(b)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(b)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new v.StatsListener(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);h.forEach(t,function(e,t){for(var i=e.length;i<n+2;i++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),c.log.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&c.exceptionGuard(function(){if("ok"==t)e(null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new y.Database(this))},enumerable:!0,configurable:!0}),e}();n.Repo=w},{"../api/Database":6,"./AuthTokenProvider":13,"./PersistentConnection":15,"./ReadonlyRestClient":16,"./SnapshotHolder":22,"./SparseSnapshotTree":23,"./SyncTree":25,"./snap/nodeFromJSON":43,"./stats/StatsListener":46,"./stats/StatsManager":47,"./stats/StatsReporter":48,"./util/Path":57,"./util/ServerValues":58,"./util/util":63,"./view/EventQueue":71,"@firebase/util":141}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("@firebase/util"),o=e("./storage/storage"),a=e("../realtime/Constants"),s=function(){function e(e,t,n,i,r){void 0===r&&(r=""),this.secure=t,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){i.assert("string"==typeof e,"typeof type must == string"),i.assert("object"==typeof t,"typeof params must == object");var n;if(e===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==a.LONG_POLLING)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var o=[];return r.forEach(t,function(e,t){o.push(e+"="+t)}),n+o.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();n.RepoInfo=s},{"../realtime/Constants":82,"./storage/storage":51,"@firebase/util":141}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./Repo"),o=e("./util/util"),a=e("./util/libs/parser"),s=e("./util/validation");e("./Repo_transaction");var u,l="databaseURL",c=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return u||(u=new e),u},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options[l];void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=a.parseRepoInfo(n),r=i.repoInfo;s.validateUrl("Invalid Firebase Database URL",1,i),i.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path).");var u=this.createRepo(r,e);return u.database},e.prototype.deleteRepo=function(e){var t=i.safeGet(this.repos_,e.app.name);t&&i.safeGet(t,e.repoInfo_.toURLString())===e||o.fatal("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=i.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var a=i.safeGet(n,e.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new r.Repo(e,this.useRestClient_,t),n[e.toURLString()]=a,a},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}();n.RepoManager=c},{"./Repo":17,"./Repo_transaction":20,"./util/libs/parser":62,"./util/util":63,"./util/validation":64,"@firebase/util":141}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("@firebase/util"),o=e("../api/Reference"),a=e("../api/DataSnapshot"),s=e("./util/Path"),u=e("./util/Tree"),l=e("./snap/indexes/PriorityIndex"),c=e("./util/util"),h=e("./util/ServerValues"),f=e("./util/validation"),p=e("@firebase/util"),d=e("./snap/nodeFromJSON"),v=e("./snap/ChildrenNode"),m=e("./Repo");!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(i=n.TransactionStatus||(n.TransactionStatus={})),m.Repo.MAX_TRANSACTION_RETRIES_=25,m.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},m.Repo.prototype.startTransaction=function(e,t,n,s){this.log_("transaction on "+e);var u=function(){},m=new o.Reference(this,e);m.on("value",u);var g=function(){m.off("value",u)},_={path:e,update:t,onComplete:n,status:null,order:c.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=this.getLatestState_(e);_.currentInputSnapshot=y;var b=_.update(y.val());if(void 0===b){if(_.unwatcher(),_.currentOutputSnapshotRaw=null,_.currentOutputSnapshotResolved=null,_.onComplete){var w=new a.DataSnapshot(_.currentInputSnapshot,new o.Reference(this,_.path),l.PRIORITY_INDEX);_.onComplete(null,!1,w)}}else{f.validateFirebaseData("transaction failed: Data returned ",b,_.path),_.status=i.RUN;var T=this.transactionQueueTree_.subTree(e),E=T.getValue()||[];E.push(_),T.setValue(E);var S=void 0;if("object"==typeof b&&null!==b&&p.contains(b,".priority"))S=p.safeGet(b,".priority"),r.assert(f.isValidPriority(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var C=this.serverSyncTree_.calcCompleteEventCache(e)||v.ChildrenNode.EMPTY_NODE;S=C.getPriority().val()}S=S;var x=this.generateServerValues(),P=d.nodeFromJSON(b,S),I=h.resolveDeferredValueSnapshot(P,x);_.currentOutputSnapshotRaw=P,_.currentOutputSnapshotResolved=I,_.currentWriteId=this.getNextWriteId_();var N=this.serverSyncTree_.applyUserOverwrite(e,I,_.currentWriteId,_.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,N),this.sendReadyTransactions_()}},m.Repo.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||v.ChildrenNode.EMPTY_NODE},m.Repo.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);r.assert(n.length>0,"Sending zero length transaction queue");var o=n.every(function(e){return e.status===i.RUN});o&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},m.Repo.prototype.sendTransactionQueue_=function(e,t){for(var n=this,u=t.map(function(e){return e.currentWriteId}),h=this.getLatestState_(e,u),f=h,p=h.hash(),d=0;d<t.length;d++){var v=t[d];r.assert(v.status===i.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=i.SENT,v.retryCount++;var m=s.Path.relativePath(e,v.path);f=f.updateChild(m,v.currentOutputSnapshotRaw)}var g=f.val(!0),_=e;this.server_.put(_.toString(),g,function(r){n.log_("transaction put response",{path:_.toString(),status:r});var s=[];if("ok"===r){for(var u=[],h=0;h<t.length;h++){if(t[h].status=i.COMPLETED,s=s.concat(n.serverSyncTree_.ackUserWrite(t[h].currentWriteId)),t[h].onComplete){var f=t[h].currentOutputSnapshotResolved,p=new o.Reference(n,t[h].path),d=new a.DataSnapshot(f,p,l.PRIORITY_INDEX);u.push(t[h].onComplete.bind(null,null,!0,d))}t[h].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,s);for(var h=0;h<u.length;h++)c.exceptionGuard(u[h])}else{if("datastale"===r)for(var h=0;h<t.length;h++)t[h].status===i.SENT_NEEDS_ABORT?t[h].status=i.NEEDS_ABORT:t[h].status=i.RUN;else{c.warn("transaction at "+_.toString()+" failed: "+r);for(var h=0;h<t.length;h++)t[h].status=i.NEEDS_ABORT,t[h].abortReason=r}n.rerunTransactions_(e)}},p)},m.Repo.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),i=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(i,n),n},m.Repo.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],u=[],v=e.filter(function(e){return e.status===i.RUN}),g=v.map(function(e){return e.currentWriteId}),_=0;_<e.length;_++){var y=e[_],b=s.Path.relativePath(t,y.path),w=!1,T=void 0;if(r.assert(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),y.status===i.NEEDS_ABORT)w=!0,T=y.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(y.currentWriteId,!0));else if(y.status===i.RUN)if(y.retryCount>=m.Repo.MAX_TRANSACTION_RETRIES_)w=!0,T="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(y.currentWriteId,!0));else{var E=this.getLatestState_(y.path,g);y.currentInputSnapshot=E;var S=e[_].update(E.val());if(void 0!==S){f.validateFirebaseData("transaction failed: Data returned ",S,y.path);var C=d.nodeFromJSON(S),x="object"==typeof S&&null!=S&&p.contains(S,".priority");x||(C=C.updatePriority(E.getPriority()));var P=y.currentWriteId,I=this.generateServerValues(),N=h.resolveDeferredValueSnapshot(C,I);y.currentOutputSnapshotRaw=C,y.currentOutputSnapshotResolved=N,y.currentWriteId=this.getNextWriteId_(),g.splice(g.indexOf(P),1),u=u.concat(this.serverSyncTree_.applyUserOverwrite(y.path,N,y.currentWriteId,y.applyLocally)),u=u.concat(this.serverSyncTree_.ackUserWrite(P,!0))}else w=!0,T="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(y.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,u),u=[],w&&(e[_].status=i.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[_].unwatcher),e[_].onComplete))if("nodata"===T){var O=new o.Reference(this,e[_].path),A=e[_].currentInputSnapshot,R=new a.DataSnapshot(A,O,l.PRIORITY_INDEX);n.push(e[_].onComplete.bind(null,null,!1,R))}else n.push(e[_].onComplete.bind(null,new Error(T),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var _=0;_<n.length;_++)c.exceptionGuard(n[_]);this.sendReadyTransactions_()}},m.Repo.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},m.Repo.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},m.Repo.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,i=e.getValue();if(null!==i)for(var r=0;r<i.length;r++)t.push(i[r]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},m.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==i.COMPLETED&&(n[r]=n[o],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},m.Repo.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},m.Repo.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],o=[],a=-1,s=0;s<t.length;s++)if(t[s].status===i.SENT_NEEDS_ABORT);else if(t[s].status===i.SENT)r.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,t[s].status=i.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(r.assert(t[s].status===i.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){var u=null;n.push(t[s].onComplete.bind(null,new Error("set"),!1,u))}a===-1?e.setValue(null):t.length=a+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),o);for(var s=0;s<n.length;s++)c.exceptionGuard(n[s])}}},{"../api/DataSnapshot":5,"../api/Reference":8,"./Repo":17,"./snap/ChildrenNode":32,"./snap/indexes/PriorityIndex":41,"./snap/nodeFromJSON":43,"./util/Path":57,"./util/ServerValues":58,"./util/Tree":60,"./util/util":63,"./util/validation":64,"@firebase/util":141}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.put=function(e,t,n,i){},e.prototype.merge=function(e,t,n,i){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}();n.ServerActions=i},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./snap/ChildrenNode"),r=function(){function e(){this.rootNode_=i.ChildrenNode.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();n.SnapshotHolder=r},{"./snap/ChildrenNode":32}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./util/Path"),r=e("./snap/indexes/PriorityIndex"),o=e("./util/CountedSet"),a=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){var n=this.children_.get(t);return n.find(e)}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new o.CountedSet);var i=t.getFront();this.children_.contains(i)||this.children_.add(i,new e);var r=this.children_.get(i);t=t.popFront(),r.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(r.PRIORITY_INDEX,function(e,t){n.remember(new i.Path(e),t)}),this.forget(e)}if(null!==this.children_){var o=e.getFront();if(e=e.popFront(),this.children_.contains(o)){var a=this.children_.get(o).forget(e);a&&this.children_.remove(o)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,r){var o=new i.Path(e.toString()+"/"+n);r.forEachTree(o,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}();n.SparseSnapshotTree=a},{"./snap/indexes/PriorityIndex":41,"./util/CountedSet":52,"./util/Path":57}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./view/CacheNode"),o=e("./snap/ChildrenNode"),a=e("@firebase/util"),s=e("@firebase/util"),u=e("./view/ViewCache"),l=e("./view/View"),c=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(i,"Reference.ts has not been loaded"),i},set:function(e){a.assert(!i,"__referenceConstructor has already been defined"),i=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return s.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var i=e.source.queryId;if(null!==i){var r=s.safeGet(this.views_,i);return a.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(e,t,n)}var o=[];return s.forEach(this.views_,function(i,r){o=o.concat(r.applyOperation(e,t,n))}),o},e.prototype.addEventRegistration=function(e,t,n,i,a){var c=e.queryIdentifier(),h=s.safeGet(this.views_,c);if(!h){var f=n.calcCompleteEventCache(a?i:null),p=!1;f?p=!0:i instanceof o.ChildrenNode?(f=n.calcCompleteEventChildren(i),p=!1):(f=o.ChildrenNode.EMPTY_NODE,p=!1);var d=new u.ViewCache(new r.CacheNode(f,p,!1),new r.CacheNode(i,a,!1));h=new l.View(e,d),this.views_[c]=h}return h.addEventRegistration(t),h.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,i){var r=t.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===r){var l=this;s.forEach(this.views_,function(e,t){a=a.concat(t.removeEventRegistration(n,i)),t.isEmpty()&&(delete l.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var c=s.safeGet(this.views_,r);c&&(a=a.concat(c.removeEventRegistration(n,i)),c.isEmpty()&&(delete this.views_[r],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:a}},e.prototype.getQueryViews=function(){var e=this,t=Object.keys(this.views_).map(function(t){return e.views_[t]});return t.filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return s.forEach(this.views_,function(n,i){t=t||i.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData())return this.getCompleteView();var n=e.queryIdentifier();return s.safeGet(this.views_,n)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e=s.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()});return e||null},e}();n.SyncPoint=c},{"./snap/ChildrenNode":32,"./view/CacheNode":65,"./view/View":74,"./view/ViewCache":75,"@firebase/util":141}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./util/util"),o=e("./operation/AckUserWrite"),a=e("./snap/ChildrenNode"),s=e("@firebase/util"),u=e("./util/ImmutableTree"),l=e("./operation/ListenComplete"),c=e("./operation/Merge"),h=e("./operation/Operation"),f=e("./operation/Overwrite"),p=e("./util/Path"),d=e("./SyncPoint"),v=e("./WriteTree"),m=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new v.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,i){return this.pendingWriteTree_.addOverwrite(e,t,n,i),i?this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var i=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.User,e,i))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(p.Path.Empty,!0):s.forEach(n.children,function(e,t){r=r.set(new p.Path(e),t)}),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new l.ListenComplete(h.OperationSource.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=e.parseQueryKey_(r),a=o.path,s=o.queryId,u=p.Path.relativePath(a,t),l=new f.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,i){var r=this.queryKeyForTag_(i);if(r){var o=e.parseQueryKey_(r),a=o.path,s=o.queryId,l=p.Path.relativePath(a,t),f=u.ImmutableTree.fromObject(n),d=new c.Merge(h.OperationSource.forServerTaggedQuery(s),l,f);return this.applyTaggedOperation_(a,d)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var i=this.queryKeyForTag_(n);if(i){var r=e.parseQueryKey_(i),o=r.path,a=r.queryId,s=p.Path.relativePath(o,t),u=new l.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=p.Path.relativePath(e,r);o=o||t.getCompleteServerCache(n),s=s||t.hasCompleteView()});var u=this.syncPointTree_.get(r);u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(p.Path.Empty)):(u=new d.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(r,u));var l;if(null!=o)l=!0;else{l=!1,o=a.ChildrenNode.EMPTY_NODE;var c=this.syncPointTree_.subtree(r);c.foreachChild(function(e,t){var n=t.getCompleteServerCache(p.Path.Empty);n&&(o=o.updateImmediateChild(e,n))})}var h=u.viewExistsForQuery(t);if(!h&&!t.getQueryParams().loadsAllData()){var f=e.makeQueryKey_(t);i.assert(!(f in this.queryToTagMap_),"View does not exist, but we have a tag");var v=e.getNextQueryTag_();this.queryToTagMap_[f]=v,this.tagToQueryMap_["_"+v]=f}var m=this.pendingWriteTree_.childWrites(r),g=u.addEventRegistration(t,n,m,o,l);if(!h&&!s){var _=u.viewForQuery(t);g=g.concat(this.setupListener_(t,_))}return g},e.prototype.removeEventRegistration=function(t,n,i){var r=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,i);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!h&&l.length>0&&!i)if(c){var _=null;this.listenProvider_.stopListening(e.queryForListening_(t),_)}else l.forEach(function(t){var n=r.queryToTagMap_[e.makeQueryKey_(t)];r.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(l)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=!0,i=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var i=p.Path.relativePath(t,e),r=n.getCompleteServerCache(i);if(r)return r});return i.calcCompleteEventCache(e,r,t,n)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){var i=t.getCompleteView();return[i]}var r=[];return t&&(r=t.getQueryViews()),s.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var i=t[n];if(!i.getQueryParams().loadsAllData()){var r=e.makeQueryKey_(i),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),l=this.syncPointTree_.subtree(r);if(o)i.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var i=[];return t&&(i=i.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),s.forEach(n,function(e,t){i=i.concat(t)}),i}),h=0;h<c.length;++h){var f=c[h];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return u},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){var t=e.getServerCache()||a.ChildrenNode.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return i?t.applyTaggedListenComplete(n.path,i):t.applyListenComplete(n.path);var o=r.errorForServerCode(e,n);return t.removeEventRegistration(n,null,o)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return i.assert(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new p.Path(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return s.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);i.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(p.Path.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,i);var r=t.get(p.Path.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(p.Path.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=i.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return r&&(o=o.concat(r.applyOperation(e,i,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,i){var r=this,o=t.get(p.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(p.Path.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=i.child(t),l=e.operationForChild(t);l&&(a=a.concat(r.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,i,n))),a},e.nextQueryTag_=1,e}();n.SyncTree=m},{"./SyncPoint":24,"./WriteTree":26,"./operation/AckUserWrite":27,"./operation/ListenComplete":28,"./operation/Merge":29,"./operation/Operation":30,"./operation/Overwrite":31,"./snap/ChildrenNode":32,"./util/ImmutableTree":54,"./util/Path":57,"./util/util":63,"@firebase/util":141}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("@firebase/util"),o=e("./util/Path"),a=e("./CompoundWrite"),s=e("./snap/indexes/PriorityIndex"),u=e("./snap/ChildrenNode"),l=function(){function e(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new c(e,this)},e.prototype.addOverwrite=function(e,t,n,i){
r.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){r.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});r.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var l=this.allWrites_[u];l.visible&&(u>=n&&this.recordContainsPath_(l,o.path)?a=!1:o.path.contains(l.path)&&(s=!0)),u--}if(a){if(s)return this.resetTree_(),!0;if(o.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(o.path);else{var c=o.children;i.forEach(c,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(o.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,i,r){if(i||r){var a=this.visibleWrites_.childCompoundWrite(t);if(!r&&a.isEmpty())return n;if(r||null!=n||a.hasCompleteWrite(o.Path.Empty)){var s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},l=e.layerTree_(this.allWrites_,s,t),c=n||u.ChildrenNode.EMPTY_NODE;return l.apply(c)}return null}var h=this.visibleWrites_.getCompleteNode(t);if(null!=h)return h;var f=this.visibleWrites_.childCompoundWrite(t);if(f.isEmpty())return n;if(null!=n||f.hasCompleteWrite(o.Path.Empty)){var c=n||u.ChildrenNode.EMPTY_NODE;return f.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=u.ChildrenNode.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(e);if(i)return i.isLeafNode()||i.forEachChild(s.PRIORITY_INDEX,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var r=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(s.PRIORITY_INDEX,function(e,t){var i=r.childCompoundWrite(new o.Path(e)).apply(t);n=n.updateImmediateChild(e,i)}),r.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}var a=this.visibleWrites_.childCompoundWrite(e);return a.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,i){r.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?i.getChild(t):a.apply(i.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var i=e.child(t),r=this.visibleWrites_.getCompleteNode(i);if(null!=r)return r;if(n.isCompleteForChild(t)){var o=this.visibleWrites_.childCompoundWrite(i);return o.apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,i,r,a){var s,u=this.visibleWrites_.childCompoundWrite(e),l=u.getCompleteNode(o.Path.Empty);if(null!=l)s=l;else{if(null==t)return[];s=u.apply(t)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=r?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),p=f.getNext();p&&c.length<i;)0!==h(p,n)&&c.push(p),p=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!i.findKey(e.children,function(n,i){return e.path.child(i).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,o.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var s=a.CompoundWrite.Empty,u=0;u<e.length;++u){var l=e[u];if(t(l)){var c=l.path,h=void 0;if(l.snap)n.contains(c)?(h=o.Path.relativePath(n,c),s=s.addWrite(h,l.snap)):c.contains(n)&&(h=o.Path.relativePath(c,n),s=s.addWrite(o.Path.Empty,l.snap.getChild(h)));else{if(!l.children)throw r.assertionError("WriteRecord should have .snap or .children");if(n.contains(c))h=o.Path.relativePath(n,c),s=s.addWrites(h,l.children);else if(c.contains(n))if(h=o.Path.relativePath(c,n),h.isEmpty())s=s.addWrites(o.Path.Empty,l.children);else{var f=i.safeGet(l.children,h.getFront());if(f){var p=f.getChild(h.popFront());s=s.addWrite(o.Path.Empty,p)}}}}}return s},e}();n.WriteTree=l;var c=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,i,r)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}();n.WriteTreeRef=c},{"./CompoundWrite":14,"./snap/ChildrenNode":32,"./snap/indexes/PriorityIndex":41,"./util/Path":57,"@firebase/util":141}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../util/Path"),o=e("./Operation"),a=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return i.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new r.Path(t));return new e(r.Path.Empty,n,this.revert)}return i.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();n.AckUserWrite=a},{"../util/Path":57,"./Operation":30,"@firebase/util":141}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/Path"),r=e("./Operation"),o=function(){function e(e,t){this.source=e,this.path=t,this.type=r.OperationType.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,i.Path.Empty):new e(this.source,this.path.popFront())},e}();n.ListenComplete=o},{"../util/Path":57,"./Operation":30}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Operation"),r=e("./Overwrite"),o=e("../util/Path"),a=e("@firebase/util"),s=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=i.OperationType.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(t));return n.isEmpty()?null:n.value?new r.Overwrite(this.source,o.Path.Empty,n.value):new e(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();n.Merge=s},{"../util/Path":57,"./Operation":30,"./Overwrite":31,"@firebase/util":141}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("@firebase/util");!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(i=n.OperationType||(n.OperationType={}));var o=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,r.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();n.OperationSource=o},{"@firebase/util":141}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Operation"),r=e("../util/Path"),o=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=i.OperationType.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,r.Path.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();n.Overwrite=o},{"../util/Path":57,"./Operation":30}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("tslib"),o=e("@firebase/util"),a=e("../util/util"),s=e("../util/SortedMap"),u=e("./Node"),l=e("./snap"),c=e("./indexes/PriorityIndex"),h=e("./indexes/KeyIndex"),f=e("./IndexMap"),p=e("./LeafNode"),d=e("./comparators"),v=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&l.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return i||(i=new e(new s.SortedMap(d.NAME_COMPARATOR),null,f.IndexMap.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||i},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?i:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new u.NamedNode(t,n),a=void 0,s=void 0,l=void 0;return n.isEmpty()?(a=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_)),l=a.isEmpty()?i:this.priorityNode_,new e(a,l,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(c.PRIORITY_INDEX,function(a,s){n[a]=s.val(t),i++,o&&e.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!t&&o&&r<2*i){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+l.priorityHashText(this.getPriority().val())+":"),this.forEachChild(c.PRIORITY_INDEX,function(t,n){var i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":a.sha1(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new u.NamedNode(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var i=this.children_.getIteratorFrom(e.name,u.NamedNode.Wrap),r=i.peek();null!=r&&t.compare(r,e)<0;)i.getNext(),r=i.peek();return i},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var i=this.children_.getReverseIteratorFrom(e.name,u.NamedNode.Wrap),r=i.peek();null!=r&&t.compare(r,e)>0;)i.getNext(),r=i.peek();return i},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===n.MAX_NODE?-1:0},e.prototype.withIndex=function(t){if(t===h.KEY_INDEX||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===h.KEY_INDEX||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(c.PRIORITY_INDEX),i=t.getIterator(c.PRIORITY_INDEX),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===h.KEY_INDEX?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}();n.ChildrenNode=v;var m=function(e){function t(){return e.call(this,new s.SortedMap(d.NAME_COMPARATOR),v.EMPTY_NODE,f.IndexMap.Default)||this}return r.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return v.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(v);n.MaxNode=m,n.MAX_NODE=new m,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,v.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,n.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=v.EMPTY_NODE,p.LeafNode.__childrenNodeConstructor=v,l.setMaxNode(n.MAX_NODE),c.setMaxNode(n.MAX_NODE)},{"../util/SortedMap":59,"../util/util":63,"./IndexMap":33,"./LeafNode":34,"./Node":35,"./comparators":37,"./indexes/KeyIndex":39,"./indexes/PriorityIndex":41,"./snap":44,"@firebase/util":141,tslib:178}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("@firebase/util"),o=e("./childSet"),a=e("@firebase/util"),s=e("./Node"),u=e("./indexes/PriorityIndex"),l=e("./indexes/KeyIndex"),c={},h=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return r.assert(c&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),i=i||new e({".priority":c},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===c?null:t},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){r.assert(t!==l.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],u=!1,h=n.getIterator(s.NamedNode.Wrap),f=h.getNext();f;)u=u||t.isDefinedOn(f.node),i.push(f),f=h.getNext();var p;p=u?o.buildChildSet(i,t.getCompare()):c;var d=t.toString(),v=a.clone(this.indexSet_);v[d]=t;var m=a.clone(this.indexes_);return m[d]=p,new e(m,v)},e.prototype.addToIndexes=function(t,n){var i=this,u=a.map(this.indexes_,function(e,u){var l=a.safeGet(i.indexSet_,u);if(r.assert(l,"Missing index implementation for "+u),e===c){if(l.isDefinedOn(t.node)){for(var h=[],f=n.getIterator(s.NamedNode.Wrap),p=f.getNext();p;)p.name!=t.name&&h.push(p),p=f.getNext();return h.push(t),o.buildChildSet(h,l.getCompare())}return c}var d=n.get(t.name),v=e;return d&&(v=v.remove(new s.NamedNode(t.name,d))),v.insert(t,t.node)});return new e(u,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var i=a.map(this.indexes_,function(e){if(e===c)return e;var i=n.get(t.name);return i?e.remove(new s.NamedNode(t.name,i)):e});return new e(i,this.indexSet_)},e}();n.IndexMap=h},{"./Node":35,"./childSet":36,"./indexes/KeyIndex":39,"./indexes/PriorityIndex":41,"@firebase/util":141}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("@firebase/util"),o=e("../util/util"),a=e("./snap"),s=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,r.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var i=t.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(r.assert(".priority"!==i||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+a.priorityHashText(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?o.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=o.sha1(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(r.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(i);return r.assert(o>=0,"Unknown leaf type: "+n),r.assert(a>=0,"Unknown leaf type: "+i),o===a?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();n.LeafNode=s},{"../util/util":63,"./snap":44,"@firebase/util":141}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}();n.NamedNode=i},{}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/SortedMap"),r=e("../util/SortedMap"),o=Math.log(2),a=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/o,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var i=n(this.count);this.bits_=e+1&i}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}();n.buildChildSet=function(e,t,n,o){e.sort(t);var s=function(t,r){var o,a,u=r-t;if(0==u)return null;if(1==u)return o=e[t],a=n?n(o):o,new i.LLRBNode(a,o.node,i.LLRBNode.BLACK,null,null);var l=parseInt(u/2,10)+t,c=s(t,l),h=s(l+1,r);return o=e[l],a=n?n(o):o,new i.LLRBNode(a,o.node,i.LLRBNode.BLACK,c,h)},u=function(t){for(var r=null,o=null,a=e.length,u=function(t,r){var o=a-t,u=a;a-=t;var c=s(o+1,u),h=e[o],f=n?n(h):h;l(new i.LLRBNode(f,h.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var h=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));h?u(f,i.LLRBNode.BLACK):(u(f,i.LLRBNode.BLACK),u(f,i.LLRBNode.RED))}return o},l=new a(e.length),c=u(l);return new r.SortedMap(o||t,c)}},{"../util/SortedMap":59}],37:[function(e,t,n){"use strict";function i(e,t){return o.nameCompare(e.name,t.name)}function r(e,t){return o.nameCompare(e,t)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/util");n.NAME_ONLY_COMPARATOR=i,n.NAME_COMPARATOR=r},{"../util/util":63}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Node"),r=e("../../util/util"),o=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new i.NamedNode(r.MIN_NAME,e),o=new i.NamedNode(r.MIN_NAME,t);return 0!==this.compare(n,o)},e.prototype.minPost=function(){return i.NamedNode.MIN},e}();n.Index=o},{"../../util/util":63,"../Node":35}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("tslib"),o=e("./Index"),a=e("../Node"),s=e("../../util/util"),u=e("@firebase/util"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return s.nameCompare(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return a.NamedNode.MIN},t.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,i)},t.prototype.makePost=function(e,t){return u.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new a.NamedNode(e,i)},t.prototype.toString=function(){return".key"},t}(o.Index);n.KeyIndex=l,n.KEY_INDEX=new l},{"../../util/util":63,"../Node":35,"./Index":38,"@firebase/util":141,tslib:178}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("@firebase/util"),o=e("../../util/util"),a=e("./Index"),s=e("../ChildrenNode"),u=e("../Node"),l=e("../nodeFromJSON"),c=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,r.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?o.nameCompare(e.name,t.name):r},t.prototype.makePost=function(e,t){var n=l.nodeFromJSON(e),i=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(t,i)},t.prototype.maxPost=function(){var e=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(a.Index);n.PathIndex=c},{"../../util/util":63,"../ChildrenNode":32,"../Node":35,"../nodeFromJSON":43,"./Index":38,"@firebase/util":141,tslib:178}],41:[function(e,t,n){"use strict";function i(e){o=e}function r(e){a=e}Object.defineProperty(n,"__esModule",{value:!0});var o,a,s=e("tslib"),u=e("./Index"),l=e("../../util/util"),c=e("../Node"),h=e("../LeafNode");n.setNodeFromJSON=i,n.setMaxNode=r;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?l.nameCompare(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return c.NamedNode.MIN},t.prototype.maxPost=function(){return new c.NamedNode(l.MAX_NAME,new h.LeafNode("[PRIORITY-POST]",a))},t.prototype.makePost=function(e,t){var n=o(e);return new c.NamedNode(t,new h.LeafNode("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(u.Index);n.PriorityIndex=f,n.PRIORITY_INDEX=new f},{"../../util/util":63,"../LeafNode":34,"../Node":35,"./Index":38,tslib:178}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./Index"),o=e("../Node"),a=e("../../util/util"),s=e("../nodeFromJSON"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?a.nameCompare(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return o.NamedNode.MIN},t.prototype.maxPost=function(){return o.NamedNode.MAX},t.prototype.makePost=function(e,t){var n=s.nodeFromJSON(e);return new o.NamedNode(t,n)},t.prototype.toString=function(){return".value"},t}(r.Index);n.ValueIndex=u,n.VALUE_INDEX=new u},{"../../util/util":63,"../Node":35,"../nodeFromJSON":43,"./Index":38,tslib:178}],43:[function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=null),null===e)return r.ChildrenNode.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),u.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){var n=e;return new o.LeafNode(n,i(t))}if(e instanceof Array||!p){var d=r.ChildrenNode.EMPTY_NODE,v=e;return s.forEach(v,function(e,t){if(s.contains(v,e)&&"."!==e.substring(0,1)){var n=i(t);!n.isLeafNode()&&n.isEmpty()||(d=d.updateImmediateChild(e,n))}}),d.updatePriority(i(t))}var m=[],g=!1,_=e;if(s.forEach(_,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=i(_[e]);n.isEmpty()||(g=g||!n.getPriority().isEmpty(),m.push(new a.NamedNode(e,n)))}}),0==m.length)return r.ChildrenNode.EMPTY_NODE;var y=l.buildChildSet(m,c.NAME_ONLY_COMPARATOR,function(e){return e.name},c.NAME_COMPARATOR);if(g){var b=l.buildChildSet(m,f.PRIORITY_INDEX.getCompare());return new r.ChildrenNode(y,i(t),new h.IndexMap({".priority":b},{".priority":f.PRIORITY_INDEX}))}return new r.ChildrenNode(y,i(t),h.IndexMap.Default)}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./ChildrenNode"),o=e("./LeafNode"),a=e("./Node"),s=e("@firebase/util"),u=e("@firebase/util"),l=e("./childSet"),c=e("./comparators"),h=e("./IndexMap"),f=e("./indexes/PriorityIndex"),p=!0;n.nodeFromJSON=i,f.setNodeFromJSON(i)},{"./ChildrenNode":32,"./IndexMap":33,"./LeafNode":34,"./Node":35,"./childSet":36,"./comparators":37,"./indexes/PriorityIndex":41,"@firebase/util":141}],44:[function(e,t,n){"use strict";function i(e){r=e}Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("@firebase/util"),a=e("../util/util"),s=e("@firebase/util");n.setMaxNode=i,n.priorityHashText=function(e){return"number"==typeof e?"number:"+a.doubleToIEEE754String(e):"string:"+e},n.validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===r||e.isEmpty(),"priority of unexpected type.");o.assert(e===r||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},{"../util/util":63,"@firebase/util":141}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("@firebase/util"),o=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),r.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return i.deepCopy(this.counters_)},e}();n.StatsCollection=o},{"@firebase/util":141}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=i.clone(e);return this.last_&&i.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}();n.StatsListener=r},{"@firebase/util":141}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./StatsCollection"),r=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new i.StatsCollection),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}();n.StatsManager=r},{"./StatsCollection":45}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../util/util"),o=e("./StatsListener"),a=1e4,s=3e4,u=3e5,l=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new o.StatsListener(e);var n=a+(s-a)*Math.random();r.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},o=!1;i.forEach(t,function(t,r){r>0&&i.contains(e.statsToReport_,t)&&(n[t]=r,o=!0)}),o&&this.server_.reportStats(n),r.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*u))},e}();n.StatsReporter=l},{"../util/util":63,"./StatsListener":46,"@firebase/util":141}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),i.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:i.jsonEval(t)},e.prototype.remove=function(e){
this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}();n.DOMStorageWrapper=r},{"@firebase/util":141}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return i.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}();n.MemoryStorage=r},{"@firebase/util":141}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./DOMStorageWrapper"),r=e("./MemoryStorage"),o=function(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new i.DOMStorageWrapper(t)}}catch(e){}return new r.MemoryStorage};n.PersistentStorage=o("localStorage"),n.SessionStorage=o("sessionStorage")},{"./DOMStorageWrapper":49,"./MemoryStorage":50}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return i.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return i.isEmpty(this.set)},e.prototype.count=function(){return i.getCount(this.set)},e.prototype.each=function(e){i.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return i.forEach(this.set,function(t){e.push(t)}),e},e}();n.CountedSet=r},{"@firebase/util":141}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(e){this.allowedEvents_=e,this.listeners_={},i.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var i=this.listeners_[e].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var i=this.getInitialEvent(e);i&&t.apply(n,i)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var i=this.listeners_[e]||[],r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)},e.prototype.validateEventType_=function(e){i.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}();n.EventEmitter=r},{"@firebase/util":141}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("./SortedMap"),o=e("./Path"),a=e("./util"),s=e("@firebase/util"),u=function(){return i||(i=new r.SortedMap(a.stringCompare)),i},l=function(){function e(e,t){void 0===t&&(t=u()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return s.forEach(t,function(e,t){n=n.set(new o.Path(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:o.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=r){var a=new o.Path(n).child(r.path);return{path:a,value:r.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),i=this.children.get(n);return null!==i?i.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var i=t.getFront(),r=this.children.get(i)||e.Empty,o=r.set(t.popFront(),n),a=this.children.insert(i,o);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),i=this.children.get(n);if(i){var r=i.remove(t.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var i=t.getFront(),r=this.children.get(i)||e.Empty,o=r.setTree(t.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(o.Path.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(e.child(i),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,o.Path.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var i=!!this.value&&n(t,this.value);if(i)return i;if(e.isEmpty())return null;var r=e.getFront(),o=this.children.get(r);return o?o.findOnPath_(e.popFront(),t.child(r),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,o.Path.Empty,t)},e.prototype.foreachOnPath_=function(t,n,i){if(t.isEmpty())return this;this.value&&i(n,this.value);var r=t.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(t.popFront(),n.child(r),i):e.Empty},e.prototype.foreach=function(e){this.foreach_(o.Path.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,i){i.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}();n.ImmutableTree=l},{"./Path":57,"./SortedMap":59,"./util":63,"@firebase/util":141}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util");n.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var o=r===t;t=r;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=e.charAt(r%64),r=Math.floor(r/64);i.assert(0===r,"Cannot push at time == 0");var u=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=e.charAt(n[a]);return i.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},{"@firebase/util":141}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("@firebase/util"),o=e("./EventEmitter"),a=e("@firebase/util"),s=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||"undefined"==typeof window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return r.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(o.EventEmitter);n.OnlineMonitor=s},{"./EventEmitter":53,"@firebase/util":141,tslib:178}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./util"),r=e("@firebase/util"),o=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(t instanceof e)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var r=t.split("/"),i=0;i<r.length;i++)r[i].length>0&&n.push(r[i]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var i=t.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),o=0;o<n.length&&o<r.length;o++){var a=i.nameCompare(n[o],r[o]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}();n.Path=o;var a=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=r.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=r.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=r.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}();n.ValidationPath=a},{"./util":63,"@firebase/util":141}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./Path"),o=e("../SparseSnapshotTree"),a=e("../snap/LeafNode"),s=e("../snap/nodeFromJSON"),u=e("../snap/indexes/PriorityIndex");n.generateWithValues=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},n.resolveDeferredValue=function(e,t){return e&&"object"==typeof e?(i.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},n.resolveDeferredValueTree=function(e,t){var i=new o.SparseSnapshotTree;return e.forEachTree(new r.Path(""),function(e,r){i.remember(e,n.resolveDeferredValueSnapshot(r,t))}),i},n.resolveDeferredValueSnapshot=function(e,t){var i,r=e.getPriority().val(),o=n.resolveDeferredValue(r,t);if(e.isLeafNode()){var l=e,c=n.resolveDeferredValue(l.getValue(),t);return c!==l.getValue()||o!==l.getPriority().val()?new a.LeafNode(c,s.nodeFromJSON(o)):e}var h=e;return i=h,o!==h.getPriority().val()&&(i=i.updatePriority(new a.LeafNode(o))),h.forEachChild(u.PRIORITY_INDEX,function(e,r){var o=n.resolveDeferredValueSnapshot(r,t);o!==r&&(i=i.updateImmediateChild(e,o))}),i}},{"../SparseSnapshotTree":23,"../snap/LeafNode":34,"../snap/indexes/PriorityIndex":41,"../snap/nodeFromJSON":43,"./Path":57,"@firebase/util":141}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}();n.SortedMapIterator=i;var r=function(){function e(t,n,i,r,o){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:a.EMPTY_NODE,this.right=null!=o?o:a.EMPTY_NODE}return e.prototype.copy=function(t,n,i,r,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var i,r;return r=this,i=n(e,r.key),r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(e=this.left.check_(),e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}();n.LLRBNode=r;var o=function(){function e(){}return e.prototype.copy=function(e,t,n,i,r){return this},e.prototype.insert=function(e,t,n){return new r(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}();n.LLRBEmptyNode=o;var a=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,r.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,r.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,i=null;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new i(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new i(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new i(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new i(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new o,e}();n.SortedMap=a},{}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./Path"),o=e("@firebase/util"),a=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}();n.TreeNode=a;var s=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new a),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,i=t instanceof r.Path?t:new r.Path(t),s=this;null!==(n=i.getFront());){var u=o.safeGet(s.node_.children,n)||new a;s=new e(n,s,u),i=i.popFront()}return s},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){i.assert("undefined"!=typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;o.forEach(this.node_.children,function(i,r){t(new e(i,n,r))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new r.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),i=o.contains(this.node_.children,e);n&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();n.Tree=s},{"./Path":57,"@firebase/util":141}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./EventEmitter"),o=e("@firebase/util"),a=function(e){function t(){var t,n,i=e.call(this,["visible"])||this;return"undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==i.visible_&&(i.visible_=e,i.trigger("visible",e))},!1),i}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(r.EventEmitter);n.VisibilityMonitor=a},{"./EventEmitter":53,"@firebase/util":141,tslib:178}],62:[function(e,t,n){"use strict";function i(e){for(var t="",n=e.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}function r(e){var t={};e.startsWith("?")&&(e=e.substring(1));for(var n=0,i=e.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var o=r.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):s.warn("Invalid query segment '"+r+"' in query '"+e+"'")}}return t}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Path"),a=e("../../RepoInfo"),s=e("../util");n.parseRepoInfo=function(e){var t=n.parseURL(e),i=t.subdomain;"firebase"===t.domain&&s.fatal(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!=i||"localhost"===t.domain||s.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||s.warnIfPageIsSecure();var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new a.RepoInfo(t.host,t.secure,i,r),path:new o.Path(t.pathString)}},n.parseURL=function(e){var t="",n="",o="",a="",s=!0,u="https",l=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");h===-1&&(h=e.length);var f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(a=i(e.substring(h,f)));var p=r(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=e.length;var d=t.split(".");3===d.length?(n=d[1],o=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,c).toLowerCase()&&(n="localhost"),""===o&&"ns"in p&&(o=p.ns)}return{host:t,port:l,domain:n,subdomain:o,secure:s,scheme:u,pathString:a}}},{"../../RepoInfo":18,"../Path":57,"../util":63}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("@firebase/util"),o=e("@firebase/util"),a=e("@firebase/util"),s=e("@firebase/util"),u=e("@firebase/util"),l=e("../storage/storage"),c=e("@firebase/util"),h=e("@firebase/logger"),f=new h.Logger("@firebase/database");n.LUIDGenerator=function(){var e=1;return function(){return e++}}(),n.sha1=function(e){var t=s.stringToByteArray(e),n=new a.Sha1;n.update(t);var i=n.digest();return o.base64.encodeByteArray(i)};var p=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=0;i<e.length;i++)n+=Array.isArray(e[i])||e[i]&&"object"==typeof e[i]&&"number"==typeof e[i].length?p.apply(null,e[i]):"object"==typeof e[i]?u.stringify(e[i]):e[i],n+=" ";return n};n.logger=null;var d=!0;n.enableLogging=function(e,t){i.assert(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(n.logger=f.log.bind(f),t&&l.SessionStorage.set("logging_enabled",!0)):"function"==typeof e?n.logger=e:(n.logger=null,l.SessionStorage.remove("logging_enabled"))},n.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(d===!0&&(d=!1,null===n.logger&&l.SessionStorage.get("logging_enabled")===!0&&n.enableLogging(!0)),n.logger){var i=p.apply(null,e);n.logger(i)}},n.logWrapper=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];n.log.apply(void 0,[e].concat(t))}},n.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+p.apply(void 0,e);f.error(n)},n.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+p.apply(void 0,e);throw f.error(n),new Error(n)},n.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+p.apply(void 0,e);f.warn(n)},n.warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&n.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},n.warnAboutUnsupportedMethod=function(e){n.warn(e+" is unsupported and will likely change soon.  Please do not use.")},n.isInvalidJSONNumber=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},n.executeWhenDOMReady=function(e){if(c.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){return document.body?void(t||(t=!0,e())):void setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},n.MIN_NAME="[MIN_NAME]",n.MAX_NAME="[MAX_NAME]",n.nameCompare=function(e,t){if(e===t)return 0;if(e===n.MIN_NAME||t===n.MAX_NAME)return-1;if(t===n.MIN_NAME||e===n.MAX_NAME)return 1;var i=n.tryParseInt(e),r=n.tryParseInt(t);return null!==i?null!==r?i-r==0?e.length-t.length:i-r:-1:null!==r?1:e<t?-1:1},n.stringCompare=function(e,t){return e===t?0:e<t?-1:1},n.requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+u.stringify(t))},n.ObjectToUniqueKey=function(e){if("object"!=typeof e||null===e)return u.stringify(e);var t=[];for(var i in e)t.push(i);t.sort();for(var r="{",o=0;o<t.length;o++)0!==o&&(r+=","),r+=u.stringify(t[o]),r+=":",r+=n.ObjectToUniqueKey(e[t[o]]);return r+="}"},n.splitStringBySize=function(e,t){var n=e.length;if(n<=t)return[e];for(var i=[],r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i},n.each=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else r.forEach(e,function(e,n){return t(n,e)})},n.bindCallback=function(e,t){return t?e.bind(t):e},n.doubleToIEEE754String=function(e){i.assert(!n.isInvalidJSONNumber(e),"Invalid JSON number");var t,r,o,a,s,u,l,c=11,h=52,f=(1<<c-1)-1;for(0===e?(r=0,o=0,t=1/e===-(1/0)?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-f)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),f),r=a+f,o=Math.round(e*Math.pow(2,h-a)-Math.pow(2,h))):(r=0,o=Math.round(e/Math.pow(2,1-f-h)))),u=[],s=h;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=c;s;s-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(t?1:0),u.reverse(),l=u.join("");var p="";for(s=0;s<64;s+=8){var d=parseInt(l.substr(s,8),2).toString(16);1===d.length&&(d="0"+d),p+=d}return p.toLowerCase()},n.isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},n.isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},n.errorForServerCode=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var i=new Error(e+" at "+t.path.toString()+": "+n);return i.code=e.toUpperCase(),i},n.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),n.tryParseInt=function(e){if(n.INTEGER_REGEXP_.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},n.exceptionGuard=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw n.warn("Exception was thrown by user callback.",t),e},Math.floor(0))}},n.callUserCallback=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];"function"==typeof e&&n.exceptionGuard(function(){e.apply(void 0,t)})},n.beingCrawled=function(){var e="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},n.exportPropGetter=function(e,t,n){Object.defineProperty(e,t,{get:n})},n.setTimeoutNonBlocking=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}},{"../storage/storage":51,"@firebase/logger":86,"@firebase/util":141}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Path"),r=e("@firebase/util"),o=e("./util"),a=e("@firebase/util"),s=e("@firebase/util");n.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,n.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,n.MAX_LEAF_SIZE_=10485760,n.isValidKey=function(e){return"string"==typeof e&&0!==e.length&&!n.INVALID_KEY_REGEX_.test(e)},n.isValidPathString=function(e){return"string"==typeof e&&0!==e.length&&!n.INVALID_PATH_REGEX_.test(e)},n.isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),n.isValidPathString(e)},n.isValidPriority=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!o.isInvalidJSONNumber(e)||e&&"object"==typeof e&&r.contains(e,".sv")},n.validateFirebaseDataArg=function(e,t,i,r,o){o&&void 0===i||n.validateFirebaseData(a.errorPrefix(e,t,o),i,r)},n.validateFirebaseData=function(e,t,a){var u=a instanceof i.Path?new i.ValidationPath(a,e):a;if(void 0===t)throw new Error(e+"contains undefined "+u.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+u.toErrorString()+" with contents = "+t.toString());
if(o.isInvalidJSONNumber(t))throw new Error(e+"contains "+t.toString()+" "+u.toErrorString());if("string"==typeof t&&t.length>n.MAX_LEAF_SIZE_/3&&s.stringLength(t)>n.MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+n.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var l=!1,c=!1;if(r.forEach(t,function(t,i){if(".value"===t)l=!0;else if(".priority"!==t&&".sv"!==t&&(c=!0,!n.isValidKey(t)))throw new Error(e+" contains an invalid key ("+t+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(t),n.validateFirebaseData(e,i,u),u.pop()}),l&&c)throw new Error(e+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},n.validateFirebaseMergePaths=function(e,t){var r,o;for(r=0;r<t.length;r++){o=t[r];for(var a=o.slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!n.isValidKey(a[s]))throw new Error(e+"contains an invalid key ("+a[s]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(i.Path.comparePaths);var u=null;for(r=0;r<t.length;r++){if(o=t[r],null!==u&&u.contains(o))throw new Error(e+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},n.validateFirebaseMergeDataArg=function(e,t,o,s,u){if(!u||void 0!==o){var l=a.errorPrefix(e,t,u);if(!o||"object"!=typeof o||Array.isArray(o))throw new Error(l+" must be an object containing the children to replace.");var c=[];r.forEach(o,function(e,t){var r=new i.Path(e);if(n.validateFirebaseData(l,t,s.child(r)),".priority"===r.getBack()&&!n.isValidPriority(t))throw new Error(l+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(r)}),n.validateFirebaseMergePaths(l,c)}},n.validatePriority=function(e,t,i,r){if(!r||void 0!==i){if(o.isInvalidJSONNumber(i))throw new Error(a.errorPrefix(e,t,r)+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!n.isValidPriority(i))throw new Error(a.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},n.validateEventType=function(e,t,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},n.validateKey=function(e,t,i,r){if(!(r&&void 0===i||n.isValidKey(i)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},n.validatePathString=function(e,t,i,r){if(!(r&&void 0===i||n.isValidPathString(i)))throw new Error(a.errorPrefix(e,t,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},n.validateRootPathString=function(e,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),n.validatePathString(e,t,i,r)},n.validateWritablePath=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},n.validateUrl=function(e,t,i){var r=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!n.isValidKey(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==r.length&&!n.isValidRootPathString(r))throw new Error(a.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},n.validateCredential=function(e,t,n,i){if((!i||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(e,t,i)+"must be a valid credential (a string).")},n.validateBoolean=function(e,t,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(e,t,i)+"must be a boolean.")},n.validateString=function(e,t,n,i){if((!i||void 0!==n)&&"string"!=typeof n)throw new Error(a.errorPrefix(e,t,i)+"must be a valid string.")},n.validateObject=function(e,t,n,i){if(!(i&&void 0===n||n&&"object"==typeof n&&null!==n))throw new Error(a.errorPrefix(e,t,i)+"must be a valid object.")},n.validateObjectContainsKey=function(e,t,n,i,o,s){var u=n&&"object"==typeof n&&r.contains(n,i);if(!u){if(o)return;throw new Error(a.errorPrefix(e,t,o)+'must contain the key "'+i+'"')}if(s){var l=r.safeGet(n,i);if("number"===s&&"number"!=typeof l||"string"===s&&"string"!=typeof l||"boolean"===s&&"boolean"!=typeof l||"function"===s&&"function"!=typeof l||"object"===s&&"object"!=typeof l&&l)throw o?new Error(a.errorPrefix(e,t,o)+'contains invalid value for key "'+i+'" (must be of type "'+s+'")'):new Error(a.errorPrefix(e,t,o)+'must contain the key "'+i+'" with type "'+s+'"')}}},{"./Path":57,"./util":63,"@firebase/util":141}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();n.CacheNode=i},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,r){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=i,this.prevName=r}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,i){return new e(e.CHILD_CHANGED,n,t,i)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}();n.Change=i},{}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./Change"),o=e("@firebase/util"),a=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t==r.Change.CHILD_ADDED||t==r.Change.CHILD_CHANGED||t==r.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=i.safeGet(this.changeMap_,n);if(a){var s=a.type;if(t==r.Change.CHILD_ADDED&&s==r.Change.CHILD_REMOVED)this.changeMap_[n]=r.Change.childChangedChange(n,e.snapshotNode,a.snapshotNode);else if(t==r.Change.CHILD_REMOVED&&s==r.Change.CHILD_ADDED)delete this.changeMap_[n];else if(t==r.Change.CHILD_REMOVED&&s==r.Change.CHILD_CHANGED)this.changeMap_[n]=r.Change.childRemovedChange(n,a.oldSnap);else if(t==r.Change.CHILD_CHANGED&&s==r.Change.CHILD_ADDED)this.changeMap_[n]=r.Change.childAddedChange(n,e.snapshotNode);else{if(t!=r.Change.CHILD_CHANGED||s!=r.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap_[n]=r.Change.childChangedChange(n,e.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return i.getValues(this.changeMap_)},e}();n.ChildChangeAccumulator=a},{"./Change":66,"@firebase/util":141}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./CacheNode"),r=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}();n.NoCompleteChildSource_=r,n.NO_COMPLETE_CHILD_SOURCE=new r;var o=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new i.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,t,1,n,e);return 0===r.length?null:r[0]},e}();n.WriteTreeCompleteChildSource=o},{"./CacheNode":65}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=function(){function e(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+i.stringify(this.snapshot.exportVal())},e}();n.DataEvent=r;var o=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();n.CancelEvent=o},{"@firebase/util":141}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../snap/Node"),r=e("./Change"),o=e("@firebase/util"),a=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var i=this,o=[],a=[];return e.forEach(function(e){e.type===r.Change.CHILD_CHANGED&&i.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(r.Change.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(o,r.Change.CHILD_REMOVED,e,n,t),this.generateEventsForType_(o,r.Change.CHILD_ADDED,e,n,t),this.generateEventsForType_(o,r.Change.CHILD_MOVED,a,n,t),this.generateEventsForType_(o,r.Change.CHILD_CHANGED,e,n,t),this.generateEventsForType_(o,r.Change.VALUE,e,n,t),o},e.prototype.generateEventsForType_=function(e,t,n,i,r){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,r);i.forEach(function(i){i.respondsTo(t.type)&&e.push(i.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new i.NamedNode(e.childName,e.snapshotNode),r=new i.NamedNode(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}();n.EventGenerator=a},{"../snap/Node":35,"./Change":66,"@firebase/util":141}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/util"),r=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.getPath();null===t||r.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new o(r)),t.add(i)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];if(i){var r=i.getPath();e(r)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},e}();n.EventQueue=r;var o=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();i.logger&&i.log("event: "+t.toString()),i.exceptionGuard(n)}}},e.prototype.getPath=function(){return this.path_},e}();n.EventList=o},{"../util/util":63}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../api/DataSnapshot"),r=e("./Event"),o=e("@firebase/util"),a=e("@firebase/util"),s=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new r.DataEvent("value",this,new i.DataSnapshot(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callback_;return function(){i.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new r.CancelEvent(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}();n.ValueEventRegistration=s;var u=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new r.CancelEvent(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new r.DataEvent(e.type,this,new i.DataSnapshot(e.snapshotNode,n,o),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var i=this.callbacks_[e.eventType];return function(){i.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=o.getCount(t.callbacks_),i=o.getCount(this.callbacks_);if(n===i){if(1===n){var r=o.getAnyKey(t.callbacks_),a=o.getAnyKey(this.callbacks_);return!(a!==r||t.callbacks_[r]&&this.callbacks_[a]&&t.callbacks_[r]!==this.callbacks_[a])}return o.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}();n.ChildEventRegistration=u},{"../../api/DataSnapshot":5,"./Event":69,"@firebase/util":141}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../util/util"),o=e("../snap/indexes/KeyIndex"),a=e("../snap/indexes/PriorityIndex"),s=e("../snap/indexes/ValueIndex"),u=e("../snap/indexes/PathIndex"),l=e("./filter/IndexedFilter"),c=e("./filter/LimitedFilter"),h=e("./filter/RangedFilter"),f=e("@firebase/util"),p=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:r.MIN_NAME},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:r.MAX_NAME},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return i.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=i}return this.index_!==a.PRIORITY_INDEX&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new l.IndexedFilter(this.getIndex()):this.hasLimit()?new c.LimitedFilter(this):new h.RangedFilter(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===a.PRIORITY_INDEX?r=t.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?r=t.VALUE_INDEX:this.index_===o.KEY_INDEX?r=t.KEY_INDEX:(i.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=f.stringify(r),this.startSet_&&(n[t.START_AT]=f.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+f.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=f.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+f.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}();n.QueryParams=p},{"../snap/indexes/KeyIndex":39,"../snap/indexes/PathIndex":40,"../snap/indexes/PriorityIndex":41,"../snap/indexes/ValueIndex":42,"../util/util":63,"./filter/IndexedFilter":77,"./filter/LimitedFilter":78,"./filter/RangedFilter":79,"@firebase/util":141}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./filter/IndexedFilter"),r=e("./ViewProcessor"),o=e("../snap/ChildrenNode"),a=e("./CacheNode"),s=e("./ViewCache"),u=e("./EventGenerator"),l=e("@firebase/util"),c=e("../operation/Operation"),h=e("./Change"),f=e("../snap/indexes/PriorityIndex"),p=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),l=new i.IndexedFilter(n.getIndex()),c=n.getNodeFilter();this.processor_=new r.ViewProcessor(c);var h=t.getServerCache(),f=t.getEventCache(),p=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),d=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,f.getNode(),null),v=new a.CacheNode(p,h.isFullyInitialized(),l.filtersNodes()),m=new a.CacheNode(d,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=new s.ViewCache(m,v),this.eventGenerator_=new u.EventGenerator(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){l.assert(null==e,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var r=e.createCancelEvent(t,i);r&&n.push(r)})}if(e){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(a)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===c.OperationType.MERGE&&null!==e.source.queryId&&(l.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),l.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,e,t,n);return this.processor_.assertIndexed(r.viewCache),l.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){var i=t.getNode();i.forEachChild(f.PRIORITY_INDEX,function(e,t){n.push(h.Change.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(h.Change.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,i)},e}();n.View=p},{"../operation/Operation":30,"../snap/ChildrenNode":32,"../snap/indexes/PriorityIndex":41,"./CacheNode":65,"./Change":66,"./EventGenerator":70,"./ViewCache":75,"./ViewProcessor":76,"./filter/IndexedFilter":77,"@firebase/util":141}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../snap/ChildrenNode"),r=e("./CacheNode"),o=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,i){return new e(new r.CacheNode(t,n,i),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,i){return new e(this.eventCache_,new r.CacheNode(t,n,i))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new r.CacheNode(i.ChildrenNode.EMPTY_NODE,!1,!1),new r.CacheNode(i.ChildrenNode.EMPTY_NODE,!1,!1)),e}();n.ViewCache=o},{"../snap/ChildrenNode":32,"./CacheNode":65}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../operation/Operation"),r=e("@firebase/util"),o=e("./ChildChangeAccumulator"),a=e("./Change"),s=e("../snap/ChildrenNode"),u=e("../snap/indexes/KeyIndex"),l=e("../util/ImmutableTree"),c=e("../util/Path"),h=e("./CompleteChildSource"),f=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}();n.ProcessorResult=f;var p=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){r.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),r.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,a,s){var u,l,c=new o.ChildChangeAccumulator;if(n.type===i.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(t,h.path,h.snap,a,s,c):(r.assert(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(t,h.path,h.snap,a,s,l,c))}else if(n.type===i.OperationType.MERGE){var p=n;p.source.fromUser?u=this.applyUserMerge_(t,p.path,p.children,a,s,c):(r.assert(p.source.fromServer,"Unknown source."),l=p.source.tagged||t.getServerCache().isFiltered(),u=this.applyServerMerge_(t,p.path,p.children,a,s,l,c))}else if(n.type===i.OperationType.ACK_USER_WRITE){var d=n;u=d.revert?this.revertUserWrite_(t,d.path,a,s,c):this.ackUserWrite_(t,d.path,d.affectedTree,a,s,c)}else{if(n.type!==i.OperationType.LISTEN_COMPLETE)throw r.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(t,n.path,a,c)}var v=c.getChanges();return e.maybeAddValueEvent_(t,u,v),new f(u,v)},e.maybeAddValueEvent_=function(e,t,n){var i=t.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,i,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var u=void 0,l=void 0;if(t.isEmpty())if(r.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),h=c instanceof s.ChildrenNode?c:s.ChildrenNode.EMPTY_NODE,f=n.calcCompleteEventChildren(h);u=this.filter_.updateFullNode(e.getEventCache().getNode(),f,o)}else{var p=n.calcCompleteEventCache(e.getCompleteServerSnap());u=this.filter_.updateFullNode(e.getEventCache().getNode(),p,o)}else{var d=t.getFront();if(".priority"==d){r.assert(1==t.getLength(),"Can't have a priority with additional path components");var v=a.getNode();l=e.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(t,v,l);u=null!=m?this.filter_.updatePriority(v,m):a.getNode()}else{var g=t.popFront(),_=void 0;if(a.isCompleteForChild(d)){l=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),l);_=null!=y?a.getNode().getImmediateChild(d).updateChild(g,y):a.getNode().getImmediateChild(d)}else _=n.calcCompleteChild(d,e.getServerCache());u=null!=_?this.filter_.updateChild(a.getNode(),d,_,g,i,o):a.getNode()}}return e.updateEventSnap(u,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,i,r,o,a){var s,u=e.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(t,n);s=l.updateFullNode(u.getNode(),c,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var p=t.popFront(),d=u.getNode().getImmediateChild(f),v=d.updateChild(p,n);s=".priority"==f?l.updatePriority(u.getNode(),v):l.updateChild(u.getNode(),f,v,p,h.NO_COMPLETE_CHILD_SOURCE,null)}var m=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),l.filtersNodes()),g=new h.WriteTreeCompleteChildSource(i,m,r);return this.generateEventCacheAfterServerEvent_(m,t,i,g,a)},e.prototype.applyUserOverwrite_=function(e,t,n,i,r,o){var a,u,l=e.getEventCache(),c=new h.WriteTreeCompleteChildSource(i,e,r);if(t.isEmpty())u=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var f=t.getFront();if(".priority"===f)u=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(u,l.isFullyInitialized(),l.isFiltered());else{var p=t.popFront(),d=l.getNode().getImmediateChild(f),v=void 0;if(p.isEmpty())v=n;else{var m=c.getCompleteChild(f);v=null!=m?".priority"===p.getBack()&&m.getChild(p.parent()).isEmpty()?m:m.updateChild(p,n):s.ChildrenNode.EMPTY_NODE}if(d.equals(v))a=e;else{var g=this.filter_.updateChild(l.getNode(),f,v,p,c,o);a=e.updateEventSnap(g,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,i,r,o,a){var s=this,u=t;return i.foreach(function(i,l){var c=n.child(i);e.cacheHasChild_(t,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,r,o,a))}),i.foreach(function(i,l){var c=n.child(i);e.cacheHasChild_(t,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,r,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,i,r,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,h=e;u=t.isEmpty()?n:l.ImmutableTree.Empty.setTree(t,n);var f=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(f.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),l=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new c.Path(t),l,i,r,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!f.hasChild(t)&&!u){var l=e.getServerCache().getNode().getImmediateChild(t),p=s.applyMerge_(l,n);h=s.applyServerOverwrite_(h,new c.Path(t),p,i,r,o,a)}}),h},e.prototype.ackUserWrite_=function(e,t,n,i,r,o){if(null!=i.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),i,r,a,o);if(t.isEmpty()){var h=l.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(e,t){h=h.set(new c.Path(e),t)}),this.applyServerMerge_(e,t,h,i,r,a,o)}return e;
}var f=l.ImmutableTree.Empty;return n.foreach(function(e,n){var i=t.child(e);s.isCompleteForPath(i)&&(f=f.set(e,s.getNode().getChild(i)))}),this.applyServerMerge_(e,t,f,i,r,a,o)},e.prototype.listenComplete_=function(e,t,n,i){var r=e.getServerCache(),o=e.updateServerSnap(r.getNode(),r.isFullyInitialized()||t.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,h.NO_COMPLETE_CHILD_SOURCE,i)},e.prototype.revertUserWrite_=function(e,t,n,i,o){var a;if(null!=n.shadowingWrite(t))return e;var u=new h.WriteTreeCompleteChildSource(n,e,i),l=e.getEventCache().getNode(),f=void 0;if(t.isEmpty()||".priority"===t.getFront()){var p=void 0;if(e.getServerCache().isFullyInitialized())p=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var d=e.getServerCache().getNode();r.assert(d instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),p=n.calcCompleteEventChildren(d)}p=p,f=this.filter_.updateFullNode(l,p,o)}else{var v=t.getFront(),m=n.calcCompleteChild(v,e.getServerCache());null==m&&e.getServerCache().isCompleteForChild(v)&&(m=l.getImmediateChild(v)),f=null!=m?this.filter_.updateChild(l,v,m,t.popFront(),u,o):e.getEventCache().getNode().hasChild(v)?this.filter_.updateChild(l,v,s.ChildrenNode.EMPTY_NODE,t.popFront(),u,o):l,f.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(f=this.filter_.updateFullNode(f,a,o)))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(c.Path.Empty),e.updateEventSnap(f,a,this.filter_.filtersNodes())},e}();n.ViewProcessor=p},{"../operation/Operation":30,"../snap/ChildrenNode":32,"../snap/indexes/KeyIndex":39,"../util/ImmutableTree":54,"../util/Path":57,"./Change":66,"./ChildChangeAccumulator":67,"./CompleteChildSource":68,"@firebase/util":141}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../Change"),o=e("../../snap/ChildrenNode"),a=e("../../snap/indexes/PriorityIndex"),s=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,o,a,s){i.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(t);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(r.Change.childRemovedChange(t,u)):i.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(r.Change.childAddedChange(t,n)):s.trackChildChange(r.Change.childChangedChange(t,n,u))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,i){t.hasChild(e)||n.trackChildChange(r.Change.childRemovedChange(e,i))}),t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,i){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(i)||n.trackChildChange(r.Change.childChangedChange(t,i,o))}else n.trackChildChange(r.Change.childAddedChange(t,i))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?o.ChildrenNode.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();n.IndexedFilter=s},{"../../snap/ChildrenNode":32,"../../snap/indexes/PriorityIndex":41,"../Change":66,"@firebase/util":141}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./RangedFilter"),r=e("../../snap/ChildrenNode"),o=e("../../snap/Node"),a=e("@firebase/util"),s=e("../Change"),u=function(){function e(e){this.rangedFilter_=new i.RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,i,a,s){return this.rangedFilter_.matches(new o.NamedNode(t,n))||(n=r.ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,a,s):this.fullLimitUpdateChild_(e,t,n,a,s)},e.prototype.updateFullNode=function(e,t,n){var i;if(t.isLeafNode()||t.isEmpty())i=r.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){i=r.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext(),u=void 0;if(u=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0,!u)break;i=i.updateImmediateChild(s.name,s.node),a++}}else{i=t.withIndex(this.index_),i=i.updatePriority(r.ChildrenNode.EMPTY_NODE);var l=void 0,c=void 0,h=void 0,o=void 0;if(this.reverse_){o=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();h=function(e,t){return f(t,e)}}else o=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var a=0,p=!1;o.hasNext();){var s=o.getNext();!p&&h(l,s)<=0&&(p=!0);var u=p&&a<this.limit_&&h(s,c)<=0;u?a++:i=i.updateImmediateChild(s.name,r.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,i,u){var l;if(this.reverse_){var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else l=this.index_.getCompare();var h=e;a.assert(h.numChildren()==this.limit_,"");var f=new o.NamedNode(t,n),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),d=this.rangedFilter_.matches(f);if(h.hasChild(t)){for(var v=h.getImmediateChild(t),m=i.getChildAfterChild(this.index_,p,this.reverse_);null!=m&&(m.name==t||h.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);var g=null==m?1:l(m,f),_=d&&!n.isEmpty()&&g>=0;if(_)return null!=u&&u.trackChildChange(s.Change.childChangedChange(t,n,v)),h.updateImmediateChild(t,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(t,v));var y=h.updateImmediateChild(t,r.ChildrenNode.EMPTY_NODE),b=null!=m&&this.rangedFilter_.matches(m);return b?(null!=u&&u.trackChildChange(s.Change.childAddedChange(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}return n.isEmpty()?e:d&&l(p,f)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(p.name,p.node)),u.trackChildChange(s.Change.childAddedChange(t,n))),h.updateImmediateChild(t,n).updateImmediateChild(p.name,r.ChildrenNode.EMPTY_NODE)):e},e}();n.LimitedFilter=u},{"../../snap/ChildrenNode":32,"../../snap/Node":35,"../Change":66,"./RangedFilter":79,"@firebase/util":141}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./IndexedFilter"),r=e("../../snap/indexes/PriorityIndex"),o=e("../../../core/snap/Node"),a=e("../../snap/ChildrenNode"),s=function(){function e(t){this.indexedFilter_=new i.IndexedFilter(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,i,r,s){return this.matches(new o.NamedNode(t,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=a.ChildrenNode.EMPTY_NODE);var i=t.withIndex(this.index_);i=i.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return t.forEachChild(r.PRIORITY_INDEX,function(e,t){s.matches(new o.NamedNode(e,t))||(i=i.updateImmediateChild(e,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}();n.RangedFilter=s},{"../../../core/snap/Node":35,"../../snap/ChildrenNode":32,"../../snap/indexes/PriorityIndex":41,"./IndexedFilter":77}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../core/util/util"),r=e("../core/util/CountedSet"),o=e("../core/stats/StatsManager"),a=e("./polling/PacketReceiver"),s=e("./Constants"),u=e("@firebase/util"),l=e("@firebase/util");n.FIREBASE_LONGPOLL_START_PARAM="start",n.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",n.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",n.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",n.FIREBASE_LONGPOLL_ID_PARAM="id",n.FIREBASE_LONGPOLL_PW_PARAM="pw",n.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",n.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",n.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",n.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",n.FIREBASE_LONGPOLL_DATA_PARAM="d",n.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",n.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe";var c=1870,h=30,f=c-h,p=25e3,d=3e4,v=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=i.logWrapper(e),this.stats_=o.StatsManager.getCollection(t),this.urlFn=function(e){return t.connectionURL(s.LONG_POLLING,e)}}return e.prototype.open=function(e,t){var r=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new a.PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(d)),i.executeWhenDOMReady(function(){if(!r.isClosed_){r.scriptTagHolder=new m(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=e[1],a=e[2];e[3],e[4];if(r.incrementIncomingBytes_(e),r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,i==n.FIREBASE_LONGPOLL_START_PARAM)r.id=o,r.password=a;else{if(i!==n.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+i);o?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(o,function(){r.onClosed_()})):r.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=e[1];r.incrementIncomingBytes_(e),r.myPacketOrderer.handleResponse(n,i)},function(){r.onClosed_()},r.urlFn);var e={};e[n.FIREBASE_LONGPOLL_START_PARAM]="t",e[n.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),r.scriptTagHolder.uniqueCallbackIdentifier&&(e[n.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=r.scriptTagHolder.uniqueCallbackIdentifier),e[s.VERSION_PARAM]=s.PROTOCOL_VERSION,r.transportSessionId&&(e[s.TRANSPORT_SESSION_PARAM]=r.transportSessionId),r.lastSessionId&&(e[s.LAST_SESSION_PARAM]=r.lastSessionId),!l.isNodeSdk()&&"undefined"!=typeof location&&location.href&&location.href.indexOf(s.FORGE_DOMAIN)!==-1&&(e[s.REFERER_PARAM]=s.FORGE_REF);var t=r.urlFn(e);r.log_("Connecting via long-poll to "+t),r.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!i.isChromeExtensionContentScript()&&!i.isWindowsStoreApp()&&!l.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=u.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=u.base64Encode(t),r=i.splitStringBySize(n,f),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!l.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var i={};i[n.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",i[n.FIREBASE_LONGPOLL_ID_PARAM]=e,i[n.FIREBASE_LONGPOLL_PW_PARAM]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=u.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}();n.BrowserPollConnection=v;var m=function(){function e(t,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new r.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,l.isNodeSdk())this.commandCB=t,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=i.LUIDGenerator(),window[n.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=t,window[n.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=e.createIFrame_();var u="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var c=document.domain;u='<script>document.domain="'+c+'";</script>'}var h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(e){i.log("frame writing exception"),e.stack&&i.log(e.stack),i.log(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||i.log("No IE domain setting required")}catch(t){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),l.isNodeSdk()&&this.myID){var i={};i[n.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",i[n.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,i[n.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var r=this.urlFn(i);e.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[n.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[n.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[n.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var t=this.urlFn(e),i="",r=0;this.pendingSegs.length>0;){var o=this.pendingSegs[0];if(!(o.d.length+h+i.length<=c))break;var a=this.pendingSegs.shift();i=i+"&"+n.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+r+"="+a.seg+"&"+n.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+r+"="+a.ts+"&"+n.FIREBASE_LONGPOLL_DATA_PARAM+r+"="+a.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var i=function(){n.outstandingRequests.remove(t),n.newRequest_()},r=setTimeout(i,Math.floor(p)),o=function(){clearTimeout(r),i()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;l.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){i.log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}();n.FirebaseIFrameScriptHolder=m},{"../core/stats/StatsManager":47,"../core/util/CountedSet":52,"../core/util/util":63,"./Constants":82,"./polling/PacketReceiver":85,"@firebase/util":141}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../core/util/util"),r=e("../core/storage/storage"),o=e("./Constants"),a=e("./TransportManager"),s=6e4,u=5e3,l=10240,c=102400,h="t",f="d",p="s",d="r",v="e",m="o",g="a",_="n",y="p",b="h",w=function(){function e(e,t,n,r,o,s,u){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=i.logWrapper("c:"+this.id+":"),this.transportManager_=new a.TransportManager(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=i.setTimeoutNonBlocking(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>c?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>l?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(h in e){var t=e[h];t===g?this.upgradeIfSecondaryHealthy_():t===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===m&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=i.requireKey("t",e),n=i.requireKey("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:y,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:g,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=i.requireKey("t",e),n=i.requireKey("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=i.requireKey(h,e);if(f in e){var n=e[f];if(t===b)this.onHandshake_(n);else if(t===_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===p?this.onConnectionShutdown_(n):t===d?this.onReset_(n):t===v?i.error("Server Error: "+n):t===m?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):i.error("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),o.PROTOCOL_VERSION!==n&&i.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),i.setTimeoutNonBlocking(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(s))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):i.setTimeoutNonBlocking(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(u))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:y,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(r.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();n.Connection=w},{"../core/storage/storage":51,"../core/util/util":63,"./Constants":82,"./TransportManager":83}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PROTOCOL_VERSION="5",n.VERSION_PARAM="v",n.TRANSPORT_SESSION_PARAM="s",n.REFERER_PARAM="r",n.FORGE_REF="f",n.FORGE_DOMAIN="firebaseio.com",n.LAST_SESSION_PARAM="ls",n.WEBSOCKET="websocket",n.LONG_POLLING="long_polling"},{}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BrowserPollConnection"),r=e("./WebSocketConnection"),o=e("../core/util/util"),a=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[i.BrowserPollConnection,r.WebSocketConnection]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=r.WebSocketConnection&&r.WebSocketConnection.isAvailable(),i=n&&!r.WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[r.WebSocketConnection];else{var a=this.transports_=[];o.each(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&a.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();n.TransportManager=a},{"../core/util/util":63,"./BrowserPollConnection":80,"./WebSocketConnection":84}],84:[function(e,t,n){(function(t){"use strict";function i(e){v=e}Object.defineProperty(n,"__esModule",{value:!0});var r=e("@firebase/app"),o=e("@firebase/util"),a=e("../core/util/util"),s=e("../core/stats/StatsManager"),u=e("./Constants"),l=e("@firebase/util"),c=e("../core/storage/storage"),h=e("@firebase/util"),f=e("@firebase/util"),p=16384,d=45e3,v=null;"undefined"!=typeof MozWebSocket?v=MozWebSocket:"undefined"!=typeof WebSocket&&(v=WebSocket),n.setWebSocketImpl=i;var m=function(){function e(t,n,i,r){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=a.logWrapper(this.connId),this.stats_=s.StatsManager.getCollection(n),this.connURL=e.connectionURL_(n,i,r)}return e.connectionURL_=function(e,t,n){var i={};return i[u.VERSION_PARAM]=u.PROTOCOL_VERSION,!f.isNodeSdk()&&"undefined"!=typeof location&&location.href&&location.href.indexOf(u.FORGE_DOMAIN)!==-1&&(i[u.REFERER_PARAM]=u.FORGE_REF),t&&(i[u.TRANSPORT_SESSION_PARAM]=t),n&&(i[u.LAST_SESSION_PARAM]=n),e.connectionURL(u.WEBSOCKET,i)},e.prototype.open=function(e,n){var i=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,c.PersistentStorage.set("previous_websocket_failure",!0);try{if(f.isNodeSdk()){var o=l.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+u.PROTOCOL_VERSION+"/"+r.default.SDK_VERSION+"/"+t.platform+"/"+o}},s=t.env,h=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;h&&(a.proxy={origin:h}),this.mySock=new v(this.connURL,[],a)}else this.mySock=new v(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var p=e.message||e.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=function(){i.log_("Websocket connected."),i.everConnected_=!0},this.mySock.onclose=function(){i.log_("Websocket connection was disconnected."),i.mySock=null,i.onClosed_()},this.mySock.onmessage=function(e){i.handleIncomingFrame(e)},this.mySock.onerror=function(e){i.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&i.log_(t),i.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==v&&!e.forceDisallow_},e.previouslyFailed=function(){return c.PersistentStorage.isInMemoryStorage||c.PersistentStorage.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){c.PersistentStorage.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=h.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=h.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=a.splitStringBySize(t,p);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(d))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();n.WebSocketConnection=m}).call(this,e("_process"))},{"../core/stats/StatsManager":47,"../core/storage/storage":51,"../core/util/util":63,"./Constants":82,"@firebase/app":1,"@firebase/util":141,_process:175}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../core/util/util"),r=function(){function e(e){this.onMessage_=e,
this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var t=function(t){e[t]&&i.exceptionGuard(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);return o.currentResponseNum===o.closeAfterResponse?(o.onClose&&(o.onClose(),o.onClose=null),"break"):void o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum];){var a=r();if("break"===a)break}},e}();n.PacketReceiver=r},{"../../core/util/util":63}],86:[function(e,t,n){"use strict";function i(e){r.instances.forEach(function(t){t.logLevel=e})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./src/logger");n.setLogLevel=i;var o=e("./src/logger");n.Logger=o.Logger,n.LogLevel=o.LogLevel},{"./src/logger":87}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.instances=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i=n.LogLevel||(n.LogLevel={}));var r=i.INFO,o=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=r,this._logHandler=o,n.instances.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();n.Logger=a},{}],88:[function(e,t,n){"use strict";function i(e){var t="messaging",n=function(e){return self&&"ServiceWorkerGlobalScope"in self?new o.default(e):new r.default(e)},i={Messaging:r.default};e.INTERNAL.registerService(t,n,i)}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./src/controllers/window-controller"),o=e("./src/controllers/sw-controller"),a=e("@firebase/app");n.registerMessaging=i,i(a.firebase)},{"./src/controllers/sw-controller":90,"./src/controllers/window-controller":91,"@firebase/app":1}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("../models/errors"),o=e("../models/token-details-model"),a=e("../models/vapid-details-model"),s=e("../models/notification-permission"),u=e("../models/iid-model"),l=e("../helpers/array-buffer-to-base64"),c="messagingSenderId";n.TOKEN_EXPIRATION_MILLIS=6048e5;var h=function(){function e(e){var t=this;if(this.errorFactory_=new i.ErrorFactory("messaging","Messaging",r.default.map),!e.options[c]||"string"!=typeof e.options[c])throw this.errorFactory_.create(r.default.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[c],this.tokenDetailsModel_=new o.default,this.vapidDetailsModel_=new a.default,this.iidModel_=new u.default,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete()}}return e.prototype.getToken=function(){var e=this,t=this.getNotificationPermission_();if(t!==s.default.granted)return t===s.default.denied?Promise.reject(this.errorFactory_.create(r.default.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null);var n;return this.getSWRegistration_().then(function(t){return n=t,e.tokenDetailsModel_.getTokenDetailsFromSWScope(n.scope)}).then(function(t){return t?e.manageExistingToken(t,n):e.getNewToken(n)})},e.prototype.manageExistingToken=function(e,t){var i=this;return this.isTokenStillValid(e).then(function(r){if(r){var o=Date.now();return o<e.createTime+n.TOKEN_EXPIRATION_MILLIS?e.fcmToken:i.updateToken(e,t)}return i.deleteToken(e.fcmToken).then(function(){return i.getNewToken(t)})})},e.prototype.isTokenStillValid=function(e){return this.getPublicVapidKey_().then(function(t){return l.default(t)===e.vapidKey})},e.prototype.updateToken=function(e,t){var n,i,r,o=this;return this.getPublicVapidKey_().then(function(e){return n=e,o.getPushSubscription_(t,n)}).then(function(t){return r=t,o.iidModel_.updateToken(o.messagingSenderId_,e.fcmToken,e.fcmPushSet,r,n)}).catch(function(t){return o.deleteToken(e.fcmToken).then(function(){throw t})}).then(function(a){i=a;var s={swScope:t.scope,vapidKey:n,subscription:r,fcmSenderId:o.messagingSenderId_,fcmToken:i,fcmPushSet:e.fcmPushSet};return o.tokenDetailsModel_.saveTokenDetails(s)}).then(function(){return o.vapidDetailsModel_.saveVapidDetails(t.scope,n)}).then(function(){return i})},e.prototype.getNewToken=function(e){var t,n,i,r=this;return this.getPublicVapidKey_().then(function(n){return t=n,r.getPushSubscription_(e,t)}).then(function(e){return n=e,r.iidModel_.getToken(r.messagingSenderId_,n,t)}).then(function(o){i=o;var a={swScope:e.scope,vapidKey:t,subscription:n,fcmSenderId:r.messagingSenderId_,fcmToken:i.token,fcmPushSet:i.pushSet};return r.tokenDetailsModel_.saveTokenDetails(a)}).then(function(){return r.vapidDetailsModel_.saveVapidDetails(e.scope,t)}).then(function(){return i.token})},e.prototype.deleteToken=function(e){var t=this;return this.tokenDetailsModel_.deleteToken(e).then(function(e){return t.iidModel_.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)}).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})},e.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(r.default.codes.SHOULD_BE_INHERITED)},e.prototype.getPublicVapidKey_=function(){throw this.errorFactory_.create(r.default.codes.SHOULD_BE_INHERITED)},e.prototype.requestPermission=function(){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.getPushSubscription_=function(e,t){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw this.errorFactory_.create(r.default.codes.AVAILABLE_IN_SW)},e.prototype.delete=function(){return Promise.all([this.tokenDetailsModel_.closeDatabase(),this.vapidDetailsModel_.closeDatabase()])},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel_},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel_},e.prototype.getIIDModel=function(){return this.iidModel_},e}();n.default=h},{"../helpers/array-buffer-to-base64":92,"../models/errors":97,"../models/iid-model":99,"../models/notification-permission":100,"../models/token-details-model":101,"../models/vapid-details-model":102,"@firebase/util":141}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./controller-interface"),o=e("../models/errors"),a=e("../models/fcm-details"),s=e("../models/worker-page-message"),u="FCM_MSG",l=function(e){function t(t){var n=e.call(this,t)||this;return self.addEventListener("push",function(e){return n.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return n.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return n.onNotificationClick_(e)},!1),n.bgMessageHandler_=null,n}return i.__extends(t,e),t.prototype.onPush_=function(e){var t,n=this;try{t=e.data.json()}catch(e){return}var i=this.hasVisibleClients_().then(function(e){if(e){if(t.notification||n.bgMessageHandler_)return n.sendMessageToWindowClients_(t)}else{var i=n.getNotificationData_(t);if(i){var r=i.title||"";return n.getSWRegistration_().then(function(e){return e.showNotification(r,i)})}if(n.bgMessageHandler_)return n.bgMessageHandler_(t)}});e.waitUntil(i)},t.prototype.onSubChange_=function(e){var t=this,n=this.getSWRegistration_().then(function(e){return e.pushManager.getSubscription().then(function(e){}).catch(function(n){var i=t.getTokenDetailsModel();return i.getTokenDetailsFromSWScope(e.scope).then(function(e){if(!e)throw n;return t.deleteToken(e.fcmToken).then(function(){throw n})})})}).catch(function(e){throw t.errorFactory_.create(o.default.codes.UNABLE_TO_RESUBSCRIBE,{message:e})});e.waitUntil(n)},t.prototype.onNotificationClick_=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data[u]){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data[u];if(n.notification){var i=n.notification.click_action;if(i){var r=this.getWindowClient_(i).then(function(e){return e?e.focus():self.clients.openWindow(i)}).then(function(e){if(e){n.notification;delete n.notification;var i=s.default.createNewMsg(s.default.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return t.attemptToMessageClient_(e,i)}});e.waitUntil(r)}}}},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t=Object.assign({},e.notification);return t.data=(n={},n[u]=e,n),t;var n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw this.errorFactory_.create(o.default.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e},t.prototype.getWindowClient_=function(e){var t=new URL(e,self.location).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,i=0;i<e.length;i++){var r=new URL(e[i].url,self.location).href;if(r===t){n=e[i];break}}return n?n:null})},t.prototype.attemptToMessageClient_=function(e,t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){return e?(e.postMessage(t),[2]):[2,Promise.reject(this.errorFactory_.create(o.default.codes.NO_WINDOW_CLIENT_TO_MSG))]})})},t.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},t.prototype.sendMessageToWindowClients_=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var i=s.default.createNewMsg(s.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(n.map(function(e){return t.attemptToMessageClient_(e,i)}))})},t.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},t.prototype.getPublicVapidKey_=function(){var e=this;return this.getSWRegistration_().then(function(t){return e.getVapidDetailsModel().getVapidFromSWScope(t.scope)}).then(function(e){return null===e?a.default.DEFAULT_PUBLIC_VAPID_KEY:e})},t}(r.default);n.default=l},{"../models/errors":97,"../models/fcm-details":98,"../models/worker-page-message":103,"./controller-interface":89,tslib:178}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./controller-interface"),o=e("../models/errors"),a=e("../models/worker-page-message"),s=e("../models/default-sw"),u=e("../models/notification-permission"),l=e("../models/fcm-details"),c=e("../helpers/base64-to-array-buffer"),h=e("@firebase/util"),f=function(e){function t(t){var n=e.call(this,t)||this;return n.messageObserver_=null,n.onMessage_=h.createSubscribe(function(e){n.messageObserver_=e}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=h.createSubscribe(function(e){n.tokenRefreshObserver_=e}),n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=h.createSubscribe(function(e){n.messageObserver_=e}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=h.createSubscribe(function(e){n.tokenRefreshObserver_=e}),n.setupSWMessageListener_(),n}return i.__extends(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(this.errorFactory_.create(o.default.codes.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return t?this.manifestCheckPromise_=fetch(t.href).then(function(e){return e.json()}).catch(function(){}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(o.default.codes.INCORRECT_GCM_SENDER_ID)}):this.manifestCheckPromise_=Promise.resolve(),this.manifestCheckPromise_},t.prototype.requestPermission=function(){return i.__awaiter(this,void 0,void 0,function(){var e=this;return i.__generator(this,function(t){return Notification.permission===u.default.granted?[2]:[2,new Promise(function(t,n){var i=function(i){return i===u.default.granted?t():n(i===u.default.denied?e.errorFactory_.create(o.default.codes.PERMISSION_BLOCKED):e.errorFactory_.create(o.default.codes.PERMISSION_DEFAULT))},r=Notification.requestPermission(i);r&&r.then(i)})]})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(o.default.codes.SW_REGISTRATION_EXPECTED);if("undefined"!=typeof this.registrationToUse_)throw this.errorFactory_.create(o.default.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw this.errorFactory_.create(o.default.codes.INVALID_PUBLIC_VAPID_KEY);if("undefined"!=typeof this.publicVapidKeyToUse_)throw this.errorFactory_.create(o.default.codes.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=c.default(e);if(65!==t.length)throw this.errorFactory_.create(o.default.codes.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse_=t},t.prototype.onMessage=function(e,t,n){return this.onMessage_(e,t,n)},t.prototype.onTokenRefresh=function(e,t,n){return this.onTokenRefresh_(e,t,n)},t.prototype.waitForRegistrationToActivate_=function(e){var t=this,n=e.installing||e.waiting||e.active;return new Promise(function(i,r){if(!n)return void r(t.errorFactory_.create(o.default.codes.NO_SW_IN_REG));if("activated"===n.state)return void i(e);if("redundant"===n.state)return void r(t.errorFactory_.create(o.default.codes.SW_REG_REDUNDANT));var a=function(){if("activated"===n.state)i(e);else{if("redundant"!==n.state)return;r(t.errorFactory_.create(o.default.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",a)};n.addEventListener("statechange",a)})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(s.default.path,{scope:s.default.scope}).catch(function(t){throw e.errorFactory_.create(o.default.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse_=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse_?Promise.resolve(this.publicVapidKeyToUse_):Promise.resolve(l.default.DEFAULT_PUBLIC_VAPID_KEY)},t.prototype.getPushSubscription_=function(e,t){return e.pushManager.getSubscription().then(function(n){return n?n:e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[a.default.PARAMS.TYPE_OF_MSG]){var n=t.data;switch(n[a.default.PARAMS.TYPE_OF_MSG]){case a.default.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case a.default.TYPES_OF_MSG.NOTIFICATION_CLICKED:var i=n[a.default.PARAMS.DATA];e.messageObserver_&&e.messageObserver_.next(i)}}},!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(r.default);n.default=f},{"../helpers/base64-to-array-buffer":93,"../models/default-sw":96,"../models/errors":97,"../models/fcm-details":98,"../models/notification-permission":100,"../models/worker-page-message":103,"./controller-interface":89,"@firebase/util":141,tslib:178}],92:[function(e,t,n){"use strict";function i(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=i(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},{}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),r=new Uint8Array(i.length),o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}},{}],94:[function(e,t,n){"use strict";function i(e){if(e.objectStoreNames.contains(s)){var t=e.transaction(s),n=t.objectStore(s),i=new o.default,r=n.openCursor();r.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},r.onsuccess=function(){var t=r.result;if(t){var n=t.value;i.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(a)}}}function r(){var e=indexedDB.open(a);e.onerror=function(e){},e.onsuccess=function(t){var n=e.result;i(n)}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("../models/iid-model"),a="undefined",s="fcm_token_object_Store";n.cleanV1=r},{"../models/iid-model":99}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./errors"),o=function(){function e(e,t){this.errorFactory_=new i.ErrorFactory("messaging","Messaging",r.default.map),this.DB_NAME_=e,this.dbVersion_=t,this.openDbPromise_=null,this.TRANSACTION_READ_WRITE="readwrite"}return e.prototype.openDatabase=function(){var e=this;return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(t,n){var i=indexedDB.open(e.DB_NAME_,e.dbVersion_);i.onerror=function(e){n(e.target.error)},i.onsuccess=function(e){t(e.target.result)},i.onupgradeneeded=function(t){try{var i=t.target.result;e.onDBUpgrade(i,t)}catch(e){i.close(),n(e)}}}),this.openDbPromise_)},e.prototype.closeDatabase=function(){var e=this;return Promise.resolve().then(function(){if(e.openDbPromise_)return e.openDbPromise_.then(function(t){t.close(),e.openDbPromise_=null})})},e.prototype.onDBUpgrade=function(e,t){throw this.errorFactory_.create(r.default.codes.SHOULD_BE_INHERITED)},e}();n.default=o},{"./errors":97,"@firebase/util":141}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"}},{}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},r=(o={},o[i.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",o[i.AVAILABLE_IN_SW]="This method is available in a service worker context.",o[i.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",o[i.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",o[i.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",o[i.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",o[i.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",o[i.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",o[i.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",o[i.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",o[i.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",o[i.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",o[i.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",o[i.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",o[i.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",o[i.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",o[i.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",o[i.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",o[i.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",o[i.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",o[i.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",o[i.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",o[i.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",o[i.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",o[i.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",o[i.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",o[i.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",o[i.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",o[i.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",o[i.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",o[i.BAD_SCOPE]="The service worker scope must be a string with at least one character.",o[i.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",o[i.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",o[i.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",o[i.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",o[i.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",o[i.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",o[i.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",o);n.default={codes:i,map:r};var o},{}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),r={userVisibleOnly:!0,applicationServerKey:i};n.default={DEFAULT_PUBLIC_VAPID_KEY:i,SUBSCRIPTION_DETAILS:r,ENDPOINT:"https://fcm.googleapis.com"}},{}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),r=e("./errors"),o=e("../helpers/array-buffer-to-base64"),a=e("./fcm-details"),s=function(){function e(){this.errorFactory_=new i.ErrorFactory("messaging","Messaging",r.default.map)}return e.prototype.getToken=function(e,t,n){var i=this,s=o.default(t.getKey("p256dh")),u=o.default(t.getKey("auth")),l="authorized_entity="+e+"&"+("endpoint="+t.endpoint+"&")+("encryption_key="+s+"&")+("encryption_auth="+u);if(n!==a.default.DEFAULT_PUBLIC_VAPID_KEY){var c=o.default(n);l+="&application_pub_key="+c}var h=new Headers;h.append("Content-Type","application/x-www-form-urlencoded");var f={method:"POST",headers:h,body:l};return fetch(a.default.ENDPOINT+"/fcm/connect/subscribe",f).then(function(e){return e.json()}).catch(function(){throw i.errorFactory_.create(r.default.codes.TOKEN_SUBSCRIBE_FAILED)}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw i.errorFactory_.create(r.default.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw i.errorFactory_.create(r.default.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw i.errorFactory_.create(r.default.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})},e.prototype.updateToken=function(e,t,n,i,s){var u=this,l=o.default(i.getKey("p256dh")),c=o.default(i.getKey("auth")),h="push_set="+n+"&"+("token="+t+"&")+("authorized_entity="+e+"&")+("endpoint="+i.endpoint+"&")+("encryption_key="+l+"&")+("encryption_auth="+c);if(s!==a.default.DEFAULT_PUBLIC_VAPID_KEY){var f=o.default(s);h+="&application_pub_key="+f}var p=new Headers;p.append("Content-Type","application/x-www-form-urlencoded");var d,v={method:"POST",headers:p,body:h};return fetch(a.default.ENDPOINT+"/fcm/connect/subscribe",v).then(function(e){return d=e,e.json()}).catch(function(){throw u.errorFactory_.create(r.default.codes.TOKEN_UPDATE_FAILED)}).then(function(e){if(!d.ok){var t=e.error.message;throw u.errorFactory_.create(r.default.codes.TOKEN_UPDATE_FAILED,{message:t})}if(!e.token)throw u.errorFactory_.create(r.default.codes.TOKEN_UPDATE_NO_TOKEN);return e.token})},e.prototype.deleteToken=function(e,t,n){var i=this,o="authorized_entity="+e+"&"+("token="+t+"&")+("pushSet="+n),s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var u={method:"POST",headers:s,body:o};return fetch(a.default.ENDPOINT+"/fcm/connect/unsubscribe",u).then(function(e){if(!e.ok)return e.json().then(function(e){if(e.error){var t=e.error.message;throw i.errorFactory_.create(r.default.codes.TOKEN_UNSUBSCRIBE_FAILED,{message:t})}},function(e){throw i.errorFactory_.create(r.default.codes.TOKEN_UNSUBSCRIBE_FAILED)})})},e}();n.default=s},{"../helpers/array-buffer-to-base64":92,"./errors":97,"./fcm-details":98,"@firebase/util":141}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={granted:"granted",default:"default",denied:"denied"}},{}],101:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),o=e("./db-interface"),a=e("./errors"),s=e("../helpers/array-buffer-to-base64"),u=e("./clean-v1-undefined"),l="fcm_token_object_Store",c="fcm_token_details_db",h=2;i.prototype.fcmToken,i.prototype.swScope,i.prototype.vapidKey,i.prototype.subscription,i.prototype.fcmSenderId,i.prototype.fcmPushSet;var f=function(e){function t(){return e.call(this,c,h)||this}return r.__extends(t,e),t.prototype.onDBUpgrade=function(e,t){if(t.oldVersion<1){var n=e.createObjectStore(l,{keyPath:"swScope"});n.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0})}t.oldVersion<2&&u.cleanV1()},t.prototype.validateInputs_=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return!e.fcmToken||"string"==typeof e.fcmToken&&0!==e.fcmToken.length?!e.swScope||"string"==typeof e.swScope&&0!==e.swScope.length?!e.vapidKey||e.vapidKey instanceof Uint8Array&&65===e.vapidKey.length?!e.subscription||e.subscription instanceof PushSubscription?!e.fcmSenderId||"string"==typeof e.fcmSenderId&&0!==e.fcmSenderId.length?!e.fcmPushSet||"string"==typeof e.fcmPushSet&&0!==e.fcmPushSet.length?[2]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_PUSH_SET))]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SENDER_ID))]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SUBSCRIPTION))]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_VAPID_KEY))]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SCOPE))]:[2,Promise.reject(this.errorFactory_.create(a.default.codes.BAD_TOKEN))]})})},t.prototype.getTokenDetailsFromToken=function(e){var t=this;return e?this.validateInputs_({fcmToken:e}).then(function(){return t.openDatabase()}).then(function(t){return new Promise(function(n,i){var r=t.transaction([l]),o=r.objectStore(l),a=o.index("fcmToken"),s=a.get(e);s.onerror=function(e){i(e.target.error)},s.onsuccess=function(e){var t=e.target.result?e.target.result:null;n(t)}})}):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_TOKEN))},t.prototype.getTokenDetailsFromSWScope=function(e){var t=this;return e?this.validateInputs_({swScope:e}).then(function(){return t.openDatabase()}).then(function(t){return new Promise(function(n,i){var r=t.transaction([l]),o=r.objectStore(l),a=o.get(e);a.onerror=function(e){i(e.target.error)},a.onsuccess=function(e){
var t=e.target.result?e.target.result:null;n(t)}})}):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SCOPE))},t.prototype.saveTokenDetails=function(e){var t=this,n=e.swScope,i=e.vapidKey,r=e.subscription,o=e.fcmSenderId,u=e.fcmToken,c=e.fcmPushSet;return n?i?r?o?u?c?this.validateInputs_({swScope:n,vapidKey:i,subscription:r,fcmSenderId:o,fcmToken:u,fcmPushSet:c}).then(function(){return t.openDatabase()}).then(function(e){var a={swScope:n,vapidKey:s.default(i),endpoint:r.endpoint,auth:s.default(r.getKey("auth")),p256dh:s.default(r.getKey("p256dh")),fcmSenderId:o,fcmToken:u,fcmPushSet:c,createTime:Date.now()};return new Promise(function(n,i){var r=e.transaction([l],t.TRANSACTION_READ_WRITE),o=r.objectStore(l),s=o.put(a);s.onerror=function(e){i(e.target.error)},s.onsuccess=function(e){n()}})}):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_PUSH_SET)):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_TOKEN)):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SENDER_ID)):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SUBSCRIPTION)):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_VAPID_KEY)):Promise.reject(this.errorFactory_.create(a.default.codes.BAD_SCOPE))},t.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(a.default.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.errorFactory_.create(a.default.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase().then(function(n){return new Promise(function(i,r){var o=n.transaction([l],t.TRANSACTION_READ_WRITE),s=o.objectStore(l),u=s.delete(e.swScope);u.onerror=function(e){r(e.target.error)},u.onsuccess=function(n){return 0===n.target.result?void r(t.errorFactory_.create(a.default.codes.FAILED_TO_DELETE_TOKEN)):void i(e)}})})})},t}(o.default);n.default=f},{"../helpers/array-buffer-to-base64":92,"./clean-v1-undefined":94,"./db-interface":95,"./errors":97,tslib:178}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./db-interface"),o=e("./errors"),a="fcm_vapid_object_Store",s="fcm_vapid_details_db",u=1,l=65,c=function(e){function t(){return e.call(this,s,u)||this}return i.__extends(t,e),t.prototype.onDBUpgrade=function(e){e.createObjectStore(a,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return"string"!=typeof e||0===e.length?Promise.reject(this.errorFactory_.create(o.default.codes.BAD_SCOPE)):this.openDatabase().then(function(t){return new Promise(function(n,i){var r=t.transaction([a]),o=r.objectStore(a),s=o.get(e);s.onerror=function(){i(s.error)},s.onsuccess=function(){var e=s.result,t=null;e&&(t=e.vapidKey),n(t)}})})},t.prototype.saveVapidDetails=function(e,t){var n=this;if("string"!=typeof e||0===e.length)return Promise.reject(this.errorFactory_.create(o.default.codes.BAD_SCOPE));if(null===t||t.length!==l)return Promise.reject(this.errorFactory_.create(o.default.codes.BAD_VAPID_KEY));var i={swScope:e,vapidKey:t};return this.openDatabase().then(function(e){return new Promise(function(t,r){var o=e.transaction([a],n.TRANSACTION_READ_WRITE),s=o.objectStore(a),u=s.put(i);u.onerror=function(){r(u.error)},u.onsuccess=function(){t()}})})},t.prototype.deleteVapidDetails=function(e){var t=this;return this.getVapidFromSWScope(e).then(function(n){if(!n)throw t.errorFactory_.create(o.default.codes.DELETE_SCOPE_NOT_FOUND);return t.openDatabase().then(function(i){return new Promise(function(r,s){var u=i.transaction([a],t.TRANSACTION_READ_WRITE),l=u.objectStore(a),c=l.delete(e);c.onerror=function(){s(c.error)},c.onsuccess=function(){return 0===c.result?void s(t.errorFactory_.create(o.default.codes.FAILED_DELETE_VAPID_KEY)):void r(n)}})})})},t}(r.default);n.default=c},{"./db-interface":95,"./errors":97,tslib:178}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},r={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},o=function(e,t){var n=(r={},r[i.TYPE_OF_MSG]=e,r[i.DATA]=t,r);return n;var r};n.default={PARAMS:i,TYPES_OF_MSG:r,createNewMsg:o}},{}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e("./src/polyfills/promise"),e("./src/shims/Array"),e("./src/shims/String")},{"./src/polyfills/promise":105,"./src/shims/Array":106,"./src/shims/String":107}],105:[function(e,t,n){(function(t){var n=function(){if("undefined"!=typeof t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(n.Promise=Promise=e("promise-polyfill"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":176}],106:[function(e,t,n){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return r;r++}return-1}})},{}],107:[function(e,t,n){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},{}],108:[function(e,t,n){"use strict";function i(e,t,n){return new h.Service(e,new l.XhrIoPool,n)}function r(e){var t={TaskState:u.TaskState,TaskEvent:s.TaskEvent,StringFormat:a.StringFormat,Storage:h.Service,Reference:c.Reference};e.INTERNAL.registerService(f,i,t,void 0,!0)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("@firebase/app"),a=e("./src/implementation/string"),s=e("./src/implementation/taskenums"),u=e("./src/implementation/taskenums"),l=e("./src/implementation/xhriopool"),c=e("./src/reference"),h=e("./src/service"),f="storage";n.registerStorage=r,r(o.default)},{"./src/implementation/string":130,"./src/implementation/taskenums":131,"./src/implementation/xhriopool":136,"./src/reference":137,"./src/service":138,"@firebase/app":1}],109:[function(e,t,n){"use strict";function i(e,t,n){for(var i=t.length,r=t.length,o=0;o<t.length;o++)if(t[o].optional){i=o;break}var a=i<=n.length&&n.length<=r;if(!a)throw h.invalidArgumentCount(i,r,e,n.length);for(var o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?h.invalidArgument(o,e,t.message):h.invalidArgument(o,e,t)}}function r(e,t){return function(n){e(n),t(n)}}function o(e,t){function n(e){if(!p.isString(e))throw"Expected string."}var i;return i=e?r(n,e):n,new d(i,t)}function a(){function e(e){var t=e instanceof Uint8Array||e instanceof ArrayBuffer||p.isNativeBlobDefined()&&e instanceof Blob;if(!t)throw"Expected Blob or File."}return new d(e)}function s(e){return new d(f.metadataValidator,e)}function u(){function e(e){var t=p.isNumber(e)&&e>=0;if(!t)throw"Expected a number 0 or greater."}return new d(e)}function l(e,t){function n(t){var n=null===t||p.isDef(t)&&t instanceof Object;if(!n)throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new d(n,t)}function c(e){function t(e){var t=null===e||p.isFunction(e);if(!t)throw"Expected a Function."}return new d(t,e)}Object.defineProperty(n,"__esModule",{value:!0});var h=e("./error"),f=e("./metadata"),p=e("./type");n.validate=i;var d=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!p.isJustDef(t)||e(t)},this.optional=!!t}return e}();n.ArgSpec=d,n.and_=r,n.stringSpec=o,n.uploadDataSpec=a,n.metadataSpec=s,n.nonNegativeNumberSpec=u,n.looseObjectSpec=l,n.nullFunctionSpec=c},{"./error":116,"./metadata":121,"./type":132}],110:[function(e,t,n){"use strict";function i(e,t){return e.indexOf(t)!==-1}function r(e){return Array.prototype.slice.call(e)}function o(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}Object.defineProperty(n,"__esModule",{value:!0}),n.contains=i,n.clone=r,n.remove=o},{}],111:[function(e,t,n){"use strict";function i(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r.resolve(!0).then(function(){e.apply(null,t)})}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./promise_external");n.async=i},{"./promise_external":125}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./constants"),r=e("./error"),o=e("./failrequest"),a=e("./location"),s=e("./promise_external"),u=e("./requestmap"),l=e("./type"),c=function(){function e(t,n,r,o,a){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var s=this.app_.options;l.isDef(s)&&(this.bucket_=e.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=i.defaultMaxOperationRetryTime,this.maxUploadRetryTime_=i.defaultMaxUploadRetryTime,this.requestMap_=new u.RequestMap}return e.extractBucket_=function(e){var t=e[i.configOption]||null;if(null==t)return null;var n=a.Location.makeFromBucketSpec(t);return n.bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&l.isDef(this.app_.INTERNAL)&&l.isDef(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):s.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw r.appDeleted();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new o.FailRequest(r.appDeleted());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();n.AuthWrapper=c},{"./constants":115,"./error":116,"./failrequest":117,"./location":120,"./promise_external":125,"./requestmap":128,"./type":132}],113:[function(e,t,n){"use strict";function i(e,t,n){function i(){return 2===h}function r(){f||(f=!0,t.apply(null,arguments))}function o(t){l=setTimeout(function(){l=null,e(a,i())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!f){if(e)return void r.apply(null,arguments);var a=i()||c;if(a)return void r.apply(null,arguments);u<64&&(u*=2);var s;1===h?(h=2,s=0):s=1e3*(u+Math.random()),o(s)}}function s(e){p||(p=!0,f||(null!==l?(e||(h=2),clearTimeout(l),o(0)):e||(h=1)))}var u=1,l=null,c=!1,h=0,f=!1,p=!1;return o(0),setTimeout(function(){c=!0,s(!0)},n),s}function r(e){e(!1)}Object.defineProperty(n,"__esModule",{value:!0}),n.start=i,n.stop=r},{}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./fs"),r=e("./string"),o=e("./string"),a=e("./type"),s=function(){function e(e,t){var n=0,i="";a.isNativeBlob(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(a.isNativeBlob(this.data_)){var r=this.data_,o=i.sliceBlob(r,t,n);return null===o?null:new e(o)}var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(a.isNativeBlobDefined()){var s=t.map(function(t){return t instanceof e?t.data_:t});return new e(i.getBlob.apply(null,s))}var u=t.map(function(e){return a.isString(e)?r.dataFromString(o.StringFormat.RAW,e).data:e.data_}),l=0;u.forEach(function(e){l+=e.byteLength});var c=new Uint8Array(l),h=0;return u.forEach(function(e){for(var t=0;t<e.length;t++)c[h++]=e[t]}),new e(c,!0)},e.prototype.uploadData=function(){return this.data_},e}();n.FbsBlob=s},{"./fs":118,"./string":130,"./type":132}],115:[function(e,t,n){"use strict";function i(e){e=e}Object.defineProperty(n,"__esModule",{value:!0}),n.domainBase="https://firebasestorage.googleapis.com",n.downloadBase="https://firebasestorage.googleapis.com",n.apiBaseUrl="/v0",n.apiUploadBaseUrl="/v0",n.setDomainBase=i,n.configOption="storageBucket",n.shortMaxOperationRetryTime=6e4,n.defaultMaxOperationRetryTime=12e4,n.defaultMaxUploadRetryTime=6e4,n.minSafeInteger=-9007199254740991},{}],116:[function(e,t,n){"use strict";function i(e){return"storage/"+e}function r(){var e="An unknown error occurred, please check the error payload for server response.";return new I(n.Code.UNKNOWN,e)}function o(e){return new I(n.Code.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a(e){return new I(n.Code.BUCKET_NOT_FOUND,"Bucket '"+e+"' does not exist.")}function s(e){return new I(n.Code.PROJECT_NOT_FOUND,"Project '"+e+"' does not exist.")}function u(e){return new I(n.Code.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new I(n.Code.UNAUTHENTICATED,e)}function c(e){return new I(n.Code.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function h(){return new I(n.Code.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(e,t,i){return new I(n.Code.INVALID_CHECKSUM,"Uploaded/downloaded object '"+e+"' has checksum '"+t+"' which does not match '"+i+"'. Please retry the upload/download.")}function p(){return new I(n.Code.CANCELED,"User canceled the upload/download.")}function d(e){return new I(n.Code.INVALID_EVENT_NAME,"Invalid event name '"+e+"'.")}function v(e){return new I(n.Code.INVALID_URL,"Invalid URL '"+e+"'.")}function m(e){return new I(n.Code.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function g(){return new I(n.Code.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P.configOption+"' property when initializing the app?")}function _(){return new I(n.Code.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y(){return new I(n.Code.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function b(){return new I(n.Code.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w(e,t,i){return new I(n.Code.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+i)}function T(e,t,i,r){var o,a;return e===t?(o=e,a=1===e?"argument":"arguments"):(o="between "+e+" and "+t,a="arguments"),new I(n.Code.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+i+"`: Expected "+o+" "+a+", received "+r+".")}function E(){return new I(n.Code.APP_DELETED,"The Firebase app was deleted.")}function S(e){return new I(n.Code.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function C(e,t){return new I(n.Code.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function x(e){throw new I(n.Code.INTERNAL_ERROR,"Internal error: "+e)}Object.defineProperty(n,"__esModule",{value:!0});var P=e("./constants"),I=function(){function e(e,t){this.code_=i(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return i(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}();n.FirebaseStorageError=I,n.errors={},n.Code={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},n.prependCode=i,n.unknown=r,n.objectNotFound=o,n.bucketNotFound=a,n.projectNotFound=s,n.quotaExceeded=u,n.unauthenticated=l,n.unauthorized=c,n.retryLimitExceeded=h,n.invalidChecksum=f,n.canceled=p,n.invalidEventName=d,n.invalidUrl=v,n.invalidDefaultBucket=m,n.noDefaultBucket=g,n.cannotSliceBlob=_,n.serverFileWrongSize=y,n.noDownloadURL=b,n.invalidArgument=w,n.invalidArgumentCount=T,n.appDeleted=E,n.invalidRootOperation=S,n.invalidFormat=C,n.internalError=x},{"./constants":115}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./promise_external"),r=function(){function e(e){this.promise_=i.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}();n.FailRequest=r},{"./promise_external":125}],118:[function(e,t,n){"use strict";function i(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i();if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if(a.isNativeBlobDefined())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function o(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./type");n.getBlob=r,n.sliceBlob=o},{"./type":132}],119:[function(e,t,n){"use strict";function i(e){var t;try{t=JSON.parse(e)}catch(e){return null}return r.isNonArrayObject(t)?t:null}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./type");n.jsonObjectOrNull=i},{"./type":132}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./error"),r=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw i.invalidDefaultBucket(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function r(e){e.path_=decodeURIComponent(e.path)}for(var o=null,a="([A-Za-z0-9.\\-]+)",s="(/(.*))?$",u="(/([^?#]*).*)?$",l=new RegExp("^gs://"+a+s,"i"),c={bucket:1,path:3},h="v[A-Za-z0-9_]+",f=new RegExp("^https?://firebasestorage\\.googleapis\\.com/"+h+"/b/"+a+"/o"+u,"i"),p={bucket:1,path:3},d=[{regex:l,indices:c,postModify:n},{regex:f,indices:p,postModify:r}],v=0;v<d.length;v++){var m=d[v],g=m.regex.exec(t);if(g){var _=g[m.indices.bucket],y=g[m.indices.path];y||(y=""),o=new e(_,y),m.postModify(o);break}}if(null==o)throw i.invalidUrl(t);return o},e}();n.Location=r},{"./error":116}],121:[function(e,t,n){"use strict";function i(e,t){return t}function r(e){var t=d.isString(e);return!t||e.length<2?e:(e=e,p.lastComponent(e))}function o(){function e(e,t){return r(t)}function t(e,t){return d.isDef(t)?+t:t}function n(e,t){var n=d.isString(t)&&t.length>0;if(!n)return[];var i=encodeURIComponent,r=t.split(","),o=r.map(function(t){var n=e.bucket,r=e.fullPath,o="/b/"+i(n)+"/o/"+i(r),a=v.makeDownloadUrl(o),s=v.makeQueryString({alt:"media",token:t});return a+s});return o}if(g)return g;var i=[];i.push(new m("bucket")),i.push(new m("generation")),i.push(new m("metageneration")),i.push(new m("name","fullPath",!0));var o=new m("name");o.xform=e,i.push(o);var a=new m("size");return a.xform=t,i.push(a),i.push(new m("timeCreated")),i.push(new m("updated")),i.push(new m("md5Hash",null,!0)),i.push(new m("cacheControl",null,!0)),i.push(new m("contentDisposition",null,!0)),i.push(new m("contentEncoding",null,!0)),i.push(new m("contentLanguage",null,!0)),i.push(new m("contentType",null,!0)),i.push(new m("metadata","customMetadata",!0)),i.push(new m("downloadTokens","downloadURLs",!1,n)),g=i}function a(e,t){function n(){var n=e.bucket,i=e.fullPath,r=new f.Location(n,i);return t.makeStorageReference(r)}Object.defineProperty(e,"ref",{get:n})}function s(e,t,n){var i={};i.type="file";for(var r=n.length,o=0;o<r;o++){var s=n[o];i[s.local]=s.xform(i,t[s.server])}return a(i,e),i}function u(e,t,n){var i=h.jsonObjectOrNull(t);if(null===i)return null;var r=i;return s(e,r,n)}function l(e,t){for(var n={},i=t.length,r=0;r<i;r++){var o=t[r];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function c(e){var t=e&&d.isObject(e);if(!t)throw"Expected Metadata object.";for(var n in e){var i=e[n];if("customMetadata"===n){if(!d.isObject(i))throw"Expected object for 'customMetadata' mapping."}else if(d.isNonNullObject(i))throw"Mapping for '"+n+"' cannot be an object."}}Object.defineProperty(n,"__esModule",{value:!0});var h=e("./json"),f=e("./location"),p=e("./path"),d=e("./type"),v=e("./url");n.noXform_=i;var m=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||i}return e}();n.Mapping=m;var g=null;n.xformPath=r,n.getMappings=o,n.addRef=a,n.fromResource=s,n.fromResourceString=u,n.toResourceString=l,n.metadataValidator=c},{"./json":119,"./location":120,"./path":124,"./type":132,"./url":133}],122:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var n in e)i(e,n)&&t(n,e[n])}function o(e){if(null==e)return{};var t={};return r(e,function(e,n){t[e]=n}),t}Object.defineProperty(n,"__esModule",{value:!0}),n.contains=i,n.forEach=r,n.clone=o},{}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./type"),r=function(){function e(e,t,n){var r=i.isFunction(e)||i.isDef(t)||i.isDef(n);if(r)this.next=e,this.error=t||null,this.complete=n||null;else{var o=e;this.next=o.next||null,this.error=o.error||null,this.complete=o.complete||null}}return e}();n.Observer=r},{"./type":132}],124:[function(e,t,n){"use strict";function i(e){if(0==e.length)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function r(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function o(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}Object.defineProperty(n,"__esModule",{value:!0}),n.parent=i,n.child=r,n.lastComponent=o},{}],125:[function(e,t,n){"use strict";function i(e){return new Promise(e)}function r(e){return Promise.resolve(e)}function o(e){return Promise.reject(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.make=i,n.resolve=r,n.reject=o},{}],126:[function(e,t,n){"use strict";function i(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function r(e){var t="undefined"!=typeof a.default?a.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function o(e,t,n){var o=p.makeQueryString(e.urlParams),a=e.url+o,s=c.clone(e.headers);return i(s,t),r(s),new v(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}Object.defineProperty(n,"__esModule",{value:!0});var a=e("@firebase/app"),s=e("./array"),u=e("./backoff"),l=e("./error"),c=e("./object"),h=e("./promise_external"),f=e("./type"),p=e("./url"),d=e("./xhrio"),v=function(){function e(e,t,n,i,r,o,a,s,u,l,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c;var f=this;this.promise_=h.make(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){function e(e,t){function i(e){var t=e.loaded,i=e.lengthComputable?e.total:-1;null!==n.progressCallback_&&n.progressCallback_(t,i)}if(t)return void e(!1,new m(!1,null,!0));var r=n.pool_.createXhrIo();n.pendingXhr_=r,null!==n.progressCallback_&&r.addUploadProgressListener(i),r.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(i),n.pendingXhr_=null,t=t;var r=t.getErrorCode()===d.ErrorCode.NO_ERROR,o=t.getStatus();if(!r||n.isRetryStatusCode_(o)){var a=t.getErrorCode()===d.ErrorCode.ABORT;return void e(!1,new m(!1,null,a))}var u=s.contains(n.successCodes_,o);e(!0,new m(u,t))})}function t(e,t){var i=n.resolve_,r=n.reject_,o=t.xhr;if(t.wasSuccessCode)try{var a=n.callback_(o,o.getResponseText());f.isJustDef(a)?i(a):i()}catch(e){r(e)}else if(null!==o){var s=l.unknown();s.setServerResponseProp(o.getResponseText()),r(n.errorCallback_?n.errorCallback_(o,s):s)}else if(t.canceled){var s=n.appDelete_?l.appDeleted():l.canceled();r(s)}else{var s=l.retryLimitExceeded();r(s)}}var n=this;this.canceled_?t(!1,new m(!1,null,!0)):this.backoffId_=u.start(e,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&u.stop(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],i=s.contains(n,e),r=s.contains(this.additionalRetryCodes_,e);return t||i||r},e}(),m=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}();n.RequestEndStatus=m,n.addAuthHeader_=i,n.addVersionHeader_=r,n.makeRequest=o},{"./array":110,"./backoff":113,"./error":116,"./object":122,"./promise_external":125,"./type":132,"./url":133,"./xhrio":134,"@firebase/app":1}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();n.RequestInfo=i},{}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./object"),r=e("./constants"),o=function(){function e(){this.map_={},this.id_=r.minSafeInteger}return e.prototype.addRequest=function(e){function t(){delete i.map_[n]}var n=this.id_;this.id_++,this.map_[n]=e;var i=this;e.getPromise().then(t,t)},e.prototype.clear=function(){i.forEach(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}();n.RequestMap=o},{"./constants":115,"./object":122}],129:[function(e,t,n){"use strict";function i(e){if(!e)throw y.unknown()}function r(e,t){function n(n,r){var o=b.fromResourceString(e,r,t);return i(null!==o),o}return n}function o(e){function t(t,n){var i;return i=401===t.getStatus()?y.unauthenticated():402===t.getStatus()?y.quotaExceeded(e.bucket):403===t.getStatus()?y.unauthorized(e.path):n,i.setServerResponseProp(n.serverResponseProp()),i}return t}function a(e){function t(t,i){var r=n(t,i);return 404===t.getStatus()&&(r=y.objectNotFound(e.path)),r.setServerResponseProp(i.serverResponseProp()),r}var n=o(e);return t}function s(e,t,n){var i=t.fullServerUrl(),o=S.makeNormalUrl(i),s="GET",u=e.maxOperationRetryTime(),l=new T.RequestInfo(o,s,r(e,n),u);return l.errorHandler=a(t),l}function u(e,t,n,i){var o=t.fullServerUrl(),s=S.makeNormalUrl(o),u="PATCH",l=b.toResourceString(n,i),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime(),f=new T.RequestInfo(s,u,r(e,i),h);return f.headers=c,f.body=l,f.errorHandler=a(t),f}function l(e,t){function n(e,t){}var i=t.fullServerUrl(),r=S.makeNormalUrl(i),o="DELETE",s=e.maxOperationRetryTime(),u=new T.RequestInfo(r,o,n,s);return u.successCodes=[200,204],u.errorHandler=a(t),u}function c(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function h(e,t,n){var i=w.clone(n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=c(null,t)),i}function f(e,t,n,i,a){function s(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var u=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},c=s();l["Content-Type"]="multipart/related; boundary="+c;var f=h(t,i,a),p=b.toResourceString(f,n),d="--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+p+"\r\n--"+c+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",v="\r\n--"+c+"--",m=_.FbsBlob.getBlob(d,i,v);if(null===m)throw y.cannotSliceBlob();var g={name:f.fullPath},w=S.makeUploadUrl(u),E="POST",C=e.maxUploadRetryTime(),x=new T.RequestInfo(w,E,r(e,n),C);return x.urlParams=g,x.headers=l,x.body=m.uploadData(),x.errorHandler=o(t),x}function p(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){i(!1)}var r=t||["active"];return i(g.contains(r,n)),n}function d(e,t,n,r,a){function s(e,t){p(e);var n;try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){i(!1)}return i(E.isString(n)),n}var u=t.bucketOnlyServerUrl(),l=h(t,r,a),c={name:l.fullPath},f=S.makeUploadUrl(u),d="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},m=b.toResourceString(l,n),g=e.maxUploadRetryTime(),_=new T.RequestInfo(f,d,s,g);return _.urlParams=c,_.headers=v,_.body=m,_.errorHandler=o(t),_}function v(e,t,n,r){function a(e,t){var n,o=p(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){i(!1)}var a=parseInt(n,10);return i(!isNaN(a)),new C(a,r.size(),"final"===o)}var s={"X-Goog-Upload-Command":"query"},u="POST",l=e.maxUploadRetryTime(),c=new T.RequestInfo(n,u,a,l);return c.headers=s,c.errorHandler=o(t),c}function m(e,t,n,i,a,s,u,l){function c(e,n){var o,a=p(e,["active","final"]),u=h.current+d,l=i.size();return o="final"===a?r(t,s)(e,n):null,new C(u,l,"final"===a,o)}var h=new C(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw y.serverFileWrongSize();var f=h.total-h.current,d=f;a>0&&(d=Math.min(d,a));var v=h.current,m=v+d,g=d===f?"upload, finalize":"upload",_={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":h.current},b=i.slice(v,m);if(null===b)throw y.cannotSliceBlob();var w="POST",E=t.maxUploadRetryTime(),S=new T.RequestInfo(n,w,c,E);
return S.headers=_,S.body=b.uploadData(),S.progressCallback=l||null,S.errorHandler=o(e),S}Object.defineProperty(n,"__esModule",{value:!0});var g=e("./array"),_=e("./blob"),y=e("./error"),b=e("./metadata"),w=e("./object"),T=e("./requestinfo"),E=e("./type"),S=e("./url");n.handlerCheck=i,n.metadataHandler=r,n.sharedErrorHandler=o,n.objectErrorHandler=a,n.getMetadata=s,n.updateMetadata=u,n.deleteObject=l,n.determineContentType_=c,n.metadataForUpload_=h,n.multipartUpload=f;var C=function(){function e(e,t,n,i){this.current=e,this.total=t,this.finalized=!!n,this.metadata=i||null}return e}();n.ResumableUploadStatus=C,n.checkResumeHeader_=p,n.createResumableUpload=d,n.getResumableUploadStatus=v,n.resumableUploadChunkSize=262144,n.continueResumableUpload=m},{"./array":110,"./blob":114,"./error":116,"./metadata":121,"./object":122,"./requestinfo":127,"./type":132,"./url":133}],130:[function(e,t,n){"use strict";function i(e){switch(e){case n.StringFormat.RAW:case n.StringFormat.BASE64:case n.StringFormat.BASE64URL:case n.StringFormat.DATA_URL:return;default:throw"Expected one of the event types: ["+n.StringFormat.RAW+", "+n.StringFormat.BASE64+", "+n.StringFormat.BASE64URL+", "+n.StringFormat.DATA_URL+"]."}}function r(e,t){switch(e){case n.StringFormat.RAW:return new f(o(t));case n.StringFormat.BASE64:case n.StringFormat.BASE64URL:return new f(s(e,t));case n.StringFormat.DATA_URL:return new f(u(t),l(t))}throw h.unknown()}function o(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296==(64512&i)){var r=n<e.length-1&&56320==(64512&e.charCodeAt(n+1));if(r){var o=i,a=e.charCodeAt(++n);i=65536|(1023&o)<<10|1023&a,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function a(e){var t;try{t=decodeURIComponent(e)}catch(e){throw h.invalidFormat(n.StringFormat.DATA_URL,"Malformed data URL.")}return o(t)}function s(e,t){switch(e){case n.StringFormat.BASE64:var i=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(i||r){var o=i?"-":"_";throw h.invalidFormat(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break;case n.StringFormat.BASE64URL:var a=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(a||s){var o=a?"+":"/";throw h.invalidFormat(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(t)}catch(t){throw h.invalidFormat(e,"Invalid character found")}for(var l=new Uint8Array(u.length),c=0;c<u.length;c++)l[c]=u.charCodeAt(c);return l}function u(e){var t=new p(e);return t.base64?s(n.StringFormat.BASE64,t.rest):a(t.rest)}function l(e){var t=new p(e);return t.contentType}function c(e,t){var n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}Object.defineProperty(n,"__esModule",{value:!0});var h=e("./error");n.StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},n.formatValidator=i;var f=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}();n.StringData=f,n.dataFromString=r,n.utf8Bytes_=o,n.percentEncodedBytes_=a,n.base64Bytes_=s;var p=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw h.invalidFormat(n.StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=t[1]||null;null!=i&&(this.base64=c(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)}return e}();n.dataURLBytes_=u,n.dataURLContentType_=l},{"./error":116}],131:[function(e,t,n){"use strict";function i(e){switch(e){case n.InternalTaskState.RUNNING:case n.InternalTaskState.PAUSING:case n.InternalTaskState.CANCELING:return n.TaskState.RUNNING;case n.InternalTaskState.PAUSED:return n.TaskState.PAUSED;case n.InternalTaskState.SUCCESS:return n.TaskState.SUCCESS;case n.InternalTaskState.CANCELED:return n.TaskState.CANCELED;case n.InternalTaskState.ERROR:return n.TaskState.ERROR;default:return n.TaskState.ERROR}}Object.defineProperty(n,"__esModule",{value:!0}),n.TaskEvent={STATE_CHANGED:"state_changed"},n.InternalTaskState={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},n.TaskState={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},n.taskStateFromInternalTaskState=i},{}],132:[function(e,t,n){"use strict";function i(e){return null!=e}function r(e){return void 0!==e}function o(e){return"function"==typeof e}function a(e){return"object"==typeof e}function s(e){return a(e)&&null!==e}function u(e){return a(e)&&!Array.isArray(e)}function l(e){return"string"==typeof e||e instanceof String}function c(e){return"number"==typeof e||e instanceof Number}function h(e){return f()&&e instanceof Blob}function f(){return"undefined"!=typeof Blob}Object.defineProperty(n,"__esModule",{value:!0}),n.isDef=i,n.isJustDef=r,n.isFunction=o,n.isObject=a,n.isNonNullObject=s,n.isNonArrayObject=u,n.isString=l,n.isNumber=c,n.isNativeBlob=h,n.isNativeBlobDefined=f},{}],133:[function(e,t,n){"use strict";function i(e){return s.domainBase+s.apiBaseUrl+e}function r(e){return s.downloadBase+s.apiBaseUrl+e}function o(e){return s.domainBase+s.apiUploadBaseUrl+e}function a(e){var t=encodeURIComponent,n="?";return u.forEach(e,function(e,i){var r=t(e)+"="+t(i);n=n+r+"&"}),n=n.slice(0,-1)}Object.defineProperty(n,"__esModule",{value:!0});var s=e("./constants"),u=e("./object");n.makeNormalUrl=i,n.makeDownloadUrl=r,n.makeUploadUrl=o,n.makeQueryString=a},{"./constants":115,"./object":122}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(i=n.ErrorCode||(n.ErrorCode={}))},{}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./error"),r=e("./object"),o=e("./promise_external"),a=e("./type"),s=e("./xhrio"),u=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=s.ErrorCode.NO_ERROR,this.sendPromise_=o.make(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=s.ErrorCode.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=s.ErrorCode.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,o){var s=this;if(this.sent_)throw i.internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a.isDef(o)){var u=o;r.forEach(u,function(e,t){s.xhr_.setRequestHeader(e,t.toString())})}return a.isDef(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw i.internalError("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw i.internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw i.internalError("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){a.isDef(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){a.isDef(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}();n.NetworkXhrIo=u},{"./error":116,"./object":122,"./promise_external":125,"./type":132,"./xhrio":134}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./xhrio_network"),r=function(){function e(){}return e.prototype.createXhrIo=function(){return new i.NetworkXhrIo},e}();n.XhrIoPool=r},{"./xhrio_network":135}],137:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./implementation/args"),r=e("./implementation/blob"),o=e("./implementation/error"),a=e("./implementation/location"),s=e("./implementation/metadata"),u=e("./implementation/object"),l=e("./implementation/path"),c=e("./implementation/requests"),h=e("./implementation/string"),f=e("./implementation/string"),p=e("./implementation/type"),d=e("./task"),v=function(){function e(e,t){this.authWrapper=e,t instanceof a.Location?this.location=t:this.location=a.Location.makeFromUrl(t)}return e.prototype.toString=function(){return i.validate("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return s.getMappings()},e.prototype.child=function(e){i.validate("child",[i.stringSpec()],arguments);var t=l.child(this.location.path,e),n=new a.Location(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=l.parent(this.location.path);if(null===e)return null;var t=new a.Location(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new a.Location(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return l.lastComponent(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),i.validate("put",[i.uploadDataSpec(),i.metadataSpec(!0)],arguments),this.throwIfRoot_("put"),new d.UploadTask(this,this.authWrapper,this.location,this.mappings(),new r.FbsBlob(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=f.StringFormat.RAW),i.validate("putString",[i.stringSpec(),i.stringSpec(h.formatValidator,!0),i.metadataSpec(!0)],arguments),this.throwIfRoot_("putString");var o=h.dataFromString(t,e),a=u.clone(n);return!p.isDef(a.contentType)&&p.isDef(o.contentType)&&(a.contentType=o.contentType),new d.UploadTask(this,this.authWrapper,this.location,this.mappings(),new r.FbsBlob(o.data,!0),a)},e.prototype.delete=function(){i.validate("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=c.deleteObject(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.getMetadata=function(){i.validate("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=c.getMetadata(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){i.validate("updateMetadata",[i.metadataSpec()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var i=c.updateMetadata(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(i,n).getPromise()})},e.prototype.getDownloadURL=function(){return i.validate("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(p.isDef(t))return t;throw o.noDownloadURL()})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw o.invalidRootOperation(e)},e}();n.Reference=v},{"./implementation/args":109,"./implementation/blob":114,"./implementation/error":116,"./implementation/location":120,"./implementation/metadata":121,"./implementation/object":122,"./implementation/path":124,"./implementation/requests":129,"./implementation/string":130,"./implementation/type":132,"./task":139}],138:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./implementation/args"),r=e("./implementation/authwrapper"),o=e("./implementation/location"),a=e("./implementation/promise_external"),s=e("./implementation/request"),u=e("./reference"),l=function(){function e(e,t,n){function i(e,t){return new u.Reference(e,t)}if(this.bucket_=null,this.authWrapper_=new r.AuthWrapper(e,i,s.makeRequest,this,t),this.app_=e,null!=n)this.bucket_=o.Location.makeFromBucketSpec(n);else{var a=this.authWrapper_.bucket();null!=a&&(this.bucket_=new o.Location(a,""))}this.internals_=new c(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(i.validate("ref",[i.stringSpec(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new u.Reference(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{o.Location.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return i.validate("refFromURL",[i.stringSpec(t,!1)],arguments),new u.Reference(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){i.validate("setMaxUploadRetryTime",[i.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){i.validate("setMaxOperationRetryTime",[i.nonNegativeNumberSpec()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}();n.Service=l;var c=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),a.resolve(void 0)},e}();n.ServiceInternals=c},{"./implementation/args":109,"./implementation/authwrapper":112,"./implementation/location":120,"./implementation/promise_external":125,"./implementation/request":126,"./reference":137}],139:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./implementation/taskenums"),r=e("./implementation/observer"),o=e("./implementation/taskenums"),a=e("./tasksnapshot"),s=e("./implementation/args"),u=e("./implementation/array"),l=e("./implementation/async"),c=e("./implementation/error"),h=e("./implementation/promise_external"),f=e("./implementation/requests"),p=e("./implementation/taskenums"),d=e("./implementation/type"),v=function(){function e(e,t,n,r,o,a){void 0===a&&(a=null);var s=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=o,this.metadata_=a,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=i.InternalTaskState.RUNNING,this.errorHandler_=function(e){s.request_=null,s.chunkMultiplier_=1,e.codeEquals(c.Code.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=e,s.transition_(i.InternalTaskState.ERROR))},this.metadataErrorHandler_=function(e){s.request_=null,e.codeEquals(c.Code.CANCELED)?s.completeTransitions_():(s.error_=e,s.transition_(i.InternalTaskState.ERROR))},this.promise_=h.make(function(e,t){s.resolve_=e,s.reject_=t,s.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,i){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===i.InternalTaskState.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case i.InternalTaskState.RUNNING:e(n);break;case i.InternalTaskState.CANCELING:t.transition_(i.InternalTaskState.CANCELED);break;case i.InternalTaskState.PAUSING:t.transition_(i.InternalTaskState.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=f.createResumableUpload(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var i=f.getResumableUploadStatus(e.authWrapper_,e.location_,t,e.blob_),r=e.authWrapper_.makeRequest(i,n);e.request_=r,r.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=f.resumableUploadChunkSize*this.chunkMultiplier_,n=new f.ResumableUploadStatus(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(o){var a;try{a=f.continueResumableUpload(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(i.InternalTaskState.ERROR)}var s=e.authWrapper_.makeRequest(a,o);e.request_=s,s.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(i.InternalTaskState.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){var e=f.resumableUploadChunkSize*this.chunkMultiplier_;e<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=f.getMetadata(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(i.InternalTaskState.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=f.multipartUpload(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(i.InternalTaskState.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case i.InternalTaskState.CANCELING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case i.InternalTaskState.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case i.InternalTaskState.RUNNING:var t=this.state_===i.InternalTaskState.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case i.InternalTaskState.PAUSED:this.state_=e,this.notifyObservers_();break;case i.InternalTaskState.CANCELED:this.error_=c.canceled(),this.state_=e,this.notifyObservers_();break;case i.InternalTaskState.ERROR:this.state_=e,this.notifyObservers_();break;case i.InternalTaskState.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case i.InternalTaskState.PAUSING:this.transition_(i.InternalTaskState.PAUSED);break;case i.InternalTaskState.CANCELING:this.transition_(i.InternalTaskState.CANCELED);break;case i.InternalTaskState.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=p.taskStateFromInternalTaskState(this.state_);return new a.UploadTaskSnapshot(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,i){function a(t){if(e!==o.TaskEvent.STATE_CHANGED)throw"Expected one of the event types: ["+o.TaskEvent.STATE_CHANGED+"]."}function u(e){try{return void f(e)}catch(e){}try{p(e);var t=d.isJustDef(e.next)||d.isJustDef(e.error)||d.isJustDef(e.complete);if(!t)throw"";return}catch(e){throw h}}function l(e){function t(t,n,o){null!==e&&s.validate("on",e,arguments);var a=new r.Observer(t,n,i);return m.addObserver_(a),function(){m.removeObserver_(a)}}return t}function c(e){if(null===e)throw h;u(e)}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var h="Expected a function or an Object with one of `next`, `error`, `complete` properties.",f=s.nullFunctionSpec(!0).validator,p=s.looseObjectSpec(null,!0).validator,v=[s.stringSpec(a),s.looseObjectSpec(u,!0),s.nullFunctionSpec(!0),s.nullFunctionSpec(!0)];s.validate("on",v,arguments);var m=this,g=[s.looseObjectSpec(c),s.nullFunctionSpec(!0),s.nullFunctionSpec(!0)],_=!(d.isJustDef(t)||d.isJustDef(n)||d.isJustDef(i));return _?l(g):l(null)(t,n,i)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){u.remove(this.observers_,e)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_();var t=u.clone(this.observers_);t.forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(p.taskStateFromInternalTaskState(this.state_)){case o.TaskState.SUCCESS:l.async(this.resolve_.bind(null,this.snapshot))();break;case o.TaskState.CANCELED:case o.TaskState.ERROR:var t=this.reject_;l.async(t.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){var t=p.taskStateFromInternalTaskState(this.state_);switch(t){case o.TaskState.RUNNING:case o.TaskState.PAUSED:null!==e.next&&l.async(e.next.bind(e,this.snapshot))();break;case o.TaskState.SUCCESS:null!==e.complete&&l.async(e.complete.bind(e))();break;case o.TaskState.CANCELED:case o.TaskState.ERROR:null!==e.error&&l.async(e.error.bind(e,this.error_))();break;default:null!==e.error&&l.async(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){s.validate("resume",[],arguments);var e=this.state_===i.InternalTaskState.PAUSED||this.state_===i.InternalTaskState.PAUSING;return e&&this.transition_(i.InternalTaskState.RUNNING),e},e.prototype.pause=function(){s.validate("pause",[],arguments);var e=this.state_===i.InternalTaskState.RUNNING;return e&&this.transition_(i.InternalTaskState.PAUSING),e},e.prototype.cancel=function(){s.validate("cancel",[],arguments);var e=this.state_===i.InternalTaskState.RUNNING||this.state_===i.InternalTaskState.PAUSING;return e&&this.transition_(i.InternalTaskState.CANCELING),e},e}();n.UploadTask=v},{"./implementation/args":109,"./implementation/array":110,"./implementation/async":111,"./implementation/error":116,"./implementation/observer":123,"./implementation/promise_external":125,"./implementation/requests":129,"./implementation/taskenums":131,"./implementation/type":132,"./tasksnapshot":140}],140:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,r,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=i,this.task=r,this.ref=o}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}();n.UploadTaskSnapshot=i},{}],141:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./src/assert");n.assert=i.assert,n.assertionError=i.assertionError;var r=e("./src/crypt");n.base64=r.base64,n.base64Decode=r.base64Decode,n.base64Encode=r.base64Encode;var o=e("./src/constants");n.CONSTANTS=o.CONSTANTS;var a=e("./src/deepCopy");n.deepCopy=a.deepCopy,n.deepExtend=a.deepExtend,n.patchProperty=a.patchProperty;var s=e("./src/deferred");n.Deferred=s.Deferred;var u=e("./src/environment");n.getUA=u.getUA,n.isMobileCordova=u.isMobileCordova,n.isNodeSdk=u.isNodeSdk,n.isReactNative=u.isReactNative;var l=e("./src/errors");n.ErrorFactory=l.ErrorFactory,n.FirebaseError=l.FirebaseError,n.patchCapture=l.patchCapture;var c=e("./src/json");n.jsonEval=c.jsonEval,n.stringify=c.stringify;var h=e("./src/jwt");n.decode=h.decode,n.isAdmin=h.isAdmin,n.issuedAtTime=h.issuedAtTime,n.isValidFormat=h.isValidFormat,n.isValidTimestamp=h.isValidTimestamp;var f=e("./src/obj");n.clone=f.clone,n.contains=f.contains,n.every=f.every,n.extend=f.extend,n.findKey=f.findKey,n.findValue=f.findValue,n.forEach=f.forEach,n.getAnyKey=f.getAnyKey,n.getCount=f.getCount,n.getValues=f.getValues,n.isEmpty=f.isEmpty,n.isNonNullObject=f.isNonNullObject,n.map=f.map,n.safeGet=f.safeGet;var p=e("./src/query");n.querystring=p.querystring,n.querystringDecode=p.querystringDecode;var d=e("./src/sha1");n.Sha1=d.Sha1;var v=e("./src/subscribe");n.async=v.async,n.createSubscribe=v.createSubscribe;var m=e("./src/validation");n.errorPrefix=m.errorPrefix,n.validateArgCount=m.validateArgCount,n.validateCallback=m.validateCallback,n.validateContextObject=m.validateContextObject,n.validateNamespace=m.validateNamespace;var g=e("./src/utf8");n.stringLength=g.stringLength,n.stringToByteArray=g.stringToByteArray},{"./src/assert":142,"./src/constants":143,"./src/crypt":144,"./src/deepCopy":145,"./src/deferred":146,"./src/environment":147,"./src/errors":148,"./src/json":150,"./src/jwt":151,"./src/obj":152,"./src/query":153,"./src/sha1":154,"./src/subscribe":155,"./src/utf8":156,"./src/validation":157}],142:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./constants");n.assert=function(e,t){if(!e)throw n.assertionError(t)},n.assertionError=function(e){return new Error("Firebase Database ("+i.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}},{"./constants":143}],143:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},{}],144:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},r=function(e){for(var t=[],n=0,i=0;n<e.length;){var r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return t.join("")};n.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<e.length;r+=3){var o=e[r],a=r+1<e.length,s=a?e[r+1]:0,u=r+2<e.length,l=u?e[r+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,p=63&l;u||(p=64,a||(f=64)),i.push(n[c],n[h],n[f],n[p])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):r(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<e.length;){var o=n[e.charAt(r++)],a=r<e.length,s=a?n[e.charAt(r)]:0;++r;var u=r<e.length,l=u?n[e.charAt(r)]:64;++r;var c=r<e.length,h=c?n[e.charAt(r)]:64;if(++r,null==o||null==s||null==l||null==h)throw Error();var f=o<<2|s>>4;if(i.push(f),64!=l){var p=s<<4&240|l>>2;if(i.push(p),64!=h){var d=l<<6&192|h;i.push(d)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},n.base64Encode=function(e){var t=i(e);return n.base64.encodeByteArray(t,!0)},n.base64Decode=function(e){try{return n.base64.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}},{}],145:[function(e,t,n){"use strict";function i(e){return r(void 0,e)}function r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)t.hasOwnProperty(i)&&(e[i]=r(e[i],t[i]));return e}function o(e,t,n){e[t]=n}Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopy=i,n.deepExtend=r,n.patchProperty=o},{}],146:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,i){n?t.reject(n):t.resolve(i),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,i))}},e}();n.Deferred=i},{}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./constants");n.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},n.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n.getUA())},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isNodeSdk=function(){return i.CONSTANTS.NODE_CLIENT===!0||i.CONSTANTS.NODE_ADMIN===!0}},{"./constants":143}],148:[function(e,t,n){"use strict";function i(e){var t=o;return o=e,t}Object.defineProperty(n,"__esModule",{value:!0});var r="FirebaseError",o=Error.captureStackTrace;n.patchCapture=i;var a=function(){function e(e,t){this.code=e,this.message=t;if(o)o(this,s.prototype.create);else{var n=Error.apply(this,arguments);this.name=r,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return e}();n.FirebaseError=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name=r;var s=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){
void 0===t&&(t={});var n,i=this.errors[e],r=this.service+"/"+e;n=void 0===i?"Error":i.replace(this.pattern,function(e,n){var i=t[n];return void 0!==i?i.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+r+").";var o=new a(r,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();n.ErrorFactory=s},{}],149:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.blockSize=-1}return e}();n.Hash=i},{}],150:[function(e,t,n){"use strict";function i(e){return JSON.parse(e)}function r(e){return JSON.stringify(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.jsonEval=i,n.stringify=r},{}],151:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./crypt"),r=e("./json");n.decode=function(e){var t={},n={},o={},a="";try{var s=e.split(".");t=r.jsonEval(i.base64Decode(s[0])||""),n=r.jsonEval(i.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:o,signature:a}},n.isValidTimestamp=function(e){var t,i,r=n.decode(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),i=r.hasOwnProperty("exp")?r.exp:t+86400),o&&t&&i&&o>=t&&o<=i},n.issuedAtTime=function(e){var t=n.decode(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},n.isValidFormat=function(e){var t=n.decode(e),i=t.claims;return!!t.signature&&!!i&&"object"==typeof i&&i.hasOwnProperty("iat")},n.isAdmin=function(e){var t=n.decode(e).claims;return"object"==typeof t&&t.admin===!0}},{"./crypt":144,"./json":150}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},n.forEach=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},n.extend=function(e,t){return n.forEach(t,function(t,n){e[t]=n}),e},n.clone=function(e){return n.extend({},e)},n.isNonNullObject=function(e){return"object"==typeof e&&null!==e},n.isEmpty=function(e){for(var t in e)return!1;return!0},n.getCount=function(e){var t=0;for(var n in e)t++;return t},n.map=function(e,t,n){var i={};for(var r in e)i[r]=t.call(n,e[r],r,e);return i},n.findKey=function(e,t,n){for(var i in e)if(t.call(n,e[i],i,e))return i},n.findValue=function(e,t,i){var r=n.findKey(e,t,i);return r&&e[r]},n.getAnyKey=function(e){for(var t in e)return t},n.getValues=function(e){var t=[],n=0;for(var i in e)t[n++]=e[i];return t},n.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0}},{}],153:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./obj");n.querystring=function(e){var t=[];return i.forEach(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},n.querystringDecode=function(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}},{"./obj":152}],154:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),r=e("./hash"),o=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return i.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var i=0;i<16;i++)n[i]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],i=0;i<80;i++){i<40?i<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):i<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);var r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<t;){if(0==o)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[o]=e.charCodeAt(i),++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}else for(;i<t;)if(r[o]=e[i],++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var i=0,n=0;n<5;n++)for(var r=24;r>=0;r-=8)e[i]=this.chain_[n]>>r&255,++i;return e},t}(r.Hash);n.Sha1=o},{"./hash":149,tslib:178}],155:[function(e,t,n){"use strict";function i(e,t){var n=new s(e,t);return n.subscribe.bind(n)}function r(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function o(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(r in e&&"function"==typeof e[r])return!0}return!1}function a(){}Object.defineProperty(n,"__esModule",{value:!0}),n.createSubscribe=i;var s=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var i,r=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=o(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=a),void 0===i.error&&(i.error=a),void 0===i.complete&&(i.complete=a);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();n.async=r},{}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./assert");n.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i.assert(r<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(r)-56320;o=65536+(a<<10)+s}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},n.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t}},{"./assert":142}],157:[function(e,t,n){"use strict";function i(e,t,n){var i="";switch(t){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=e+" failed: ";return r+=i+" argument "}function r(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(i(e,t,r)+"must be a valid firebase namespace.")}function o(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(i(e,t,r)+"must be a valid function.")}function a(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(i(e,t,r)+"must be a valid context object.")}Object.defineProperty(n,"__esModule",{value:!0}),n.validateArgCount=function(e,t,n,i){var r;if(i<t?r="at least "+t:i>n&&(r=0===n?"none":"no more than "+n),r){var o=e+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}},n.errorPrefix=i,n.validateNamespace=r,n.validateCallback=o,n.validateContextObject=a},{}],158:[function(e,t,n){!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof n&&"string"!=typeof n.nodeName?n:e.commonJsStrict={})}(this,function(e){function n(e){if(e in $)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Q.length;n--;)if(e=Q[n]+t,e in $)return e}function i(e,t){var n=J.indexOf(e)>-1?J:Z,i=n.indexOf(e),r=t/90%n.length;return n[(n.length+i+r%n.length)%n.length]}function r(e,t){e=e||{};for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},r(e[n],t[n])):e[n]=t[n];return e}function o(e){return r({},e)}function a(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}}function s(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function u(e,t,n){if("string"==typeof t){var i=t;t={},t[i]=n}for(var r in t)e.style[r]=t[r]}function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function h(e,t){for(var n in t)e.setAttribute(n,t[n])}function f(e){return parseInt(e,10)}function p(e,t){var n=new Image;return n.style.opacity=0,new Promise(function(i){function r(){n.style.opacity=1,setTimeout(function(){i(n)},1)}n.removeAttribute("crossOrigin"),e.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){t?EXIF.getData(n,function(){r()}):r()},n.src=e})}function d(e,t){var n=e.naturalWidth,i=e.naturalHeight,r=t||v(e);if(r&&r>=5){var o=n;n=i,i=o}return{width:n,height:i}}function v(e){return e.exifdata?e.exifdata.Orientation:1}function m(e,t,n){var i=t.width,r=t.height,o=e.getContext("2d");switch(e.width=t.width,e.height=t.height,o.save(),n){case 2:o.translate(i,0),o.scale(-1,1);break;case 3:o.translate(i,r),o.rotate(180*Math.PI/180);break;case 4:o.translate(0,r),o.scale(1,-1);break;case 5:e.width=r,e.height=i,o.rotate(90*Math.PI/180),o.scale(1,-1);break;case 6:e.width=r,e.height=i,o.rotate(90*Math.PI/180),o.translate(0,-r);break;case 7:e.width=r,e.height=i,o.rotate(-90*Math.PI/180),o.translate(-i,r),o.scale(1,-1);break;case 8:e.width=r,e.height=i,o.translate(0,i),o.rotate(-90*Math.PI/180)}o.drawImage(t,0,0,i,r),o.restore()}function g(){var e,t,n,i,r,o,a=this,s="croppie-container",c=a.options.viewport.type?"cr-vp-"+a.options.viewport.type:null;a.options.useCanvas=a.options.enableOrientation||_.call(a),a.data={},a.elements={},e=a.elements.boundary=document.createElement("div"),n=a.elements.viewport=document.createElement("div"),t=a.elements.img=document.createElement("img"),i=a.elements.overlay=document.createElement("div"),a.options.useCanvas?(a.elements.canvas=document.createElement("canvas"),a.elements.preview=a.elements.canvas):a.elements.preview=a.elements.img,l(e,"cr-boundary"),e.setAttribute("aria-dropeffect","none"),r=a.options.boundary.width,o=a.options.boundary.height,u(e,{width:r+(isNaN(r)?"":"px"),height:o+(isNaN(o)?"":"px")}),l(n,"cr-viewport"),c&&l(n,c),u(n,{width:a.options.viewport.width+"px",height:a.options.viewport.height+"px"}),n.setAttribute("tabindex",0),l(a.elements.preview,"cr-image"),h(a.elements.preview,{alt:"preview","aria-grabbed":"false"}),l(i,"cr-overlay"),a.element.appendChild(e),e.appendChild(a.elements.preview),e.appendChild(n),e.appendChild(i),l(a.element,s),a.options.customClass&&l(a.element,a.options.customClass),C.call(this),a.options.enableZoom&&w.call(a),a.options.enableResize&&y.call(a)}function _(){return this.options.enableExif&&window.EXIF}function y(){function e(e){if((void 0===e.button||0===e.button)&&(e.preventDefault(),!d)){var u=f.elements.overlay.getBoundingClientRect();if(d=!0,r=e.pageX,o=e.pageY,i=e.currentTarget.className.indexOf("vertical")!==-1?"v":"h",a=u.width,s=u.height,e.touches){var l=e.touches[0];r=l.pageX,o=l.pageY}window.addEventListener("mousemove",t),window.addEventListener("touchmove",t),window.addEventListener("mouseup",n),window.addEventListener("touchend",n),document.body.style[G]="none"}}function t(e){var t=e.pageX,n=e.pageY;if(e.preventDefault(),e.touches){var l=e.touches[0];t=l.pageX,n=l.pageY}var c=t-r,h=n-o,d=f.options.viewport.height+h,m=f.options.viewport.width+c;"v"===i&&d>=v&&d<=s?(u(p,{height:d+"px"}),f.options.boundary.height+=h,u(f.elements.boundary,{height:f.options.boundary.height+"px"}),f.options.viewport.height+=h,u(f.elements.viewport,{height:f.options.viewport.height+"px"})):"h"===i&&m>=v&&m<=a&&(u(p,{width:m+"px"}),f.options.boundary.width+=c,u(f.elements.boundary,{width:f.options.boundary.width+"px"}),f.options.viewport.width+=c,u(f.elements.viewport,{width:f.options.viewport.width+"px"})),x.call(f),O.call(f),S.call(f),P.call(f),o=n,r=t}function n(){d=!1,window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),document.body.style[G]=""}var i,r,o,a,s,c,h,f=this,p=document.createElement("div"),d=!1,v=50;l(p,"cr-resizer"),u(p,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(c=document.createElement("div"),l(c,"cr-resizer-vertical"),p.appendChild(c)),this.options.resizeControls.width&&(h=document.createElement("div"),l(h,"cr-resizer-horisontal"),p.appendChild(h)),c&&(c.addEventListener("mousedown",e),c.addEventListener("touchstart",e)),h&&(h.addEventListener("mousedown",e),h.addEventListener("touchstart",e)),this.elements.boundary.appendChild(p)}function b(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=B(e,4);t.value=Math.max(t.min,Math.min(t.max,n))}}function w(){function e(){T.call(n,{value:parseFloat(r.value),origin:new ne(n.elements.preview),viewportRect:n.elements.viewport.getBoundingClientRect(),transform:te.parse(n.elements.preview)})}function t(t){var i,r;return"ctrl"===n.options.mouseWheelZoom&&1!=t.ctrlKey?0:(i=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,r=n._currentZoom+i*n._currentZoom,t.preventDefault(),b.call(n,r),void e.call(n))}var n=this,i=n.elements.zoomerWrap=document.createElement("div"),r=n.elements.zoomer=document.createElement("input");l(i,"cr-slider-wrap"),l(r,"cr-slider"),r.type="range",r.step="0.0001",r.value=1,r.style.display=n.options.showZoomer?"":"none",r.setAttribute("aria-label","zoom"),n.element.appendChild(i),i.appendChild(r),n._currentZoom=1,n.elements.zoomer.addEventListener("input",e),n.elements.zoomer.addEventListener("change",e),n.options.mouseWheelZoom&&(n.elements.boundary.addEventListener("mousewheel",t),n.elements.boundary.addEventListener("DOMMouseScroll",t))}function T(e){function t(){var e={};e[Y]=i.toString(),e[K]=o.toString(),u(n.elements.preview,e)}var n=this,i=e?e.transform:te.parse(n.elements.preview),r=e?e.viewportRect:n.elements.viewport.getBoundingClientRect(),o=e?e.origin:new ne(n.elements.preview);if(n._currentZoom=e?e.value:n._currentZoom,i.scale=n._currentZoom,n.elements.zoomer.setAttribute("aria-valuenow",n._currentZoom),t(),n.options.enforceBoundary){var a=E.call(n,r),s=a.translate,l=a.origin;i.x>=s.maxX&&(o.x=l.minX,i.x=s.maxX),i.x<=s.minX&&(o.x=l.maxX,i.x=s.minX),i.y>=s.maxY&&(o.y=l.minY,i.y=s.maxY),i.y<=s.minY&&(o.y=l.maxY,i.y=s.minY)}t(),ie.call(n),P.call(n)}function E(e){var t=this,n=t._currentZoom,i=e.width,r=e.height,o=t.elements.boundary.clientWidth/2,a=t.elements.boundary.clientHeight/2,s=t.elements.preview.getBoundingClientRect(),u=s.width,l=s.height,c=i/2,h=r/2,f=(c/n-o)*-1,p=f-(u*(1/n)-i*(1/n)),d=(h/n-a)*-1,v=d-(l*(1/n)-r*(1/n)),m=1/n*c,g=u*(1/n)-m,_=1/n*h,y=l*(1/n)-_;return{translate:{maxX:f,minX:p,maxY:d,minY:v},origin:{maxX:g,minX:m,maxY:y,minY:_}}}function S(){var e=this,t=e._currentZoom,n=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),r=te.parse(e.elements.preview.style[Y]),o=new ne(e.elements.preview),a=i.top-n.top+i.height/2,s=i.left-n.left+i.width/2,l={},c={};l.y=a/t,l.x=s/t,c.y=(l.y-o.y)*(1-t),c.x=(l.x-o.x)*(1-t),r.x-=c.x,r.y-=c.y;var h={};h[K]=l.x+"px "+l.y+"px",h[Y]=r.toString(),u(e.elements.preview,h)}function C(){function e(e,t){var n=d.elements.preview.getBoundingClientRect(),i=p.y+t,r=p.x+e;d.options.enforceBoundary?(f.top>n.top+t&&f.bottom<n.bottom+t&&(p.y=i),f.left>n.left+e&&f.right<n.right+e&&(p.x=r)):(p.y=i,p.x=r)}function t(e){d.elements.preview.setAttribute("aria-grabbed",e),d.elements.boundary.setAttribute("aria-dropeffect",e?"move":"none")}function n(e){function t(e){switch(e){case n:return[1,0];case r:return[0,1];case o:return[-1,0];case a:return[0,-1]}}var n=37,r=38,o=39,a=40;if(!e.shiftKey||e.keyCode!=r&&e.keyCode!=a){if(d.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var s=t(e.keyCode);p=te.parse(d.elements.preview),document.body.style[G]="none",f=d.elements.viewport.getBoundingClientRect(),i(s)}}else{var u=0;u=e.keyCode==r?parseFloat(d.elements.zoomer.value,10)+parseFloat(d.elements.zoomer.step,10):parseFloat(d.elements.zoomer.value,10)-parseFloat(d.elements.zoomer.step,10),d.setZoom(u)}}function i(t){var n=t[0],i=t[1],r={};e(n,i),r[Y]=p.toString(),u(d.elements.preview,r),x.call(d),document.body.style[G]="",S.call(d),P.call(d),h=0}function r(e){if((void 0===e.button||0===e.button)&&(e.preventDefault(),!v)){if(v=!0,l=e.pageX,c=e.pageY,e.touches){var n=e.touches[0];l=n.pageX,c=n.pageY}t(v),p=te.parse(d.elements.preview),window.addEventListener("mousemove",o),window.addEventListener("touchmove",o),window.addEventListener("mouseup",a),window.addEventListener("touchend",a),document.body.style[G]="none",f=d.elements.viewport.getBoundingClientRect()}}function o(t){t.preventDefault();var n=t.pageX,i=t.pageY;if(t.touches){var r=t.touches[0];n=r.pageX,i=r.pageY}var o=n-l,a=i-c,f={};if("touchmove"==t.type&&t.touches.length>1){var v=t.touches[0],m=t.touches[1],g=Math.sqrt((v.pageX-m.pageX)*(v.pageX-m.pageX)+(v.pageY-m.pageY)*(v.pageY-m.pageY));h||(h=g/d._currentZoom);var _=g/h;return b.call(d,_),void s(d.elements.zoomer)}e(o,a),f[Y]=p.toString(),u(d.elements.preview,f),x.call(d),c=i,l=n}function a(){v=!1,t(v),window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",a),window.removeEventListener("touchend",a),document.body.style[G]="",S.call(d),P.call(d),h=0}var l,c,h,f,p,d=this,v=!1;d.elements.overlay.addEventListener("mousedown",r),d.elements.viewport.addEventListener("keydown",n),d.elements.overlay.addEventListener("touchstart",r)}function x(){if(this.elements){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();u(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}}function P(){var e,t=this,n=t.get();if(I.call(t))if(t.options.update.call(t,n),t.$&&"undefined"==typeof Prototype)t.$(t.element).trigger("update.croppie",n);else{var e;window.CustomEvent?e=new CustomEvent("update",{detail:n}):(e=document.createEvent("CustomEvent"),e.initCustomEvent("update",!0,!0,n)),t.element.dispatchEvent(e)}}function I(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function N(){var e=this,t=1,n={},i=e.elements.preview,r=null,o=new te(0,0,t),a=new ne,s=I.call(e);s&&!e.data.bound&&(e.data.bound=!0,n[Y]=o.toString(),n[K]=a.toString(),n.opacity=1,u(i,n),r=e.elements.preview.getBoundingClientRect(),e._originalImageWidth=r.width,e._originalImageHeight=r.height,e.data.orientation=v(e.elements.img),e.options.enableZoom?O.call(e,!0):e._currentZoom=t,o.scale=e._currentZoom,n[Y]=o.toString(),u(i,n),e.data.points.length?A.call(e,e.data.points):R.call(e),S.call(e),x.call(e))}function O(e){var t,n,i,r,o=this,a=0,u=o.options.maxZoom||1.5,l=o.elements.zoomer,c=parseFloat(l.value),h=o.elements.boundary.getBoundingClientRect(),f=d(o.elements.img,o.data.orientation),p=o.elements.viewport.getBoundingClientRect();o.options.enforceBoundary&&(i=p.width/f.width,r=p.height/f.height,a=Math.max(i,r)),a>=u&&(u=a+1),l.min=B(a,4),l.max=B(u,4),!e&&(c<l.min||c>l.max)?b.call(o,c<l.min?l.min:l.max):e&&(n=Math.max(h.width/f.width,h.height/f.height),t=null!==o.data.boundZoom?o.data.boundZoom:n,b.call(o,t)),s(l)}function A(e){if(4!=e.length)throw"Croppie - Invalid number of points supplied: "+e;var t=this,n=e[2]-e[0],i=t.elements.viewport.getBoundingClientRect(),r=t.elements.boundary.getBoundingClientRect(),o={left:i.left-r.left,top:i.top-r.top},a=i.width/n,s=e[1],l=e[0],c=-1*e[1]+o.top,h=-1*e[0]+o.left,f={};f[K]=l+"px "+s+"px",f[Y]=new te(h,c,a).toString(),u(t.elements.preview,f),b.call(t,a),t._currentZoom=a}function R(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),i=e.elements.boundary.getBoundingClientRect(),r=n.left-i.left,o=n.top-i.top,a=r-(t.width-n.width)/2,s=o-(t.height-n.height)/2,l=new te(a,s,e._currentZoom);u(e.elements.preview,Y,l.toString())}function k(e){var t=this,n=t.elements.canvas,i=t.elements.img,r=n.getContext("2d"),o=_.call(t),e=t.options.enableOrientation&&e;if(r.clearRect(0,0,n.width,n.height),n.width=i.width,n.height=i.height,o&&!e){var a=v(i);m(n,i,f(a||0,10))}else e&&m(n,i,e)}function D(e){var t=this,n=e.points,i=f(n[0]),r=f(n[1]),o=f(n[2]),a=f(n[3]),s=o-i,u=a-r,l=e.circle,c=document.createElement("canvas"),h=c.getContext("2d"),p=0,d=0,v=e.outputWidth||s,m=e.outputHeight||u;e.outputWidth&&e.outputHeight;return outputHeightRatio=1,c.width=v,c.height=m,e.backgroundColor&&(h.fillStyle=e.backgroundColor,h.fillRect(0,0,v,m)),s=Math.min(s,t._originalImageWidth),u=Math.min(u,t._originalImageHeight),h.drawImage(this.elements.preview,i,r,s,u,p,d,v,m),l&&(h.fillStyle="#fff",h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(c.width/2,c.height/2,c.width/2,0,2*Math.PI,!0),h.closePath(),h.fill()),c}function L(e){var t=e.points,n=document.createElement("div"),i=document.createElement("img"),r=t[2]-t[0],o=t[3]-t[1];return l(n,"croppie-result"),n.appendChild(i),u(i,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),i.src=e.url,u(n,{width:r+"px",height:o+"px"}),n}function M(e){return D.call(this,e).toDataURL(e.format,e.quality)}function F(e){var t=this;return new Promise(function(n,i){D.call(t,e).toBlob(function(e){n(e)},e.format,e.quality)})}function j(e){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(t){e.classList.add(t)}),this.elements.img.parentNode.replaceChild(e,this.elements.img),this.elements.preview=e),this.elements.img=e}function U(e,t){var n,i=this,r=[],o=null,a=_.call(i);if("string"==typeof e)n=e,e={};else if(Array.isArray(e))r=e.slice();else{if("undefined"==typeof e&&i.data.url)return N.call(i),P.call(i),null;n=e.url,r=e.points||[],o="undefined"==typeof e.zoom?null:e.zoom}return i.data.bound=!1,i.data.url=n||i.data.url,i.data.boundZoom=o,p(n,a).then(function(n){if(j.call(i,n),r.length)i.options.relative&&(r=[r[0]*n.naturalWidth/100,r[1]*n.naturalHeight/100,r[2]*n.naturalWidth/100,r[3]*n.naturalHeight/100]);else{var o,a,s=d(n),u=i.elements.viewport.getBoundingClientRect(),l=u.width/u.height,c=s.width/s.height;c>l?(a=s.height,o=a*l):(o=s.width,a=s.height/l);var h=(s.width-o)/2,f=(s.height-a)/2,p=h+o,v=f+a;i.data.points=[h,f,p,v]}i.data.points=r.map(function(e){return parseFloat(e)}),i.options.useCanvas&&k.call(i,e.orientation||1),N.call(i),P.call(i),t&&t()}).catch(function(e){console.error("Croppie:"+e)})}function B(e,t){return parseFloat(e).toFixed(t||0)}function W(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),i=n.left-t.left,r=n.top-t.top,o=(n.width-e.elements.viewport.offsetWidth)/2,a=(n.height-e.elements.viewport.offsetHeight)/2,s=i+e.elements.viewport.offsetWidth+o,u=r+e.elements.viewport.offsetHeight+a,l=e._currentZoom;(l===1/0||isNaN(l))&&(l=1);var c=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return i=Math.max(c,i/l),r=Math.max(c,r/l),s=Math.max(c,s/l),u=Math.max(c,u/l),{points:[B(i),B(r),B(s),B(u)],zoom:l,orientation:e.data.orientation}}function V(e){var t,n=this,i=W.call(n),a=r(o(re),o(e)),s="string"==typeof e?e:a.type||"base64",u=a.size||"viewport",l=a.format,c=a.quality,h=a.backgroundColor,f="boolean"==typeof a.circle?a.circle:"circle"===n.options.viewport.type,p=n.elements.viewport.getBoundingClientRect(),d=p.width/p.height;return"viewport"===u?(i.outputWidth=p.width,i.outputHeight=p.height):"object"==typeof u&&(u.width&&u.height?(i.outputWidth=u.width,i.outputHeight=u.height):u.width?(i.outputWidth=u.width,i.outputHeight=u.width/d):u.height&&(i.outputWidth=u.height*d,i.outputHeight=u.height)),oe.indexOf(l)>-1&&(i.format="image/"+l,i.quality=c),i.circle=f,i.url=n.data.url,i.backgroundColor=h,t=new Promise(function(e,t){switch(s.toLowerCase()){case"rawcanvas":e(D.call(n,i));break;case"canvas":case"base64":e(M.call(n,i));break;case"blob":F.call(n,i).then(e);break;default:e(L.call(n,i))}})}function q(){N.call(this)}function H(e){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var t=this,n=t.elements.canvas;t.data.orientation=i(t.data.orientation,e),m(n,t.elements.img,t.data.orientation),O.call(t),T.call(t),copy=null}function z(){var e=this;e.element.removeChild(e.elements.boundary),c(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}function X(e,t){if(e.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=e,this.options=r(o(X.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;l(n,"cr-original-image"),h(n,{"aria-hidden":"true",alt:""});var i=document.createElement("div");this.element.parentNode.appendChild(i),i.appendChild(n),this.element=i,this.options.url=this.options.url||n.src}if(g.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,U.call(this,a)}}"function"!=typeof Promise&&!function(e){function n(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(o,this),n(a,this))}function r(e){var t=this;return null===this._state?void this._deferreds.push(e):void h(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)})}function o(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(o,this),n(a,this))}this._state=!0,this._value=e,s.call(this)}catch(e){a.call(this,e)}}function a(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}var c=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(e){c(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i(function(i,o){r.call(n,new u(e,t,i,o))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0===--r&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},i._setImmediateFn=function(e){h=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this),"function"!=typeof window.CustomEvent&&!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),r=i.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=i.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}});var K,Y,G,Q=["Webkit","Moz","ms"],$=document.createElement("div").style,J=[1,8,3,6],Z=[2,7,4,5];Y=n("transform"),K=n("transformOrigin"),G=n("userSelect");var ee={translate3d:{suffix:", 0px"},translate:{suffix:""}},te=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};te.parse=function(e){return e.style?te.parse(e.style[Y]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?te.fromMatrix(e):te.fromString(e)},te.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new te(f(t[4]),f(t[5]),parseFloat(t[0]))},te.fromString=function(e){var t=e.split(") "),n=t[0].substring(X.globals.translate.length+1).split(","),i=t.length>1?t[1].substring(6):1,r=n.length>1?n[0]:0,o=n.length>1?n[1]:0;return new te(r,o,i)},te.prototype.toString=function(){var e=ee[X.globals.translate].suffix||"";return X.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var ne=function(e){if(!e||!e.style[K])return this.x=0,void(this.y=0);var t=e.style[K].split(" ");this.x=parseFloat(t[0]),this.y=parseFloat(t[1])};ne.prototype.toString=function(){return this.x+"px "+this.y+"px"};var ie=a(x,500),re={type:"canvas",format:"png",quality:1},oe=["jpeg","webp","png"];if(window.jQuery){var ae=window.jQuery;ae.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),i=ae(this).data("croppie");return"get"===e?i.get():"result"===e?i.result.apply(i,n):"bind"===e?i.bind.apply(i,n):this.each(function(){var t=ae(this).data("croppie");
if(t){var i=t[e];if(!ae.isFunction(i))throw"Croppie "+e+" method not found";i.apply(t,n),"destroy"===e&&ae(this).removeData("croppie")}})}return this.each(function(){var t=new X(this,e);t.$=ae,ae(this).data("croppie",t)})}}X.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},X.globals={translate:"translate3d"},r(X.prototype,{bind:function(e,t){return U.call(this,e,t)},get:function(){var e=W.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return V.call(this,e)},refresh:function(){return q.call(this)},setZoom:function(e){b.call(this,e),s(this.elements.zoomer)},rotate:function(e){H.call(this,e)},destroy:function(){return z.call(this)}}),e.Croppie=window.Croppie=X})},{}],159:[function(e,t,n){(function(e){(function(e,t,n,i,r){!function(){"use strict";function t(e,n,i){return("string"==typeof n?n:n.toString()).replace(e.define||s,function(t,n,r,o){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in i||(":"===r?(e.defineParams&&o.replace(e.defineParams,function(e,t,r){i[n]={arg:t,text:r}}),n in i||(i[n]=o)):new Function("def","def['"+n+"']="+o)(i)),""}).replace(e.use||s,function(n,r){e.useParams&&(r=r.replace(e.useParams,function(e,t,n,r){if(i[n]&&i[n].arg&&r){var o=(n+":"+r).replace(/'|\\/g,"_");return i.__exp=i.__exp||{},i.__exp[o]=i[n].text.replace(new RegExp("(^|[^\\w$])"+i[n].arg+"([^\\w$])","g"),"$1"+r+"$2"),t+"def.__exp['"+o+"']"}}));var o=new Function("def","return "+r)(i);return o?t(e,o,i):o})}function n(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var r,o={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};o.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},r=function(){return this||(0,eval)("this")}(),"undefined"!=typeof e&&e.exports?e.exports=o:"function"==typeof i&&i.amd?i(function(){return o}):r.doT=o;var a={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;o.template=function(e,i,u){i=i||o.templateSettings;var l,c,h=i.append?a.append:a.split,f=0,p=i.use||i.define?t(i,e,u||{}):e;p=("var out='"+(i.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(i.interpolate||s,function(e,t){return h.start+n(t)+h.end}).replace(i.encode||s,function(e,t){return l=!0,h.startencode+n(t)+h.end}).replace(i.conditional||s,function(e,t,i){return t?i?"';}else if("+n(i)+"){out+='":"';}else{out+='":i?"';if("+n(i)+"){out+='":"';}out+='"}).replace(i.iterate||s,function(e,t,i,r){return t?(f+=1,c=r||"i"+f,t=n(t),"';var arr"+f+"="+t+";if(arr"+f+"){var "+i+","+c+"=-1,l"+f+"=arr"+f+".length-1;while("+c+"<l"+f+"){"+i+"=arr"+f+"["+c+"+=1];out+='"):"';} } out+='"}).replace(i.evaluate||s,function(e,t){return"';"+n(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),l&&(i.selfcontained||!r||r._encodeHTML||(r._encodeHTML=o.encodeHTMLSource(i.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+o.encodeHTMLSource.toString()+"("+(i.doNotSkipEncoded||"")+"));"+p);try{return new Function(i.varname,p)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),e}},o.compile=function(e,t){return o.template(e,null,t)}}(),r("undefined"!=typeof doT?doT:window.doT)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],160:[function(e,t,n){e("@firebase/polyfill"),t.exports=e("@firebase/app").default},{"@firebase/app":1,"@firebase/polyfill":104}],161:[function(e,t,n){e("@firebase/auth")},{"@firebase/auth":3}],162:[function(e,t,n){t.exports=e("@firebase/database")},{"@firebase/database":4}],163:[function(e,t,n){var i=e("./app");e("./auth"),e("./database"),e("./messaging"),e("./storage"),t.exports=i},{"./app":160,"./auth":161,"./database":162,"./messaging":164,"./storage":165}],164:[function(e,t,n){e("@firebase/messaging")},{"@firebase/messaging":88}],165:[function(e,t,n){e("@firebase/storage")},{"@firebase/storage":108}],166:[function(e,t,n){(function(e){!function(e,n){"use strict";var i={},r=e.document,o=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!o.TweenLite){var a,s,u,l,c,h=function(e){var t,n=e.split("."),i=o;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},f=h("com.greensock"),p=1e-10,d=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},v=function(){},m=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),g={},_=function(r,a,s,u){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(c){for(var f,p,d,v,m=a.length,y=m;--m>-1;)(f=g[a[m]]||new _(a[m],[])).gsClass?(l[m]=f.gsClass,y--):c&&f.sc.push(this);if(0===y&&s){if(p=("com.greensock."+r).split("."),d=p.pop(),v=h(p.join("."))[d]=this.gsClass=s.apply(s,l),u)if(o[d]=i[d]=v,"undefined"!=typeof t&&t.exports)if(r===n){t.exports=i[n]=v;for(m in i)v[m]=i[m]}else i[n]&&(i[n][d]=v);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return v});for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},y=e._gsDefine=function(e,t,n,i){return new _(e,t,n,i)},b=f._class=function(e,t,n){return t=t||function(){},y(e,[],function(){return t},n),t};y.globals=o;var w=[0,0,1,1],T=b("easing.Ease",function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?w.concat(t):w},!0),E=T.map={},S=T.register=function(e,t,n,i){for(var r,o,a,s,u=t.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],r=i?b("easing."+o,null,!0):f.easing[o]||{},a=c.length;--a>-1;)s=c[a],E[o+"."+s]=E[s+o]=r[s]=e.getRatio?e:e[s]||new e};for(u=T.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:e<.5?i/2:1-i/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=a.length;--s>-1;)u=a[s]+",Power"+s,S(new T(null,null,1,s),u,"easeOut",!0),S(new T(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),S(new T(null,null,3,s),u,"easeInOut");E.linear=f.easing.Linear.easeIn,E.swing=f.easing.Quad.easeInOut;var C=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=C.prototype,u.addEventListener=function(e,t,n,i,r){r=r||0;var o,a,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<r&&(u=a+1);s.splice(u,0,{c:t,s:n,up:i,pr:r})},u.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;--n>-1;)if(i[n].c===t)return void i.splice(n,1)},u.dispatchEvent=function(e){var t,n,i,r=this._listeners[e];if(r)for(t=r.length,t>1&&(r=r.slice(0)),n=this._eventTarget;--t>-1;)i=r[t],i&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var x=e.requestAnimationFrame,P=e.cancelAnimationFrame,I=Date.now||function(){return(new Date).getTime()},N=I();for(a=["ms","moz","webkit","o"],s=a.length;--s>-1&&!x;)x=e[a[s]+"RequestAnimationFrame"],P=e[a[s]+"CancelAnimationFrame"]||e[a[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,i,o,a,s,u=this,h=I(),f=!(t===!1||!x)&&"auto",d=500,m=33,g="tick",_=function(e){var t,r,l=I()-N;l>d&&(h+=l-m),N+=l,u.time=(N-h)/1e3,t=u.time-s,(!n||t>0||e===!0)&&(u.frame++,s+=t+(t>=a?.004:a-t),r=!0),e!==!0&&(o=i(_)),r&&u.dispatchEvent(g)};C.call(u),u.time=u.frame=0,u.tick=function(){_(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/p,void(m=Math.min(t,d,0))):d<1/p},u.sleep=function(){null!=o&&(f&&P?P(o):clearTimeout(o),i=v,o=null,u===l&&(c=!1))},u.wake=function(e){null!==o?u.sleep():e?h+=-N+(N=I()):u.frame>10&&(N=I()-d+5),i=0===n?v:f&&x?x:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),_(2)},u.fps=function(e){return arguments.length?(n=e,a=1/(n||60),s=this.time+a,void u.wake()):n},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(n)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(r||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,Q){c||l.wake();var n=this.vars.useFrames?G:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var A=function(){c&&I()-N>2e3&&("hidden"!==(r||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(A,2e3);e.unref&&e.unref()};A(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],i=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this,o=i?i.length:0;switch(o){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},u.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=m(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,r[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(e>i&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(M.length&&J(),this.render(e,t,!1),M.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||p,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,i=this._timeline;return e!=this._paused&&i&&(c||e||l.wake(),t=i.rawTime(),n=t-this._pauseTime,!e&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,i){var r,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(o=e._startTime;r&&r._startTime>o;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)i=r._next,(r._active||e>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=i},u.rawTime=function(){return c||l.wake(),this._totalTime};var k=b("TweenLite",function(t,n,i){if(O.call(this,n,i),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var r,o,a,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?Y[k.defaultOverwrite]:"number"==typeof u?u>>0:Y[u],(s||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=a=d(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(d(o))):(this._siblings[r]=Z(o,this,!1),1===u&&this._siblings[r].length>1&&te(o,this,null,1,this._siblings[r])):(o=a[r--]=k.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-p,this.render(Math.min(0,-this._delay)))},!0),D=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},L=function(e,t){var n,i={};for(n in e)K[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!H[n]||H[n]&&H[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i};u=k.prototype=new O,u.constructor=k,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,k.version="1.20.4",k.defaultEase=u._ease=new T(null,null,1,1),k.defaultOverwrite="auto",k.ticker=l,k.autoSleep=120,k.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},k.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(k.selector=n,n(t)):"undefined"==typeof r?t:r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t)};var M=[],F={},j=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,B=function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<i&&t>-i&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},W=function(e,t,n,i){var r,o,a,s,u,l,c,h=[],f=0,p="",d=0;for(h.start=e,h.end=t,e=h[0]=e+"",t=h[1]=t+"",n&&(n(h),e=h[0],t=h[1]),h.length=0,r=e.match(j)||[],o=t.match(j)||[],i&&(i._next=null,i.blob=1,h._firstPT=h._applyPT=i),u=o.length,s=0;s<u;s++)c=o[s],l=t.substr(f,t.indexOf(c,f)-f),p+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===r[s]||r.length<=s?p+=c:(p&&(h.push(p),p=""),a=parseFloat(r[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:d&&d<4?Math.round:0}),f+=c.length;return p+=t.substr(f),p&&h.push(p),h.setRatio=B,U.test(t)&&(h.end=null),h},V=function(e,t,n,i,r,o,a,s,u){"function"==typeof i&&(i=i(u||0,e));var l,c=typeof e[t],h="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:h?a?e[h](a):e[h]():e[t],p="string"==typeof i&&"="===i.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:r||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-f||0};if(("number"!=typeof f||"number"!=typeof i&&!p)&&(a||isNaN(f)||!p&&isNaN(i)||"boolean"==typeof f||"boolean"==typeof i?(d.fp=a,l=W(f,p?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):i,s||k.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||t,pr:0,m:0}):(d.s=parseFloat(f),p||(d.c=parseFloat(i)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},q=k._internals={isArray:m,isSelector:D,lazyTweens:M,blobDif:W},H=k._plugins={},z=q.tweenLookup={},X=0,K=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},G=O._rootFramesTimeline=new R,Q=O._rootTimeline=new R,$=30,J=q.lazyRender=function(){var e,t=M.length;for(F={};--t>-1;)e=M[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);M.length=0};Q._startTime=l.time,G._startTime=l.frame,Q._active=G._active=!0,setTimeout(J,1),O._updateRoot=k.render=function(){var e,t,n;if(M.length&&J(),Q.render((l.time-Q._startTime)*Q._timeScale,!1,!1),G.render((l.frame-G._startTime)*G._timeScale,!1,!1),M.length&&J(),l.frame>=$){$=l.frame+(parseInt(k.autoSleep,10)||120);for(n in z){for(t=z[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete z[n]}if(n=Q._first,(!n||n._paused)&&k.autoSleep&&!G._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,n){var i,r,o=e._gsTweenID;if(z[o||(e._gsTweenID=o="t"+X++)]||(z[o]={target:e,tweens:[]}),t&&(i=z[o].tweens,i[r=i.length]=t,n))for(;--r>-1;)i[r]===t&&i.splice(r,1);return z[o].tweens},ee=function(e,t,n,i){var r,o,a=e.vars.onOverwrite;return a&&(r=a(e,t,n,i)),a=k.onOverwrite,a&&(o=a(e,t,n,i)),r!==!1&&o!==!1},te=function(e,t,n,i,r){var o,a,s,u;if(1===i||i>=4){for(u=r.length,o=0;o<u;o++)if((s=r[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===i)break;return a}var l,c=t._startTime+p,h=[],f=0,d=0===t._duration;for(o=r.length;--o>-1;)(s=r[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||ne(t,0,d),0===ne(s,l,d)&&(h[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(h[f++]=s)));for(o=f;--o>-1;)if(s=h[o],2===i&&s._kill(n,e,t)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!ee(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ne=function(e,t,n){for(var i=e._timeline,r=i._timeScale,o=e._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>t?o-t:n&&o===t||!e._initted&&o-t<2*p?p:(o+=e.totalDuration()/e._timeScale/r)>t+p?0:o-t-p};u._init=function(){var e,t,n,i,r,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in a.startAt)r[i]=a.startAt[i];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&a.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=k.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(i in a)K[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&a.lazy!==!1,n.immediateRender=l,this._startAt=k.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof T?c:"function"==typeof c?new T(c,a.easeParams):E[c]||k.defaultEase:k.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},u._initProps=function(t,n,i,r,o){var a,s,u,l,c,h;if(null==t)return!1;F[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&H.css&&this.vars.autoCSS!==!1&&L(this.vars,t);for(a in this.vars)if(h=this.vars[a],K[a])h&&(h instanceof Array||h.push&&m(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(H[a]&&(l=new H[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[a]=V.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&te(t,this,n,this._overwrite,i)?(this._kill(n,t),this._initProps(t,n,i,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),u)},u.render=function(e,t,n){var i,r,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===p&&"isPause"!==this.data)&&l!==e&&(n=!0,l>p&&(r="onReverseComplete")),this._rawPrevTime=a=!t||e||l===e?e:p);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(r="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(l!==p||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||l===e?e:p)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/u,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:e/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,M.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/u):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,n),t||(this._time!==s||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===u&&this._rawPrevTime===p&&a!==p&&(this._rawPrevTime=0)))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:k.selector(t)||t;var i,r,o,a,s,u,l,c,h,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(t)||D(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(u=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,c=e!==r&&"all"!==r&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(k.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(h||(h=[]),h.push(o));if((h||!e)&&!ee(this,n,t,h))return!1}for(o in l)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-p,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=Z(i[n],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(e?"_onEnable":"_onDisable",this)},k.to=function(e,t,n){return new k(e,t,n)},k.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new k(e,t,n)},k.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new k(e,t,i)},k.delayedCall=function(e,t,n,i,r){return new k(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},k.set=function(e,t){return new k(e,0,t)},k.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:k.selector(e)||e;var n,i,r,o;if((m(e)||D(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];--n>-1;)i=i.concat(k.getTweensOf(e[n],t));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else if(e._gsTweenID)for(i=Z(e).concat(),n=i.length;--n>-1;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i||[]},k.killTweensOf=k.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var i=k.getTweensOf(e,t),r=i.length;--r>-1;)i[r]._kill(n,e)};var ie=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype},!0);if(u=ie.prototype,ie.version="1.19.0",ie.API=2,u._firstPT=null,u._addTween=V,u.setRatio=B,u._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),
n=n._next},k._onPluginEvent=function(e,t){var n,i,r,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=a}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ie.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ie.API&&(H[(new e[t])._propName]=e[t]);return!0},y.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,i=e.priority||0,r=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ie.call(this,n,i),this._overwriteProps=r||[]},e.global===!0),s=a.prototype=new ie(n);s.constructor=a,a.API=e.API;for(t in o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ie.activate([a]),a},a=e._gsQueue){for(s=0;s<a.length;s++)a[s]();for(u in g)g[u].func||e.console.log("GSAP encountered missing dependency: "+u)}c=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],167:[function(e,t,n){(function(e){!function(e,n){"use strict";var i={},r=e.document,o=e.GreenSockGlobals=e.GreenSockGlobals||e;if(!o.TweenLite){var a,s,u,l,c,h=function(e){var t,n=e.split("."),i=o;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},f=h("com.greensock"),p=1e-10,d=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},v=function(){},m=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),g={},_=function(r,a,s,u){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(c){for(var f,p,d,v,m=a.length,y=m;--m>-1;)(f=g[a[m]]||new _(a[m],[])).gsClass?(l[m]=f.gsClass,y--):c&&f.sc.push(this);if(0===y&&s){if(p=("com.greensock."+r).split("."),d=p.pop(),v=h(p.join("."))[d]=this.gsClass=s.apply(s,l),u)if(o[d]=i[d]=v,"undefined"!=typeof t&&t.exports)if(r===n){t.exports=i[n]=v;for(m in i)v[m]=i[m]}else i[n]&&(i[n][d]=v);else"function"==typeof define&&define.amd&&define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return v});for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},y=e._gsDefine=function(e,t,n,i){return new _(e,t,n,i)},b=f._class=function(e,t,n){return t=t||function(){},y(e,[],function(){return t},n),t};y.globals=o;var w=[0,0,1,1],T=b("easing.Ease",function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?w.concat(t):w},!0),E=T.map={},S=T.register=function(e,t,n,i){for(var r,o,a,s,u=t.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],r=i?b("easing."+o,null,!0):f.easing[o]||{},a=c.length;--a>-1;)s=c[a],E[o+"."+s]=E[s+o]=r[s]=e.getRatio?e:e[s]||new e};for(u=T.prototype,u._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:e<.5?i/2:1-i/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],s=a.length;--s>-1;)u=a[s]+",Power"+s,S(new T(null,null,1,s),u,"easeOut",!0),S(new T(null,null,2,s),u,"easeIn"+(0===s?",easeNone":"")),S(new T(null,null,3,s),u,"easeInOut");E.linear=f.easing.Linear.easeIn,E.swing=f.easing.Quad.easeInOut;var C=b("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});u=C.prototype,u.addEventListener=function(e,t,n,i,r){r=r||0;var o,a,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<r&&(u=a+1);s.splice(u,0,{c:t,s:n,up:i,pr:r})},u.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;--n>-1;)if(i[n].c===t)return void i.splice(n,1)},u.dispatchEvent=function(e){var t,n,i,r=this._listeners[e];if(r)for(t=r.length,t>1&&(r=r.slice(0)),n=this._eventTarget;--t>-1;)i=r[t],i&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var x=e.requestAnimationFrame,P=e.cancelAnimationFrame,I=Date.now||function(){return(new Date).getTime()},N=I();for(a=["ms","moz","webkit","o"],s=a.length;--s>-1&&!x;)x=e[a[s]+"RequestAnimationFrame"],P=e[a[s]+"CancelAnimationFrame"]||e[a[s]+"CancelRequestAnimationFrame"];b("Ticker",function(e,t){var n,i,o,a,s,u=this,h=I(),f=!(t===!1||!x)&&"auto",d=500,m=33,g="tick",_=function(e){var t,r,l=I()-N;l>d&&(h+=l-m),N+=l,u.time=(N-h)/1e3,t=u.time-s,(!n||t>0||e===!0)&&(u.frame++,s+=t+(t>=a?.004:a-t),r=!0),e!==!0&&(o=i(_)),r&&u.dispatchEvent(g)};C.call(u),u.time=u.frame=0,u.tick=function(){_(!0)},u.lagSmoothing=function(e,t){return arguments.length?(d=e||1/p,void(m=Math.min(t,d,0))):d<1/p},u.sleep=function(){null!=o&&(f&&P?P(o):clearTimeout(o),i=v,o=null,u===l&&(c=!1))},u.wake=function(e){null!==o?u.sleep():e?h+=-N+(N=I()):u.frame>10&&(N=I()-d+5),i=0===n?v:f&&x?x:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),_(2)},u.fps=function(e){return arguments.length?(n=e,a=1/(n||60),s=this.time+a,void u.wake()):n},u.useRAF=function(e){return arguments.length?(u.sleep(),f=e,void u.fps(n)):f},u.fps(e),setTimeout(function(){"auto"===f&&u.frame<5&&"hidden"!==(r||{}).visibilityState&&u.useRAF(!1)},1500)}),u=f.Ticker.prototype=new f.events.EventDispatcher,u.constructor=f.Ticker;var O=b("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=t.immediateRender===!0,this.data=t.data,this._reversed=t.reversed===!0,Q){c||l.wake();var n=this.vars.useFrames?G:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});l=O.ticker=new f.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var A=function(){c&&I()-N>2e3&&("hidden"!==(r||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(A,2e3);e.unref&&e.unref()};A(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],i=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this,o=i?i.length:0;switch(o){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},u.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=m(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,r[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(e>i&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(M.length&&J(),this.render(e,t,!1),M.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||p,this._timeline&&this._timeline.smoothChildTiming&&(t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,i=this._timeline;return e!=this._paused&&i&&(c||e||l.wake(),t=i.rawTime(),n=t-this._pauseTime,!e&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=b("core.SimpleTimeline",function(e){O.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,i){var r,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(o=e._startTime;r&&r._startTime>o;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)i=r._next,(r._active||e>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=i},u.rawTime=function(){return c||l.wake(),this._totalTime};var k=b("TweenLite",function(t,n,i){if(O.call(this,n,i),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var r,o,a,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?Y[k.defaultOverwrite]:"number"==typeof u?u>>0:Y[u],(s||t instanceof Array||t.push&&m(t))&&"number"!=typeof t[0])for(this._targets=a=d(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(d(o))):(this._siblings[r]=Z(o,this,!1),1===u&&this._siblings[r].length>1&&te(o,this,null,1,this._siblings[r])):(o=a[r--]=k.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=Z(t,this,!1),1===u&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-p,this.render(Math.min(0,-this._delay)))},!0),D=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)},L=function(e,t){var n,i={};for(n in e)K[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!H[n]||H[n]&&H[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i};u=k.prototype=new O,u.constructor=k,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,k.version="1.20.4",k.defaultEase=u._ease=new T(null,null,1,1),k.defaultOverwrite="auto",k.ticker=l,k.autoSleep=120,k.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},k.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(k.selector=n,n(t)):"undefined"==typeof r?t:r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t)};var M=[],F={},j=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,U=/[\+-]=-?[\.\d]/,B=function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<i&&t>-i&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},W=function(e,t,n,i){var r,o,a,s,u,l,c,h=[],f=0,p="",d=0;for(h.start=e,h.end=t,e=h[0]=e+"",t=h[1]=t+"",n&&(n(h),e=h[0],t=h[1]),h.length=0,r=e.match(j)||[],o=t.match(j)||[],i&&(i._next=null,i.blob=1,h._firstPT=h._applyPT=i),u=o.length,s=0;s<u;s++)c=o[s],l=t.substr(f,t.indexOf(c,f)-f),p+=l||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===r[s]||r.length<=s?p+=c:(p&&(h.push(p),p=""),a=parseFloat(r[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:d&&d<4?Math.round:0}),f+=c.length;return p+=t.substr(f),p&&h.push(p),h.setRatio=B,U.test(t)&&(h.end=null),h},V=function(e,t,n,i,r,o,a,s,u){"function"==typeof i&&(i=i(u||0,e));var l,c=typeof e[t],h="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),f="get"!==n?n:h?a?e[h](a):e[h]():e[t],p="string"==typeof i&&"="===i.charAt(1),d={t:e,p:t,s:f,f:"function"===c,pg:0,n:r||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:p?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-f||0};if(("number"!=typeof f||"number"!=typeof i&&!p)&&(a||isNaN(f)||!p&&isNaN(i)||"boolean"==typeof f||"boolean"==typeof i?(d.fp=a,l=W(f,p?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):i,s||k.defaultStringFilter,d),d={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||t,pr:0,m:0}):(d.s=parseFloat(f),p||(d.c=parseFloat(i)-d.s||0))),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},q=k._internals={isArray:m,isSelector:D,lazyTweens:M,blobDif:W},H=k._plugins={},z=q.tweenLookup={},X=0,K=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},G=O._rootFramesTimeline=new R,Q=O._rootTimeline=new R,$=30,J=q.lazyRender=function(){var e,t=M.length;for(F={};--t>-1;)e=M[t],e&&e._lazy!==!1&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);M.length=0};Q._startTime=l.time,G._startTime=l.frame,Q._active=G._active=!0,setTimeout(J,1),O._updateRoot=k.render=function(){var e,t,n;if(M.length&&J(),Q.render((l.time-Q._startTime)*Q._timeScale,!1,!1),G.render((l.frame-G._startTime)*G._timeScale,!1,!1),M.length&&J(),l.frame>=$){$=l.frame+(parseInt(k.autoSleep,10)||120);for(n in z){for(t=z[n].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete z[n]}if(n=Q._first,(!n||n._paused)&&k.autoSleep&&!G._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",O._updateRoot);var Z=function(e,t,n){var i,r,o=e._gsTweenID;if(z[o||(e._gsTweenID=o="t"+X++)]||(z[o]={target:e,tweens:[]}),t&&(i=z[o].tweens,i[r=i.length]=t,n))for(;--r>-1;)i[r]===t&&i.splice(r,1);return z[o].tweens},ee=function(e,t,n,i){var r,o,a=e.vars.onOverwrite;return a&&(r=a(e,t,n,i)),a=k.onOverwrite,a&&(o=a(e,t,n,i)),r!==!1&&o!==!1},te=function(e,t,n,i,r){var o,a,s,u;if(1===i||i>=4){for(u=r.length,o=0;o<u;o++)if((s=r[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===i)break;return a}var l,c=t._startTime+p,h=[],f=0,d=0===t._duration;for(o=r.length;--o>-1;)(s=r[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(l=l||ne(t,0,d),0===ne(s,l,d)&&(h[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(h[f++]=s)));for(o=f;--o>-1;)if(s=h[o],2===i&&s._kill(n,e,t)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!ee(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ne=function(e,t,n){for(var i=e._timeline,r=i._timeScale,o=e._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=r,o>t?o-t:n&&o===t||!e._initted&&o-t<2*p?p:(o+=e.totalDuration()/e._timeScale/r)>t+p?0:o-t-p};u._init=function(){var e,t,n,i,r,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(i in a.startAt)r[i]=a.startAt[i];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&a.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=k.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(i in a)K[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&a.lazy!==!1,n.immediateRender=l,this._startAt=k.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof T?c:"function"==typeof c?new T(c,a.easeParams):E[c]||k.defaultEase:k.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},u._initProps=function(t,n,i,r,o){var a,s,u,l,c,h;if(null==t)return!1;F[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&H.css&&this.vars.autoCSS!==!1&&L(this.vars,t);for(a in this.vars)if(h=this.vars[a],K[a])h&&(h instanceof Array||h.push&&m(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(H[a]&&(l=new H[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)n[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else n[a]=V.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&te(t,this,n,this._overwrite,i)?(this._kill(n,t),this._initProps(t,n,i,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),u)},u.render=function(e,t,n){var i,r,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(e>=u-1e-7&&e>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(l<0||e<=0&&e>=-1e-7||l===p&&"isPause"!==this.data)&&l!==e&&(n=!0,l>p&&(r="onReverseComplete")),this._rawPrevTime=a=!t||e||l===e?e:p);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(r="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(l!==p||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||l===e?e:p)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var c=e/u,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:e/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(e/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,M.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/u):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&e!==-1e-4&&this._startAt.render(e,!0,n),t||(this._time!==s||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&e!==-1e-4&&this._startAt.render(e,!0,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===u&&this._rawPrevTime===p&&a!==p&&(this._rawPrevTime=0)))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:k.selector(t)||t;var i,r,o,a,s,u,l,c,h,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(t)||D(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(u=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(l=e||s,c=e!==r&&"all"!==r&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(k.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(h||(h=[]),h.push(o));if((h||!e)&&!ee(this,n,t,h))return!1}for(o in l)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-p,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=Z(i[n],this,!0);else this._siblings=Z(this.target,this,!0)}return O.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(e?"_onEnable":"_onDisable",this)},k.to=function(e,t,n){return new k(e,t,n)},k.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new k(e,t,n)},k.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new k(e,t,i)},k.delayedCall=function(e,t,n,i,r){return new k(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},k.set=function(e,t){return new k(e,0,t)},k.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:k.selector(e)||e;var n,i,r,o;if((m(e)||D(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];--n>-1;)i=i.concat(k.getTweensOf(e[n],t));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else if(e._gsTweenID)for(i=Z(e).concat(),n=i.length;--n>-1;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i||[]},k.killTweensOf=k.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var i=k.getTweensOf(e,t),r=i.length;--r>-1;)i[r]._kill(n,e)};var ie=b("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype},!0);if(u=ie.prototype,ie.version="1.19.0",ie.API=2,u._firstPT=null,u._addTween=V,u.setRatio=B,u._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")],t&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},k._onPluginEvent=function(e,t){var n,i,r,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=a}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ie.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ie.API&&(H[(new e[t])._propName]=e[t]);return!0},y.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,i=e.priority||0,r=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=b("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ie.call(this,n,i),this._overwriteProps=r||[]},e.global===!0),s=a.prototype=new ie(n);s.constructor=a,a.API=e.API;for(t in o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ie.activate([a]),a},a=e._gsQueue){for(s=0;s<a.length;s++)a[s]();for(u in g)g[u].func||e.console.log("GSAP encountered missing dependency: "+u)}c=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],168:[function(e,t,n){(function(n){var i="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r,o,a=i.GreenSockGlobals||i,s=a.com.greensock,u=2*Math.PI,l=Math.PI/2,c=s._class,h=function(t,n){var i=c("easing."+t,function(){},!0),r=i.prototype=new e;return r.constructor=i,r.getRatio=n,i},f=e.register||function(){},p=function(e,t,n,i,r){var o=c("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new i},!0);return f(o,e),o},d=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},v=function(t,n){var i=c("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new e;return r.constructor=i,r.getRatio=n,r.config=function(e){return new i(e)},i},m=p("Back",v("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),v("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),v("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),g=c("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),_=g.prototype=new e;return _.constructor=g,_.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},g.ease=new g(.7,.7),_.config=g.config=function(e,t,n){return new g(e,t,n)},t=c("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0),_=t.prototype=new e,_.constructor=t,_.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},_.config=t.config=function(e,n){return new t(e,n)},n=c("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0),_=n.prototype=new e,_.constructor=n,_.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},_.config=n.config=function(e,t,i){return new n(e,t,i)},r=c("easing.RoughEase",function(t){t=t||{};for(var n,i,r,o,a,s,u=t.taper||"none",l=[],c=0,h=0|(t.points||20),f=h,p=t.randomize!==!1,v=t.clamp===!0,m=t.template instanceof e?t.template:null,g="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)n=p?Math.random():1/h*f,i=m?m.getRatio(n):n,"none"===u?r=g:"out"===u?(o=1-n,r=o*o*g):"in"===u?r=n*n*g:n<.5?(o=2*n,r=o*o*.5*g):(o=2*(1-n),r=o*o*.5*g),p?i+=Math.random()*r-.5*r:f%2?i+=.5*r:i-=.5*r,v&&(i>1?i=1:i<0&&(i=0)),l[c++]={x:n,y:i};for(l.sort(function(e,t){return e.x-t.x}),s=new d(1,1,null),f=h;--f>-1;)a=l[f],
s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),_=r.prototype=new e,_.constructor=r,_.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},_.config=function(e){return new r(e)},r.ease=new r,p("Bounce",h("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),h("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),h("BounceInOut",function(e){var t=e<.5;return e=t?1-2*e:2*e-1,e<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),p("Circ",h("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),h("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),h("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),o=function(t,n,i){var r=c("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||i)/(e<1?e:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2},!0),o=r.prototype=new e;return o.constructor=r,o.getRatio=n,o.config=function(e,t){return new r(e,t)},r},p("Elastic",o("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),o("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2))},.3),o("ElasticInOut",function(e){return(e*=2)<1?-.5*(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),p("Expo",h("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),h("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),h("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),p("Sine",h("SineOut",function(e){return Math.sin(e*l)}),h("SineIn",function(e){return-Math.cos(e*l)+1}),h("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),c("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),f(a.SlowMo,"SlowMo","ease,"),f(r,"RoughEase","ease,"),f(t,"SteppedEase","ease,"),m},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(){"use strict";var n=function(){return i.GreenSockGlobals||i};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=n()):"function"==typeof define&&define.amd&&define(["TweenLite"],n)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":166}],169:[function(e,t,n){(function(n){var i="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,i){var r,o;if("function"!=typeof e.setAttribute)return!1;for(r in t)o=t[r],"function"==typeof o&&(o=o(i,e)),this._addTween(e,"setAttribute",e.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}})}),i._gsDefine&&i._gsQueue.pop()(),function(n){"use strict";var r=function(){return(i.GreenSockGlobals||i)[n]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=r()):"function"==typeof define&&define.amd&&define(["TweenLite"],r)}("AttrPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":166}],170:[function(e,t,n){(function(n){var i="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,r,o,a,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=i._gsDefine.globals,l={},c=s.prototype=new e("css");c.constructor=s,s.version="1.20.4",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,c="px",s.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,f,p,d,v,m,g,_,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,T=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,I=/([A-Z])/g,N=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(e,t){return t.toUpperCase()},R=/(?:Left|Right|Width)/i,k=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,M=/[\s,\(]/i,F=Math.PI/180,j=180/Math.PI,U={},B={style:{}},W=i.document||{createElement:function(){return B}},V=function(e,t){return W.createElementNS?W.createElementNS(t||"http://www.w3.org/1999/xhtml",e):W.createElement(e)},q=V("div"),H=V("img"),z=s._internals={_specialProps:l},X=(i.navigator||{}).userAgent||"",K=function(){var e=X.indexOf("Android"),t=V("a");return p=X.indexOf("Safari")!==-1&&X.indexOf("Chrome")===-1&&(e===-1||parseFloat(X.substr(e+8,2))>3),v=p&&parseFloat(X.substr(X.indexOf("Version/")+8,2))<6,d=X.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X))&&(m=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),Y=function(e){return S.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(e){i.console&&console.log(e)},Q="",$="",J=function(e,t){t=t||q;var n,i,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+e];);return i>=0?($=3===i?"ms":n[i],Q="-"+$.toLowerCase()+"-",$+e):null},Z=W.defaultView?W.defaultView.getComputedStyle:function(){},ee=s.getStyle=function(e,t,n,i,r){var o;return K||"opacity"!==t?(!i&&e.style[t]?o=e.style[t]:(n=n||Z(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(I,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):Y(e)},te=z.convertToPixels=function(e,n,i,r,o){if("px"===r||!r&&"lineHeight"!==n)return i;if("auto"===r||!i)return 0;var a,u,l,c=R.test(n),h=e,f=q.style,p=i<0,d=1===i;if(p&&(i=-i),d&&(i*=100),"lineHeight"!==n||r)if("%"===r&&n.indexOf("border")!==-1)a=i/100*(c?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[c?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(h=e.parentNode||W.body,ee(h,"display").indexOf("flex")!==-1&&(f.position="absolute"),u=h._gsCache,l=t.ticker.frame,u&&c&&u.time===l)return u.width*i/100;f[c?"width":"height"]=i+r}h.appendChild(q),a=parseFloat(q[c?"offsetWidth":"offsetHeight"]),h.removeChild(q),c&&"%"===r&&s.cacheWidths!==!1&&(u=h._gsCache=h._gsCache||{},u.time=l,u.width=a/i*100),0!==a||o||(a=te(e,n,i,r,!0))}else u=Z(e).lineHeight,e.style.lineHeight=i,a=parseFloat(Z(e).lineHeight),e.style.lineHeight=u;return d&&(a/=100),p?-a:a},ne=z.calculateOffset=function(e,t,n){if("absolute"!==ee(e,"position",n))return 0;var i="left"===t?"Left":"Top",r=ee(e,"margin"+i,n);return e["offset"+i]-(te(e,t,parseFloat(r),r.replace(E,""))||0)},ie=function(e,t){var n,i,r,o={};if(t=t||Z(e,null))if(n=t.length)for(;--n>-1;)r=t[n],r.indexOf("-transform")!==-1&&Oe!==r||(o[r.replace(N,A)]=t.getPropertyValue(r));else for(n in t)n.indexOf("Transform")!==-1&&Ne!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(N,A)]=t[n]);return K||(o.opacity=Y(e)),i=He(e,t,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,Re&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},re=function(e,t,n,i,r){var o,a,s,u={},l=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||r&&r[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(T,"")?o:0:ne(e,a),void 0!==l[a]&&(s=new ye(l,a,l[a],s))));if(i)for(a in i)"className"!==a&&(u[a]=i[a]);return{difs:u,firstMPT:s}},oe={width:["Left","Right"],height:["Top","Bottom"]},ae=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Z(e))[t]||0;if(e.getCTM&&We(e))return e.getBBox()[t]||0;var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=oe[t],o=r.length;for(n=n||Z(e,null);--o>-1;)i-=parseFloat(ee(e,"padding"+r[o],n,!0))||0,i-=parseFloat(ee(e,"border"+r[o]+"Width",n,!0))||0;return i},ue=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,i=e.split(" "),r=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":i[0],o=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":i[1];if(i.length>3&&!t){for(i=e.split(", ").join(",").split(","),e=[],n=0;n<i.length;n++)e.push(ue(i[n]));return e.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),e=r+" "+o+(i.length>2?" "+i[2]:""),t&&(t.oxp=r.indexOf("%")!==-1,t.oyp=o.indexOf("%")!==-1,t.oxr="="===r.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(r.replace(T,"")),t.oy=parseFloat(o.replace(T,"")),t.v=e),t||e},le=function(e,t){return"function"==typeof e&&(e=e(_,g)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},ce=function(e,t){return"function"==typeof e&&(e=e(_,g)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},he=function(e,t,n,i){var r,o,a,s,u,l=1e-6;return"function"==typeof e&&(e=e(_,g)),null==e?s=t:"number"==typeof e?s=e:(r=360,o=e.split("_"),u="="===e.charAt(1),a=(u?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(e.indexOf("rad")===-1?1:j)-(u?0:t),o.length&&(i&&(i[n]=t+a),e.indexOf("short")!==-1&&(a%=r,a!==a%(r/2)&&(a=a<0?a+r:a-r)),e.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:e.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),s=t+a),s<l&&s>-l&&(s=0),s},fe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pe=function(e,t,n){return e=e<0?e+1:e>1?e-1:e,255*(6*e<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},de=s.parseColor=function(e,t){var n,i,r,o,a,s,u,l,c,h,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),fe[e])n=fe[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),r=e.charAt(2),o=e.charAt(3),e="#"+i+i+r+r+o+o),e=parseInt(e.substr(1),16),n=[e>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(y),t){if(e.indexOf("=")!==-1)return e.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,r=u<=.5?u*(s+1):u+s-u*s,i=2*u-r,n.length>3&&(n[3]=Number(n[3])),n[0]=pe(a+1/3,i,r),n[1]=pe(a,i,r),n[2]=pe(a-1/3,i,r);else n=e.match(y)||fe.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=fe.black;return t&&!f&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,l=Math.max(i,r,o),c=Math.min(i,r,o),u=(l+c)/2,l===c?a=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),a=l===i?(r-o)/h+(r<o?6:0):l===r?(o-i)/h+2:(i-r)/h+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},ve=function(e,t){var n,i,r,o=e.match(me)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)i=o[n],r=e.substr(a,e.indexOf(i,a)-a),a+=r.length+i.length,i=de(i,t),3===i.length&&i.push(1),s+=r+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+e.substr(a)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in fe)me+="|"+c+"\\b";me=new RegExp(me+")","gi"),s.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];me.test(n)&&(t=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,e[0]=ve(e[0],t),e[1]=ve(e[1],t)),me.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=s.colorStringFilter);var ge=function(e,t,n,i){if(null==e)return function(e){return e};var r,o=t?(e.match(me)||[""])[0]:"",a=e.split(o).join("").match(w)||[],s=e.substr(0,e.indexOf(a[0])),u=")"===e.charAt(e.length-1)?")":"",l=e.indexOf(" ")!==-1?" ":",",c=a.length,h=c>0?a[0].replace(y,""):"";return c?r=t?function(e){var t,f,p,d;if("number"==typeof e)e+=h;else if(i&&L.test(e)){for(d=e.replace(L,"|").split("|"),p=0;p<d.length;p++)d[p]=r(d[p]);return d.join(",")}if(t=(e.match(me)||[o])[0],f=e.split(t).join("").match(w)||[],p=f.length,c>p--)for(;++p<c;)f[p]=n?f[(p-1)/2|0]:a[p];return s+f.join(l)+l+t+u+(e.indexOf("inset")!==-1?" inset":"")}:function(e){var t,o,f;if("number"==typeof e)e+=h;else if(i&&L.test(e)){for(o=e.replace(L,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(t=e.match(w)||[],f=t.length,c>f--)for(;++f<c;)t[f]=n?t[(f-1)/2|0]:a[f];return s+t.join(l)+u}:function(e){return e}},_e=function(e){return e=e.split(","),function(t,n,i,r,o,a,s){var u,l=(n+"").split(" ");for(s={},u=0;u<4;u++)s[e[u]]=l[u]=l[u]||l[(u-1)/2>>0];return r.parse(t,s,o,a)}},ye=(z._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,r,o,a=this.data,s=a.proxy,u=a.firstMPT,l=1e-6;u;)t=s[u.v],u.r?t=Math.round(t):t<l&&t>-l&&(t=0),u.t[u.p]=t,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(u=a.firstMPT,o=1===e?"e":"b";u;){if(n=u.t,n.type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;u=u._next}},function(e,t,n,i,r){this.t=e,this.p=t,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),be=(z._parseToProxy=function(e,t,n,i,r,o){var a,s,u,l,c,h=i,f={},p={},d=n._transform,v=U;for(n._transform=null,U=t,i=c=n.parse(e,t,i,r),U=v,o&&(n._transform=d,h&&(h._prev=null,h._prev&&(h._prev._next=null)));i&&i!==h;){if(i.type<=1&&(s=i.p,p[s]=i.s+i.c,f[s]=i.s,o||(l=new ye(i,"s",s,l,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)u="xn"+a,s=i.p+"_"+u,p[s]=i.data[u],f[s]=i[u],o||(l=new ye(i,u,s,l,i.rxp[u]));i=i._next}return{proxy:f,end:p,firstMPT:l,pt:c}},z.CSSPropTween=function(e,t,i,r,o,s,u,l,c,h,f){this.t=e,this.p=t,this.s=i,this.c=r,this.n=u||t,e instanceof be||a.push(this.n),this.r=l,this.type=s||0,c&&(this.pr=c,n=!0),this.b=void 0===h?i:h,this.e=void 0===f?i+r:f,o&&(this._next=o,o._prev=this)}),we=function(e,t,n,i,r,o){var a=new be(e,t,n,i-n,r,-1,o);return a.b=n,a.e=a.xs0=i,a},Te=s.parseComplex=function(e,t,n,i,r,o,a,u,l,c){n=n||o||"","function"==typeof i&&(i=i(_,g)),a=new be(e,t,0,0,a,c?2:1,null,!1,u,n,i),i+="",r&&me.test(i+n)&&(i=[n,i],s.colorStringFilter(i),n=i[0],i=i[1]);var f,p,d,v,m,w,T,E,S,C,x,P,I,N=n.split(", ").join(",").split(" "),O=i.split(", ").join(",").split(" "),A=N.length,R=h!==!1;for(i.indexOf(",")===-1&&n.indexOf(",")===-1||((i+n).indexOf("rgb")!==-1||(i+n).indexOf("hsl")!==-1?(N=N.join(" ").replace(L,", ").split(" "),O=O.join(" ").replace(L,", ").split(" ")):(N=N.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),A=N.length),A!==O.length&&(N=(o||"").split(" "),A=N.length),a.plugin=l,a.setRatio=c,me.lastIndex=0,f=0;f<A;f++)if(v=N[f],m=O[f],E=parseFloat(v),E||0===E)a.appendXtra("",E,le(m,E),m.replace(b,""),R&&m.indexOf("px")!==-1,!0);else if(r&&me.test(v))P=m.indexOf(")")+1,P=")"+(P?m.substr(P):""),I=m.indexOf("hsl")!==-1&&K,C=m,v=de(v,I),m=de(m,I),S=v.length+m.length>6,S&&!K&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[f]).join("transparent")):(K||(S=!1),I?a.appendXtra(C.substr(0,C.indexOf("hsl"))+(S?"hsla(":"hsl("),v[0],le(m[0],v[0]),",",!1,!0).appendXtra("",v[1],le(m[1],v[1]),"%,",!1).appendXtra("",v[2],le(m[2],v[2]),S?"%,":"%"+P,!1):a.appendXtra(C.substr(0,C.indexOf("rgb"))+(S?"rgba(":"rgb("),v[0],m[0]-v[0],",",!0,!0).appendXtra("",v[1],m[1]-v[1],",",!0).appendXtra("",v[2],m[2]-v[2],S?",":P,!0),S&&(v=v.length<4?1:v[3],a.appendXtra("",v,(m.length<4?1:m[3])-v,P,!1))),me.lastIndex=0;else if(w=v.match(y)){if(T=m.match(b),!T||T.length!==w.length)return a;for(d=0,p=0;p<w.length;p++)x=w[p],C=v.indexOf(x,d),a.appendXtra(v.substr(d,C-d),Number(x),le(T[p],x),"",R&&"px"===v.substr(C+x.length,2),0===p),d=C+x.length;a["xs"+a.l]+=v.substr(d)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+m:m;if(i.indexOf("=")!==-1&&a.data){for(P=a.xs0+a.data.s,f=1;f<a.l;f++)P+=a["xs"+f]+a.data["xn"+f];a.e=P+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Ee=9;for(c=be.prototype,c.l=c.pr=0;--Ee>0;)c["xn"+Ee]=0,c["xs"+Ee]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(e,t,n,i,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=r,a["xn"+s]=t,a.plugin||(a.xfirst=new be(a,"xn"+s,t,n,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=r,a)):(a["xs"+s]+=t+(i||""),a)};var Se=function(e,t){t=t||{},this.p=t.prefix?J(e)||e:e,l[e]=l[this.p]=this,this.format=t.formatter||ge(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Ce=z._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var i,r,o=e.split(","),a=t.defaultValue;for(n=n||[a],i=0;i<o.length;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||a,r=new Se(o[i],t)},xe=z._registerPluginProp=function(e){if(!l[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ce(e,{parser:function(e,n,i,r,o,a,s){var c=u.com.greensock.plugins[t];return c?(c._cssRegister(),l[i].parse(e,n,i,r,o,a,s)):(G("Error: "+t+" js file not loaded."),o)}})}};c=Se.prototype,c.parseComplex=function(e,t,n,i,r,o){var a,s,u,l,c,h,f=this.keyword;if(this.multi&&(L.test(n)||L.test(t)?(s=t.replace(L,"|").split("|"),u=n.replace(L,"|").split("|")):f&&(s=[t],u=[n])),u){for(l=u.length>s.length?u.length:s.length,a=0;a<l;a++)t=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,f&&(c=t.indexOf(f),h=n.indexOf(f),c!==h&&(h===-1?s[a]=s[a].split(f).join(""):c===-1&&(s[a]+=" "+f)));t=s.join(", "),n=u.join(", ")}return Te(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,r,o)},c.parse=function(e,t,n,i,r,a,s){return this.parseComplex(e.style,this.format(ee(e,this.p,o,!1,this.dflt)),this.format(t),r,a)},s.registerSpecialProp=function(e,t,n){Ce(e,{parser:function(e,i,r,o,a,s,u){var l=new be(e,r,0,0,a,2,r,!1,n);return l.plugin=s,l.setRatio=t(e,i,o._tween,r),l},priority:n})},s.useSVGTransformAttr=!0;var Pe,Ie="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ne=J("transform"),Oe=Q+"transform",Ae=J("transformOrigin"),Re=null!==J("perspective"),ke=z.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!Re)&&(s.defaultForce3D||"auto")},De=i.SVGElement,Le=function(e,t,n){var i,r=W.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return t.appendChild(r),r},Me=W.documentElement||{},Fe=function(){var e,t,n,r=m||/Android/i.test(X)&&!i.chrome;return W.createElementNS&&!r&&(e=Le("svg",Me),t=Le("rect",e,{width:100,height:50,x:100}),n=t.getBoundingClientRect().width,t.style[Ae]="50% 50%",t.style[Ne]="scaleX(0.5)",r=n===t.getBoundingClientRect().width&&!(d&&Re),Me.removeChild(e)),r}(),je=function(e,t,n,i,r,o){var a,u,l,c,h,f,p,d,v,m,g,_,y,b,w=e._gsTransform,T=qe(e,!0);w&&(y=w.xOrigin,b=w.yOrigin),(!i||(a=i.split(" ")).length<2)&&(p=e.getBBox(),0===p.x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),t=ue(t).split(" "),a=[(t[0].indexOf("%")!==-1?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(t[1].indexOf("%")!==-1?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),n.xOrigin=c=parseFloat(a[0]),n.yOrigin=h=parseFloat(a[1]),i&&T!==Ve&&(f=T[0],p=T[1],d=T[2],v=T[3],m=T[4],g=T[5],_=f*v-p*d,_&&(u=c*(v/_)+h*(-d/_)+(d*g-v*m)/_,l=c*(-p/_)+h*(f/_)-(f*g-p*m)/_,c=n.xOrigin=a[0]=u,h=n.yOrigin=a[1]=l)),w&&(o&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),r||r!==!1&&s.defaultSmoothOrigin!==!1?(u=c-y,l=h-b,w.xOffset+=u*T[0]+l*T[2]-u,w.yOffset+=u*T[1]+l*T[3]-l):w.xOffset=w.yOffset=0),o||e.setAttribute("data-svg-origin",a.join(" "))},Ue=function(e){var t,n=V("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Me.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ue}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),Me.removeChild(n),this.style.cssText=o,t},Be=function(e){try{return e.getBBox()}catch(t){return Ue.call(e,!0)}},We=function(e){return!(!De||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Be(e))},Ve=[1,0,0,1,0,0],qe=function(e,t){var n,i,r,o,a,s,u=e._gsTransform||new ke,l=1e5,c=e.style;if(Ne?i=ee(e,Oe,null,!0):e.currentStyle&&(i=e.currentStyle.filter.match(k),i=i&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),u.x||0,u.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,!Ne||!(s=!Z(e)||"none"===Z(e).display)&&e.parentNode||(s&&(o=c.display,c.display="block"),e.parentNode||(a=1,Me.appendChild(e)),i=ee(e,Oe,null,!0),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?c.display=o:s&&Ye(c,"display"),a&&Me.removeChild(e)),(u.svg||e.getCTM&&We(e))&&(n&&(c[Ne]+"").indexOf("matrix")!==-1&&(i=c[Ne],n=0),r=e.getAttribute("transform"),n&&r&&(r=e.transform.baseVal.consolidate().matrix,i="matrix("+r.a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",n=0)),n)return Ve;for(r=(i||"").match(y)||[],Ee=r.length;--Ee>-1;)o=Number(r[Ee]),r[Ee]=(a=o-(o|=0))?(a*l+(a<0?-.5:.5)|0)/l+o:o;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},He=z.getTransform=function(e,n,i,r){if(e._gsTransform&&i&&!r)return e._gsTransform;var o,a,u,l,c,h,f=i?e._gsTransform||new ke:new ke,p=f.scaleX<0,d=2e-5,v=1e5,m=Re?parseFloat(ee(e,Ae,n,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,g=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!e.getCTM||!We(e)),f.svg&&(je(e,ee(e,Ae,n,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Pe=s.useSVGTransformAttr||Fe),o=qe(e),o!==Ve){if(16===o.length){var _,y,b,w,T,E=o[0],S=o[1],C=o[2],x=o[3],P=o[4],I=o[5],N=o[6],O=o[7],A=o[8],R=o[9],k=o[10],D=o[12],L=o[13],M=o[14],F=o[11],U=Math.atan2(N,k);f.zOrigin&&(M=-f.zOrigin,D=A*M-o[12],L=R*M-o[13],M=k*M+f.zOrigin-o[14]),f.rotationX=U*j,U&&(w=Math.cos(-U),T=Math.sin(-U),_=P*w+A*T,y=I*w+R*T,b=N*w+k*T,A=P*-T+A*w,R=I*-T+R*w,k=N*-T+k*w,F=O*-T+F*w,P=_,I=y,N=b),U=Math.atan2(-C,k),f.rotationY=U*j,U&&(w=Math.cos(-U),T=Math.sin(-U),_=E*w-A*T,y=S*w-R*T,b=C*w-k*T,R=S*T+R*w,k=C*T+k*w,F=x*T+F*w,E=_,S=y,C=b),U=Math.atan2(S,E),f.rotation=U*j,U&&(w=Math.cos(U),T=Math.sin(U),_=E*w+S*T,y=P*w+I*T,b=A*w+R*T,S=S*w-E*T,I=I*w-P*T,R=R*w-A*T,E=_,P=y,A=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),U=Math.atan2(P,I),f.scaleX=(Math.sqrt(E*E+S*S+C*C)*v+.5|0)/v,f.scaleY=(Math.sqrt(I*I+N*N)*v+.5|0)/v,f.scaleZ=(Math.sqrt(A*A+R*R+k*k)*v+.5|0)/v,E/=f.scaleX,P/=f.scaleY,S/=f.scaleX,I/=f.scaleY,Math.abs(U)>d?(f.skewX=U*j,P=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(U))):f.skewX=0,f.perspective=F?1/(F<0?-F:F):0,f.x=D,f.y=L,f.z=M,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*E-f.yOrigin*P),f.y-=f.yOrigin-(f.yOrigin*S-f.xOrigin*I))}else if(!Re||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var B=o.length>=6,W=B?o[0]:1,V=o[1]||0,q=o[2]||0,H=B?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,u=Math.sqrt(W*W+V*V),l=Math.sqrt(H*H+q*q),c=W||V?Math.atan2(V,W)*j:f.rotation||0,h=q||H?Math.atan2(q,H)*j+c:f.skewX||0,f.scaleX=u,f.scaleY=l,f.rotation=c,f.skewX=h,Re&&(f.rotationX=f.rotationY=f.z=0,f.perspective=g,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*W+f.yOrigin*q),f.y-=f.yOrigin-(f.xOrigin*V+f.yOrigin*H))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=m;for(a in f)f[a]<d&&f[a]>-d&&(f[a]=0)}return i&&(e._gsTransform=f,f.svg&&(Pe&&e.style[Ne]?t.delayedCall(.001,function(){Ye(e.style,Ne)}):!Pe&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},ze=function(e){var t,n,i=this.data,r=-i.rotation*F,o=r+i.skewX*F,a=1e5,s=(Math.cos(r)*i.scaleX*a|0)/a,u=(Math.sin(r)*i.scaleX*a|0)/a,l=(Math.sin(o)*-i.scaleY*a|0)/a,c=(Math.cos(o)*i.scaleY*a|0)/a,h=this.t.style,f=this.t.currentStyle;if(f){n=u,u=-l,l=-n,t=f.filter,h.filter="";var p,d,v=this.t.offsetWidth,g=this.t.offsetHeight,_="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+c,b=i.x+v*i.xPercent/100,w=i.y+g*i.yPercent/100;if(null!=i.ox&&(p=(i.oxp?v*i.ox*.01:i.ox)-v/2,d=(i.oyp?g*i.oy*.01:i.oy)-g/2,b+=p-(p*s+d*u),w+=d-(p*l+d*c)),_?(p=v/2,d=g/2,y+=", Dx="+(p-(p*s+d*u)+b)+", Dy="+(d-(p*l+d*c)+w)+")"):y+=", sizingMethod='auto expand')",t.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=t.replace(D,y):h.filter=y+" "+t,0!==e&&1!==e||1===s&&0===u&&0===l&&1===c&&(_&&y.indexOf("Dx=0, Dy=0")===-1||S.test(t)&&100!==parseFloat(RegExp.$1)||t.indexOf(t.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!_){var T,C,x,P=m<8?1:-1;for(p=i.ieOffsetX||0,d=i.ieOffsetY||0,i.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(u<0?-u:u)*g))/2+b),i.ieOffsetY=Math.round((g-((c<0?-c:c)*g+(l<0?-l:l)*v))/2+w),Ee=0;Ee<4;Ee++)C=ae[Ee],T=f[C],n=T.indexOf("px")!==-1?parseFloat(T):te(this.t,C,parseFloat(T),T.replace(E,""))||0,x=n!==i[C]?Ee<2?-i.ieOffsetX:-i.ieOffsetY:Ee<2?p-i.ieOffsetX:d-i.ieOffsetY,h[C]=(i[C]=Math.round(n-x*(0===Ee||2===Ee?1:P)))+"px"}}},Xe=z.set3DTransformRatio=z.setTransformRatio=function(e){var t,n,i,r,o,a,s,u,l,c,h,f,p,v,m,g,_,y,b,w,T,E,S,C=this.data,x=this.t.style,P=C.rotation,I=C.rotationX,N=C.rotationY,O=C.scaleX,A=C.scaleY,R=C.scaleZ,k=C.x,D=C.y,L=C.z,M=C.svg,j=C.perspective,U=C.force3D,B=C.skewY,W=C.skewX;if(B&&(W+=B,P+=B),((1===e||0===e)&&"auto"===U&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!U)&&!L&&!j&&!N&&!I&&1===R||Pe&&M||!Re)return void(P||W||M?(P*=F,E=W*F,S=1e5,n=Math.cos(P)*O,o=Math.sin(P)*O,i=Math.sin(P-E)*-A,a=Math.cos(P-E)*A,E&&"simple"===C.skewType&&(t=Math.tan(E-B*F),t=Math.sqrt(1+t*t),i*=t,a*=t,B&&(t=Math.tan(B*F),t=Math.sqrt(1+t*t),n*=t,o*=t)),M&&(k+=C.xOrigin-(C.xOrigin*n+C.yOrigin*i)+C.xOffset,D+=C.yOrigin-(C.xOrigin*o+C.yOrigin*a)+C.yOffset,Pe&&(C.xPercent||C.yPercent)&&(m=this.t.getBBox(),k+=.01*C.xPercent*m.width,D+=.01*C.yPercent*m.height),m=1e-6,k<m&&k>-m&&(k=0),D<m&&D>-m&&(D=0)),b=(n*S|0)/S+","+(o*S|0)/S+","+(i*S|0)/S+","+(a*S|0)/S+","+k+","+D+")",M&&Pe?this.t.setAttribute("transform","matrix("+b):x[Ne]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+b):x[Ne]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+A+","+k+","+D+")");if(d&&(m=1e-4,O<m&&O>-m&&(O=R=2e-5),A<m&&A>-m&&(A=R=2e-5),!j||C.z||C.rotationX||C.rotationY||(j=0)),P||W)P*=F,g=n=Math.cos(P),_=o=Math.sin(P),W&&(P-=W*F,g=Math.cos(P),_=Math.sin(P),"simple"===C.skewType&&(t=Math.tan((W-B)*F),t=Math.sqrt(1+t*t),g*=t,_*=t,C.skewY&&(t=Math.tan(B*F),t=Math.sqrt(1+t*t),n*=t,o*=t))),i=-_,a=g;else{if(!(N||I||1!==R||j||M))return void(x[Ne]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+k+"px,"+D+"px,"+L+"px)"+(1!==O||1!==A?" scale("+O+","+A+")":""));n=a=1,i=o=0}c=1,r=s=u=l=h=f=0,p=j?-1/j:0,v=C.zOrigin,m=1e-6,w=",",T="0",P=N*F,P&&(g=Math.cos(P),_=Math.sin(P),u=-_,h=p*-_,r=n*_,s=o*_,c=g,p*=g,n*=g,o*=g),P=I*F,P&&(g=Math.cos(P),_=Math.sin(P),t=i*g+r*_,y=a*g+s*_,l=c*_,f=p*_,r=i*-_+r*g,s=a*-_+s*g,c*=g,p*=g,i=t,a=y),1!==R&&(r*=R,s*=R,c*=R,p*=R),1!==A&&(i*=A,a*=A,l*=A,f*=A),1!==O&&(n*=O,o*=O,u*=O,h*=O),(v||M)&&(v&&(k+=r*-v,D+=s*-v,L+=c*-v+v),M&&(k+=C.xOrigin-(C.xOrigin*n+C.yOrigin*i)+C.xOffset,D+=C.yOrigin-(C.xOrigin*o+C.yOrigin*a)+C.yOffset),k<m&&k>-m&&(k=T),D<m&&D>-m&&(D=T),L<m&&L>-m&&(L=0)),b=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<m&&n>-m?T:n)+w+(o<m&&o>-m?T:o)+w+(u<m&&u>-m?T:u),b+=w+(h<m&&h>-m?T:h)+w+(i<m&&i>-m?T:i)+w+(a<m&&a>-m?T:a),I||N||1!==R?(b+=w+(l<m&&l>-m?T:l)+w+(f<m&&f>-m?T:f)+w+(r<m&&r>-m?T:r),b+=w+(s<m&&s>-m?T:s)+w+(c<m&&c>-m?T:c)+w+(p<m&&p>-m?T:p)+w):b+=",0,0,0,0,1,0,",b+=k+w+D+w+L+w+(j?1+-L/j:1)+")",x[Ne]=b};c=ke.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ce("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,i,r,a,u){if(i._lastParsedTransform===u)return r;i._lastParsedTransform=u;var l,c=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(l=u[n],u[n]=t),c&&(u.scale=c(_,e));var h,f,p,d,v,m,y,b,w,T=e._gsTransform,E=e.style,S=1e-6,C=Ie.length,x=u,P={},I="transformOrigin",N=He(e,o,!0,x.parseTransform),O=x.transform&&("function"==typeof x.transform?x.transform(_,g):x.transform);if(N.skewType=x.skewType||N.skewType||s.defaultSkewType,i._transform=N,O&&"string"==typeof O&&Ne)f=q.style,f[Ne]=O,f.display="block",f.position="absolute",W.body.appendChild(q),h=He(q,null,!1),"simple"===N.skewType&&(h.scaleY*=Math.cos(h.skewX*F)),N.svg&&(m=N.xOrigin,y=N.yOrigin,h.x-=N.xOffset,h.y-=N.yOffset,(x.transformOrigin||x.svgOrigin)&&(O={},je(e,ue(x.transformOrigin),O,x.svgOrigin,x.smoothOrigin,!0),m=O.xOrigin,y=O.yOrigin,h.x-=O.xOffset-N.xOffset,h.y-=O.yOffset-N.yOffset),(m||y)&&(b=qe(q,!0),h.x-=m-(m*b[0]+y*b[2]),h.y-=y-(m*b[1]+y*b[3]))),W.body.removeChild(q),h.perspective||(h.perspective=N.perspective),null!=x.xPercent&&(h.xPercent=ce(x.xPercent,N.xPercent)),null!=x.yPercent&&(h.yPercent=ce(x.yPercent,N.yPercent));else if("object"==typeof x){if(h={scaleX:ce(null!=x.scaleX?x.scaleX:x.scale,N.scaleX),scaleY:ce(null!=x.scaleY?x.scaleY:x.scale,N.scaleY),scaleZ:ce(x.scaleZ,N.scaleZ),x:ce(x.x,N.x),y:ce(x.y,N.y),z:ce(x.z,N.z),xPercent:ce(x.xPercent,N.xPercent),yPercent:ce(x.yPercent,N.yPercent),perspective:ce(x.transformPerspective,N.perspective)},v=x.directionalRotation,null!=v)if("object"==typeof v)for(f in v)x[f]=v[f];else x.rotation=v;"string"==typeof x.x&&x.x.indexOf("%")!==-1&&(h.x=0,h.xPercent=ce(x.x,N.xPercent)),"string"==typeof x.y&&x.y.indexOf("%")!==-1&&(h.y=0,h.yPercent=ce(x.y,N.yPercent)),h.rotation=he("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:N.rotation,N.rotation,"rotation",P),Re&&(h.rotationX=he("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":N.rotationX||0,N.rotationX,"rotationX",P),h.rotationY=he("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":N.rotationY||0,N.rotationY,"rotationY",P)),
h.skewX=he(x.skewX,N.skewX),h.skewY=he(x.skewY,N.skewY)}for(Re&&null!=x.force3D&&(N.force3D=x.force3D,d=!0),p=N.force3D||N.z||N.rotationX||N.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,p||null==x.scale||(h.scaleZ=1);--C>-1;)w=Ie[C],O=h[w]-N[w],(O>S||O<-S||null!=x[w]||null!=U[w])&&(d=!0,r=new be(N,w,N[w],O,r),w in P&&(r.e=P[w]),r.xs0=0,r.plugin=a,i._overwriteProps.push(r.n));return O=x.transformOrigin,N.svg&&(O||x.svgOrigin)&&(m=N.xOffset,y=N.yOffset,je(e,ue(O),h,x.svgOrigin,x.smoothOrigin),r=we(N,"xOrigin",(T?N:h).xOrigin,h.xOrigin,r,I),r=we(N,"yOrigin",(T?N:h).yOrigin,h.yOrigin,r,I),m===N.xOffset&&y===N.yOffset||(r=we(N,"xOffset",T?m:N.xOffset,N.xOffset,r,I),r=we(N,"yOffset",T?y:N.yOffset,N.yOffset,r,I)),O="0px 0px"),(O||Re&&p&&N.zOrigin)&&(Ne?(d=!0,w=Ae,O=(O||ee(e,w,o,!1,"50% 50%"))+"",r=new be(E,w,0,0,r,-1,I),r.b=E[w],r.plugin=a,Re?(f=N.zOrigin,O=O.split(" "),N.zOrigin=(O.length>2&&(0===f||"0px"!==O[2])?parseFloat(O[2]):f)||0,r.xs0=r.e=O[0]+" "+(O[1]||"50%")+" 0px",r=new be(N,"zOrigin",0,0,r,-1,r.n),r.b=f,r.xs0=r.e=N.zOrigin):r.xs0=r.e=O):ue(O+"",N)),d&&(i._transformType=N.svg&&Pe||!p&&3!==this._transformType?2:3),l&&(u[n]=l),c&&(u.scale=c),r},prefix:!0}),Ce("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ce("borderRadius",{defaultValue:"0px",parser:function(e,t,n,i,a,s){t=this.format(t);var u,l,c,h,f,p,d,v,m,g,_,y,b,w,T,E,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=e.style;for(m=parseFloat(e.offsetWidth),g=parseFloat(e.offsetHeight),u=t.split(" "),l=0;l<S.length;l++)this.p.indexOf("border")&&(S[l]=J(S[l])),f=h=ee(e,S[l],o,!1,"0px"),f.indexOf(" ")!==-1&&(h=f.split(" "),f=h[0],h=h[1]),p=c=u[l],d=parseFloat(f),y=f.substr((d+"").length),b="="===p.charAt(1),b?(v=parseInt(p.charAt(0)+"1",10),p=p.substr(2),v*=parseFloat(p),_=p.substr((v+"").length-(v<0?1:0))||""):(v=parseFloat(p),_=p.substr((v+"").length)),""===_&&(_=r[n]||y),_!==y&&(w=te(e,"borderLeft",d,y),T=te(e,"borderTop",d,y),"%"===_?(f=w/m*100+"%",h=T/g*100+"%"):"em"===_?(E=te(e,"borderLeft",1,"em"),f=w/E+"em",h=T/E+"em"):(f=w+"px",h=T+"px"),b&&(p=parseFloat(f)+v+_,c=parseFloat(h)+v+_)),a=Te(C,S[l],f+" "+h,p+" "+c,!1,"0px",a);return a},prefix:!0,formatter:ge("0px 0px 0px 0px",!1,!0)}),Ce("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,i,r,a){return Te(e.style,n,this.format(ee(e,n,o,!1,"0px 0px")),this.format(t),!1,"0px",r)},prefix:!0,formatter:ge("0px 0px",!1,!0)}),Ce("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,i,r,a){var s,u,l,c,h,f,p="background-position",d=o||Z(e,null),v=this.format((d?m?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),g=this.format(t);if(v.indexOf("%")!==-1!=(g.indexOf("%")!==-1)&&g.split(",").length<2&&(f=ee(e,"backgroundImage").replace(O,""),f&&"none"!==f)){for(s=v.split(" "),u=g.split(" "),H.setAttribute("src",f),l=2;--l>-1;)v=s[l],c=v.indexOf("%")!==-1,c!==(u[l].indexOf("%")!==-1)&&(h=0===l?e.offsetWidth-H.width:e.offsetHeight-H.height,s[l]=c?parseFloat(v)/100*h+"px":parseFloat(v)/h*100+"%");v=s.join(" ")}return this.parseComplex(e.style,v,g,r,a)},formatter:ue}),Ce("backgroundSize",{defaultValue:"0 0",formatter:function(e){return e+="",ue(e.indexOf(" ")===-1?e+" "+e:e)}}),Ce("perspective",{defaultValue:"0px",prefix:!0}),Ce("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ce("transformStyle",{prefix:!0}),Ce("backfaceVisibility",{prefix:!0}),Ce("userSelect",{prefix:!0}),Ce("margin",{parser:_e("marginTop,marginRight,marginBottom,marginLeft")}),Ce("padding",{parser:_e("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ce("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,i,r,a){var s,u,l;return m<9?(u=e.currentStyle,l=m<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",t=this.format(t).split(",").join(l)):(s=this.format(ee(e,this.p,o,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,r,a)}}),Ce("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ce("autoRound,strictUnits",{parser:function(e,t,n,i,r){return r}}),Ce("border",{defaultValue:"0px solid #000",parser:function(e,t,n,i,r,a){var s=ee(e,"borderTopWidth",o,!1,"0px"),u=this.format(t).split(" "),l=u[0].replace(E,"");return"px"!==l&&(s=parseFloat(s)/te(e,"borderTopWidth",1,l)+l),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",o,!1,"solid")+" "+ee(e,"borderTopColor",o,!1,"#000")),u.join(" "),r,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),Ce("borderWidth",{parser:_e("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ce("float,cssFloat,styleFloat",{parser:function(e,t,n,i,r,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new be(a,s,0,0,r,-1,n,!1,0,a[s],t)}});var Ke=function(e){var t,n=this.t,i=n.filter||ee(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(i.indexOf("atrix(")===-1&&i.indexOf("radient(")===-1&&i.indexOf("oader(")===-1?(n.removeAttribute("filter"),t=!ee(this.data,"filter")):(n.filter=i.replace(x,""),t=!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),i.indexOf("pacity")===-1?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(S,"opacity="+r))};Ce("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,i,r,a){var s=parseFloat(ee(e,"opacity",o,!1,"1")),u=e.style,l="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),l&&1===s&&"hidden"===ee(e,"visibility",o)&&0!==t&&(s=0),K?r=new be(u,"opacity",s,t-s,r):(r=new be(u,"opacity",100*s,100*(t-s),r),r.xn1=l?1:0,u.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=a,r.setRatio=Ke),l&&(r=new be(u,"visibility",0,0,r,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),r.xs0="inherit",i._overwriteProps.push(r.n),i._overwriteProps.push(n)),r}});var Ye=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(I,"-$1").toLowerCase())):e.removeAttribute(t))},Ge=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:Ye(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ce("className",{parser:function(e,t,i,r,a,s,u){var l,c,h,f,p,d=e.getAttribute("class")||"",v=e.style.cssText;if(a=r._classNamePT=new be(e,i,0,0,a,2),a.setRatio=Ge,a.pr=-11,n=!0,a.b=d,c=ie(e,o),h=e._gsClassPT){for(f={},p=h.data;p;)f[p.p]=1,p=p._next;h.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:d.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),l=re(e,c,ie(e),u,f),e.setAttribute("class",d),a.data=l.firstMPT,e.style.cssText=v,a=a.xfirst=r.parse(e,l.difs,a,s)}});var Qe=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,r,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(t=this.e.split(" ").join("").split(","),i=t.length;--i>-1;)n=t[i],l[n]&&(l[n].parse===s?r=!0:n="transformOrigin"===n?Ae:l[n].p),Ye(a,n);r&&(Ye(a,Ne),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ce("clearProps",{parser:function(e,t,i,r,o){return o=new be(e,i,0,0,o,2),o.setRatio=Qe,o.e=t,o.pr=-10,o.data=r._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Ee=c.length;Ee--;)xe(c[Ee]);c=s.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(e,t,i,u){if(!e.nodeType)return!1;this._target=g=e,this._tween=i,this._vars=t,_=u,h=t.autoRound,n=!1,r=t.suffixMap||s.suffixMap,o=Z(e,""),a=this._overwriteProps;var c,d,m,y,b,w,T,E,S,x=e.style;if(f&&""===x.zIndex&&(c=ee(e,"zIndex",o),"auto"!==c&&""!==c||this._addLazySet(x,"zIndex",0)),"string"==typeof t&&(y=x.cssText,c=ie(e,o),x.cssText=y+";"+t,c=re(e,c,ie(e)).difs,!K&&C.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,x.cssText=y),t.className?this._firstPT=d=l.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=d=this.parse(e,t,null),this._transformType){for(S=3===this._transformType,Ne?p&&(f=!0,""===x.zIndex&&(T=ee(e,"zIndex",o),"auto"!==T&&""!==T||this._addLazySet(x,"zIndex",0)),v&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):x.zoom=1,m=d;m&&m._next;)m=m._next;E=new be(e,"transform",0,0,null,2),this._linkCSSP(E,null,m),E.setRatio=Ne?Xe:ze,E.data=this._transform||He(e,o,!0),E.tween=i,E.pr=-1,a.pop()}if(n){for(;d;){for(w=d._next,m=y;m&&m.pr>d.pr;)m=m._next;(d._prev=m?m._prev:b)?d._prev._next=d:y=d,(d._next=m)?m._prev=d:b=d,d=w}this._firstPT=y}return!0},c.parse=function(e,t,n,i){var a,s,u,c,f,p,d,v,m,y,b=e.style;for(a in t){if(p=t[a],"function"==typeof p&&(p=p(_,g)),s=l[a])n=s.parse(e,p,a,this,n,i,t);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,e.style,"setProperty",Z(e).getPropertyValue(a)+"",p+"",a,!1,a);continue}f=ee(e,a,o)+"",m="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||m&&P.test(p)?(m||(p=de(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),n=Te(b,a,f,p,!0,"transparent",n,0,i)):m&&M.test(p)?n=Te(b,a,f,p,!0,null,n,0,i):(u=parseFloat(f),d=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(u=se(e,a,o),d="px"):"left"===a||"top"===a?(u=ne(e,a,o),d="px"):(u="opacity"!==a?0:1,d="")),y=m&&"="===p.charAt(1),y?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),v=p.replace(E,"")):(c=parseFloat(p),v=m?p.replace(E,""):""),""===v&&(v=a in r?r[a]:d),p=c||0===c?(y?c+u:c)+v:t[a],d!==v&&(""===v&&"lineHeight"!==a||(c||0===c)&&u&&(u=te(e,a,u,d),"%"===v?(u/=te(e,a,100,"%")/100,t.strictUnits!==!0&&(f=u+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?u/=te(e,a,1,v):"px"!==v&&(c=te(e,a,c,v),v="px"),y&&(c||0===c)&&(p=c+u+v))),y&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(n=new be(b,a,c||u||0,0,n,-1,a,!1,0,f,p),n.xs0="none"!==p||"display"!==a&&a.indexOf("Style")===-1?p:f):G("invalid "+a+" tween value: "+t[a]):(n=new be(b,a,u,c-u,n,0,a,h!==!1&&("px"===v||"zIndex"===a),0,f,p),n.xs0=v))}i&&n&&!n.plugin&&(n.plugin=i)}return n},c.setRatio=function(e){var t,n,i,r=this._firstPT,o=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(t=r.c*e+r.s,r.r?t=Math.round(t):t<o&&t>-o&&(t=0),r.type)if(1===r.type)if(i=r.l,2===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(t=Math.round(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},c._enableTransforms=function(e){this._transform=this._transform||He(this._target,o,!0),this._transformType=this._transform.svg&&Pe||!e&&3!==this._transformType?2:3};var $e=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(e,t,n){var i=this._firstPT=new be(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=$e,i.data=this},c._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},c._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},c._kill=function(t){var n,i,r,o=t;if(t.autoAlpha||t.alpha){o={};for(i in t)o[i]=t[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(n=this._classNamePT)&&(r=n.xfirst,r&&r._prev?this._linkCSSP(r._prev,n._next,r._prev._prev):r===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,r._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(t),i=n.plugin),n=n._next;return e.prototype._kill.call(this,o)};var Je=function(e,t,n){var i,r,o,a;if(e.slice)for(r=e.length;--r>-1;)Je(e[r],t,n);else for(i=e.childNodes,r=i.length;--r>-1;)o=i[r],a=o.type,o.style&&(t.push(ie(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Je(o,t,n)};return s.cascadeTo=function(e,n,i){var r,o,a,s,u=t.to(e,n,i),l=[u],c=[],h=[],f=[],p=t._internals.reservedProps;for(e=u._targets||u.target,Je(e,c,f),u.render(n,!0,!0),Je(e,h),u.render(0,!0,!0),u._enabled(!0),r=f.length;--r>-1;)if(o=re(f[r],c[r],h[r]),o.firstMPT){o=o.difs;for(a in i)p[a]&&(o[a]=i[a]);s={};for(a in o)s[a]=c[r][a];l.push(t.fromTo(f[r],n,s,o))}return l},e.activate([s]),s},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(n){"use strict";var r=function(){return(i.GreenSockGlobals||i)[n]};"undefined"!=typeof t&&t.exports?(e("../TweenLite.js"),t.exports=r()):"function"==typeof define&&define.amd&&define(["TweenLite"],r)}("CSSPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":166}],171:[function(e,t,n){!function(e,n,i,r){"use strict";function o(e,t,n){return setTimeout(c(e,n),t)}function a(e,t,n){return!!Array.isArray(e)&&(s(e,n[t],n),!0)}function s(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==r)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function u(t,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,r,i),t.apply(this,arguments)}}function l(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&fe(i,n)}function c(e,t){return function(){return e.apply(t,arguments)}}function h(e,t){return typeof e==ve?e.apply(t?t[0]||r:r,t):e}function f(e,t){return e===r?t:e}function p(e,t,n){s(g(t),function(t){e.addEventListener(t,n,!1)})}function d(e,t,n){s(g(t),function(t){e.removeEventListener(t,n,!1)})}function v(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function _(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function b(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];_(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function w(e,t){for(var n,i,o=t[0].toUpperCase()+t.slice(1),a=0;a<pe.length;){if(n=pe[a],i=n?n+o:t,i in e)return i;a++}return r}function T(){return we++}function E(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function S(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){h(e.options.enable,[e])&&n.handler(t)},this.init()}function C(e){var t,n=e.options.inputClass;return new(t=n?n:Se?U:Ce?V:Ee?H:j)(e,x)}function x(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&Ae&&i-r===0,a=t&(ke|De)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,P(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function P(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=O(t)),r>1&&!n.firstMultiple?n.firstMultiple=O(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=A(i);t.timeStamp=_e(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=L(s,u),t.distance=D(s,u),I(n,t),t.offsetDirection=k(t.deltaX,t.deltaY);var l=R(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=ge(l.x)>ge(l.y)?l.x:l.y,t.scale=a?F(a.pointers,i):1,t.rotation=a?M(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,N(n,t);var c=e.element;v(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function I(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Ae&&o.eventType!==ke||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function N(e,t){var n,i,o,a,s=e.lastInterval||t,u=t.timeStamp-s.timeStamp;if(t.eventType!=De&&(u>Oe||s.velocity===r)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,h=R(u,l,c);i=h.x,o=h.y,n=ge(h.x)>ge(h.y)?h.x:h.y,a=k(l,c),e.lastInterval=t}else n=s.velocity,i=s.velocityX,o=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=o,t.direction=a}function O(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:me(e.pointers[n].clientX),clientY:me(e.pointers[n].clientY)},n++;return{timeStamp:_e(),pointers:t,center:A(t),deltaX:e.deltaX,deltaY:e.deltaY}}function A(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:me(n/t),y:me(i/t)}}function R(e,t,n){return{x:t/e||0,y:n/e||0}}function k(e,t){return e===t?Le:ge(e)>=ge(t)?0>e?Me:Fe:0>t?je:Ue}function D(e,t,n){n||(n=qe);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function L(e,t,n){n||(n=qe);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function M(e,t){return L(t[1],t[0],He)+L(e[1],e[0],He)}function F(e,t){return D(t[0],t[1],He)/D(e[0],e[1],He)}function j(){this.evEl=Xe,this.evWin=Ke,this.pressed=!1,S.apply(this,arguments)}function U(){this.evEl=Qe,this.evWin=$e,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Ze,this.evWin=et,this.started=!1,S.apply(this,arguments)}function W(e,t){var n=y(e.touches),i=y(e.changedTouches);return t&(ke|De)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function V(){this.evTarget=nt,this.targetIds={},S.apply(this,arguments)}function q(e,t){var n=y(e.touches),i=this.targetIds;if(t&(Ae|Re)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=y(e.changedTouches),s=[],u=this.target;if(o=n.filter(function(e){return v(e.target,u)}),t===Ae)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(ke|De)&&delete i[a[r].identifier],r++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function H(){S.apply(this,arguments);var e=c(this.handler,this);this.touch=new V(this.manager,e),this.mouse=new j(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function z(e,t){e&Ae?(this.primaryTouch=t.changedPointers[0].identifier,X.call(this,t)):e&(ke|De)&&X.call(this,t)}function X(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(r,it)}}function K(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(rt>=o&&rt>=a)return!0}return!1}function Y(e,t){this.manager=e,this.set(t)}function G(e){if(m(e,ct))return ct;var t=m(e,ht),n=m(e,ft);return t&&n?ct:t||n?t?ht:ft:m(e,lt)?lt:ut}function Q(){if(!at)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!n||e.CSS.supports("touch-action",i)}),t}function $(e){this.options=fe({},this.defaults,e||{}),this.id=T(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=dt,this.simultaneous={},this.requireFail=[]}function J(e){return e&yt?"cancel":e&gt?"end":e&mt?"move":e&vt?"start":""}function Z(e){return e==Ue?"down":e==je?"up":e==Me?"left":e==Fe?"right":""}function ee(e,t){var n=t.manager;return n?n.get(e):e}function te(){$.apply(this,arguments)}function ne(){te.apply(this,arguments),this.pX=null,this.pY=null}function ie(){te.apply(this,arguments)}function re(){$.apply(this,arguments),this._timer=null,this._input=null}function oe(){te.apply(this,arguments)}function ae(){te.apply(this,arguments)}function se(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ue(e,t){return t=t||{},t.recognizers=f(t.recognizers,ue.defaults.preset),new le(e,t)}function le(e,t){this.options=fe({},ue.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=C(this),this.touchAction=new Y(this,this.options.touchAction),ce(this,!0),s(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(e,t){var n=e.element;if(n.style){var i;s(e.options.cssProps,function(r,o){i=w(n.style,o),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function he(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}var fe,pe=["","webkit","Moz","MS","ms","o"],de=n.createElement("div"),ve="function",me=Math.round,ge=Math.abs,_e=Date.now;fe="function"!=typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}:Object.assign;var ye=u(function(e,t,n){for(var i=Object.keys(t),o=0;o<i.length;)(!n||n&&e[i[o]]===r)&&(e[i[o]]=t[i[o]]),o++;return e},"extend","Use `assign`."),be=u(function(e,t){return ye(e,t,!0)},"merge","Use `assign`."),we=1,Te=/mobile|tablet|ip(ad|hone|od)|android/i,Ee="ontouchstart"in e,Se=w(e,"PointerEvent")!==r,Ce=Ee&&Te.test(navigator.userAgent),xe="touch",Pe="pen",Ie="mouse",Ne="kinect",Oe=25,Ae=1,Re=2,ke=4,De=8,Le=1,Me=2,Fe=4,je=8,Ue=16,Be=Me|Fe,We=je|Ue,Ve=Be|We,qe=["x","y"],He=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(E(this.element),this.evWin,this.domHandler)}};var ze={mousedown:Ae,mousemove:Re,mouseup:ke},Xe="mousedown",Ke="mousemove mouseup";l(j,S,{handler:function(e){var t=ze[e.type];t&Ae&&0===e.button&&(this.pressed=!0),t&Re&&1!==e.which&&(t=ke),this.pressed&&(t&ke&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ie,srcEvent:e}))}});var Ye={pointerdown:Ae,pointermove:Re,pointerup:ke,pointercancel:De,pointerout:De},Ge={2:xe,3:Pe,4:Ie,5:Ne},Qe="pointerdown",$e="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Qe="MSPointerDown",$e="MSPointerMove MSPointerUp MSPointerCancel"),l(U,S,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Ye[i],o=Ge[e.pointerType]||e.pointerType,a=o==xe,s=_(t,e.pointerId,"pointerId");r&Ae&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):r&(ke|De)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Je={touchstart:Ae,touchmove:Re,touchend:ke,touchcancel:De},Ze="touchstart",et="touchstart touchmove touchend touchcancel";l(B,S,{handler:function(e){var t=Je[e.type];if(t===Ae&&(this.started=!0),this.started){var n=W.call(this,e,t);t&(ke|De)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:xe,srcEvent:e})}}});var tt={touchstart:Ae,touchmove:Re,touchend:ke,touchcancel:De},nt="touchstart touchmove touchend touchcancel";l(V,S,{handler:function(e){var t=tt[e.type],n=q.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:xe,srcEvent:e})}});var it=2500,rt=25;l(H,S,{handler:function(e,t,n){var i=n.pointerType==xe,r=n.pointerType==Ie;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)z.call(this,t,n);else if(r&&K.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ot=w(de.style,"touchAction"),at=ot!==r,st="compute",ut="auto",lt="manipulation",ct="none",ht="pan-x",ft="pan-y",pt=Q();Y.prototype={set:function(e){e==st&&(e=this.compute()),at&&this.manager.element.style&&pt[e]&&(this.manager.element.style[ot]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){h(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),G(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=m(i,ct)&&!pt[ct],o=m(i,ft)&&!pt[ft],a=m(i,ht)&&!pt[ht];if(r){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}return a&&o?void 0:r||o&&n&Be||a&&n&We?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var dt=1,vt=2,mt=4,gt=8,_t=gt,yt=16,bt=32;$.prototype={defaults:{},set:function(e){return fe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(a(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ee(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return a(e,"dropRecognizeWith",this)?this:(e=ee(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(a(e,"requireFailure",this))return this;var t=this.requireFail;return e=ee(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(a(e,"dropRequireFailure",this))return this;e=ee(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;gt>i&&t(n.options.event+J(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=gt&&t(n.options.event+J(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=bt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(bt|dt)))return!1;e++}return!0},recognize:function(e){var t=fe({},e);return h(this.options.enable,[this,t])?(this.state&(_t|yt|bt)&&(this.state=dt),this.state=this.process(t),void(this.state&(vt|mt|gt|yt)&&this.tryEmit(t))):(this.reset(),void(this.state=bt))},process:function(e){},getTouchAction:function(){},reset:function(){}},l(te,$,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(vt|mt),r=this.attrTest(e);return i&&(n&De||!r)?t|yt:i||r?n&ke?t|gt:t&vt?t|mt:vt:bt}}),l(ne,te,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ve},getTouchAction:function(){var e=this.options.direction,t=[];return e&Be&&t.push(ft),e&We&&t.push(ht),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&Be?(r=0===o?Le:0>o?Me:Fe,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Le:0>a?je:Ue,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return te.prototype.attrTest.call(this,e)&&(this.state&vt||!(this.state&vt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),l(ie,te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&vt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),l(re,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ut]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(ke|De)&&!r)this.reset();else if(e.eventType&Ae)this.reset(),this._timer=o(function(){this.state=_t,this.tryEmit()},t.time,this);else if(e.eventType&ke)return _t;return bt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===_t&&(e&&e.eventType&ke?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=_e(),this.manager.emit(this.options.event,this._input)))}}),l(oe,te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&vt)}}),l(ae,te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Be|We,pointers:1},getTouchAction:function(){return ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Be|We)?t=e.overallVelocity:n&Be?t=e.overallVelocityX:n&We&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&ke},emit:function(e){var t=Z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),l(se,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ae&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=ke)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||D(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var u=this.count%t.taps;if(0===u)return this.hasRequireFailures()?(this._timer=o(function(){this.state=_t,this.tryEmit()},t.interval,this),vt):_t}return bt},failTimeout:function(){return this._timer=o(function(){this.state=bt},this.options.interval,this),bt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==_t&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ue.VERSION="2.0.7",ue.defaults={domEvents:!1,touchAction:st,enable:!0,inputTarget:null,inputClass:null,preset:[[oe,{enable:!1}],[ie,{enable:!1},["rotate"]],[ae,{direction:Be}],[ne,{direction:Be},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",
contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,Tt=2;le.prototype={set:function(e){return fe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?Tt:wt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&_t)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],t.stopped===Tt||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(vt|mt|gt)&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof $)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(a(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(a(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=_(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers;return s(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==r){var n=this.handlers;return s(g(e),function(e){t?n[e]&&n[e].splice(_(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&he(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},fe(ue,{INPUT_START:Ae,INPUT_MOVE:Re,INPUT_END:ke,INPUT_CANCEL:De,STATE_POSSIBLE:dt,STATE_BEGAN:vt,STATE_CHANGED:mt,STATE_ENDED:gt,STATE_RECOGNIZED:_t,STATE_CANCELLED:yt,STATE_FAILED:bt,DIRECTION_NONE:Le,DIRECTION_LEFT:Me,DIRECTION_RIGHT:Fe,DIRECTION_UP:je,DIRECTION_DOWN:Ue,DIRECTION_HORIZONTAL:Be,DIRECTION_VERTICAL:We,DIRECTION_ALL:Ve,Manager:le,Input:S,TouchAction:Y,TouchInput:V,MouseInput:j,PointerEventInput:U,TouchMouseInput:H,SingleTouchInput:B,Recognizer:$,AttrRecognizer:te,Tap:se,Pan:ne,Swipe:ae,Pinch:ie,Rotate:oe,Press:re,on:p,off:d,each:s,merge:be,extend:ye,assign:fe,inherit:l,bindFn:c,prefixed:w});var Et="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};Et.Hammer=ue,"function"==typeof define&&define.amd?define(function(){return ue}):"undefined"!=typeof t&&t.exports?t.exports=ue:e[i]=ue}(window,document,"Hammer")},{}],172:[function(e,t,n){!function(e,t,n,i){var r=e(t);e.fn.lazyload=function(o){function a(){var t=0;u.each(function(){var n=e(this);if(!l.skip_invisible||n.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else n.trigger("appear"),t=0})}var s,u=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(i!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),i!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),e.extend(l,o)),s=l.container===i||l.container===t?r:e(l.container),0===l.event.indexOf("scroll")&&s.bind(l.event,function(){return a()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,n.attr("src")!==i&&n.attr("src")!==!1||n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var i=u.length;l.appear.call(t,i,l)}e("<img />").bind("load",function(){var i=n.attr("data-"+l.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[l.effect](l.effect_speed),t.loaded=!0;var r=e.grep(u,function(e){return!e.loaded});if(u=e(r),l.load){var o=u.length;l.load.call(t,o,l)}}).attr("src",n.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&n.bind(l.event,function(){t.loaded||n.trigger("appear")})}),r.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&u.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){a()}),this},e.belowthefold=function(n,o){var a;return a=o.container===i||o.container===t?(t.innerHeight?t.innerHeight:r.height())+r.scrollTop():e(o.container).offset().top+e(o.container).height(),a<=e(n).offset().top-o.threshold},e.rightoffold=function(n,o){var a;return a=o.container===i||o.container===t?r.width()+r.scrollLeft():e(o.container).offset().left+e(o.container).width(),a<=e(n).offset().left-o.threshold},e.abovethetop=function(n,o){var a;return a=o.container===i||o.container===t?r.scrollTop():e(o.container).offset().top,a>=e(n).offset().top+o.threshold+e(n).height()},e.leftofbegin=function(n,o){var a;return a=o.container===i||o.container===t?r.scrollLeft():e(o.container).offset().left,a>=e(n).offset().left+o.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},{}],173:[function(e,t,n){(function(e){(function(e,t,n,i,r){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=ae.type(e);return"function"!==n&&!ae.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(ae.isFunction(t))return ae.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ae.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return ae.filter(t,e,n);t=ae.filter(t,e)}return ae.grep(e,function(e){return ee.call(t,e)>-1!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return ae.each(e.match(Te)||[],function(e,n){t[n]=!0}),t}function s(){Q.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),ae.ready()}function u(){this.expando=ae.expando+u.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ne,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ie.test(n)?ae.parseJSON(n):n)}catch(e){}Pe.set(e,t,n)}else n=void 0;return n}function c(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return ae.css(e,t,"")},u=s(),l=n&&n[3]||(ae.cssNumber[t]?"":"px"),c=(ae.cssNumber[t]||"px"!==l&&+u)&&Ae.exec(ae.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,ae.style(e,t,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function h(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ae.nodeName(e,t)?ae.merge([e],n):n}function f(e,t){for(var n=0,i=e.length;n<i;n++)xe.set(e[n],"globalEval",!t||xe.get(t[n],"globalEval"))}function p(e,t,n,i,r){for(var o,a,s,u,l,c,p=t.createDocumentFragment(),d=[],v=0,m=e.length;v<m;v++)if(o=e[v],o||0===o)if("object"===ae.type(o))ae.merge(d,o.nodeType?[o]:o);else if(je.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(Le.exec(o)||["",""])[1].toLowerCase(),u=Fe[s]||Fe._default,a.innerHTML=u[1]+ae.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;ae.merge(d,a.childNodes),a=p.firstChild,a.textContent=""}else d.push(t.createTextNode(o));for(p.textContent="",v=0;o=d[v++];)if(i&&ae.inArray(o,i)>-1)r&&r.push(o);else if(l=ae.contains(o.ownerDocument,o),a=h(p.appendChild(o),"script"),l&&f(a),n)for(c=0;o=a[c++];)Me.test(o.type||"")&&n.push(o);return p}function d(){return!0}function v(){return!1}function m(){try{return Q.activeElement}catch(e){}}function g(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)g(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=v;else if(!r)return e;return 1===o&&(a=r,r=function(e){return ae().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ae.guid++)),e.each(function(){ae.event.add(this,t,r,i,n)})}function _(e,t){return ae.nodeName(e,"table")&&ae.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,a,s,u,l;if(1===t.nodeType){if(xe.hasData(e)&&(o=xe.access(e),a=xe.set(t,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;n<i;n++)ae.event.add(t,r,l[r][n])}Pe.hasData(e)&&(s=Pe.access(e),u=ae.extend({},s),Pe.set(t,u))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&De.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function E(e,t,n,i){t=J.apply([],t);var r,o,a,s,u,l,c=0,f=e.length,d=f-1,v=t[0],m=ae.isFunction(v);if(m||f>1&&"string"==typeof v&&!re.checkClone&&He.test(v))return e.each(function(r){var o=e.eq(r);m&&(t[0]=v.call(this,r,o.html())),E(o,t,n,i)});if(f&&(r=p(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=ae.map(h(r,"script"),y),s=a.length;c<f;c++)u=r,c!==d&&(u=ae.clone(u,!0,!0),s&&ae.merge(a,h(u,"script"))),n.call(e[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ae.map(a,b),c=0;c<s;c++)u=a[c],Me.test(u.type||"")&&!xe.access(u,"globalEval")&&ae.contains(l,u)&&(u.src?ae._evalUrl&&ae._evalUrl(u.src):ae.globalEval(u.textContent.replace(Xe,"")))}return e}function S(e,t,n){for(var i,r=t?ae.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ae.cleanData(h(i)),i.parentNode&&(n&&ae.contains(i.ownerDocument,i)&&f(h(i,"script")),i.parentNode.removeChild(i));return e}function C(e,t){var n=ae(t.createElement(e)).appendTo(t.body),i=ae.css(n[0],"display");return n.detach(),i}function x(e){var t=Q,n=Ye[e];return n||(n=C(e,t),"none"!==n&&n||(Ke=(Ke||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ke[0].contentDocument,t.write(),t.close(),n=C(e,t),Ke.detach()),Ye[e]=n),n}function P(e,t,n){var i,r,o,a,s=e.style;return n=n||$e(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||ae.contains(e.ownerDocument,e)||(a=ae.style(e,t)),n&&!re.pixelMarginRight()&&Qe.test(a)&&Ge.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=it.length;n--;)if(e=it[n]+t,e in rt)return e}function O(e,t,n){var i=Ae.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function A(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ae.css(e,n+Re[o],!0,r)),i?("content"===n&&(a-=ae.css(e,"padding"+Re[o],!0,r)),"margin"!==n&&(a-=ae.css(e,"border"+Re[o]+"Width",!0,r))):(a+=ae.css(e,"padding"+Re[o],!0,r),"padding"!==n&&(a+=ae.css(e,"border"+Re[o]+"Width",!0,r)));return a}function R(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=$e(e),a="border-box"===ae.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=P(e,t,o),(r<0||null==r)&&(r=e.style[t]),Qe.test(r))return r;i=a&&(re.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,n||(a?"border":"content"),i,o)+"px"}function k(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)i=e[a],i.style&&(o[a]=xe.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(o[a]=xe.access(i,"olddisplay",x(i.nodeName)))):(r=ke(i),"none"===n&&r||xe.set(i,"olddisplay",r?n:ae.css(i,"display"))));for(a=0;a<s;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function D(e,t,n,i,r){return new D.prototype.init(e,t,n,i,r)}function L(){return e.setTimeout(function(){ot=void 0}),ot=ae.now()}function M(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=Re[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var i,r=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function j(e,t,n){var i,r,o,a,s,u,l,c,h=this,f={},p=e.style,d=e.nodeType&&ke(e),v=xe.get(e,"fxshow");n.queue||(s=ae._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ae.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ae.css(e,"display"),c="none"===l?xe.get(e,"olddisplay")||x(e.nodeName):l,"inline"===c&&"none"===ae.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],st.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;d=!0}f[i]=v&&v[i]||ae.style(e,i)}else l=void 0;if(ae.isEmptyObject(f))"inline"===("none"===l?x(e.nodeName):l)&&(p.display=l);else{v?"hidden"in v&&(d=v.hidden):v=xe.access(e,"fxshow",{}),o&&(v.hidden=!d),d?ae(e).show():h.done(function(){ae(e).hide()}),h.done(function(){var t;xe.remove(e,"fxshow");for(t in f)ae.style(e,t,f[t])});for(i in f)a=F(d?v[i]:0,i,h),i in v||(v[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function U(e,t){var n,i,r,o,a;for(n in e)if(i=ae.camelCase(n),r=t[i],o=e[n],ae.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=ae.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function B(e,t,n){var i,r,o=0,a=B.prefilters.length,s=ae.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=ot||L(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ae.extend({},t),opts:ae.extend(!0,{specialEasing:{},easing:ae.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ae.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(U(c,l.opts.specialEasing);o<a;o++)if(i=B.prefilters[o].call(l,e,c,l.opts))return ae.isFunction(i.stop)&&(ae._queueHooks(l.elem,l.opts.queue).stop=ae.proxy(i.stop,i)),i;return ae.map(c,F,l),ae.isFunction(l.opts.start)&&l.opts.start.call(e,l),ae.fx.timer(ae.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Te)||[];if(ae.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function q(e,t,n,i){function r(s){var u;return o[s]=!0,ae.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=e===Pt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function H(e,t){var n,i,r=ae.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ae.extend(!0,e,i),e}function z(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function X(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function K(e,t,n,i){var r;if(ae.isArray(t))ae.each(t,function(t,r){n||At.test(e)?i(e,r):K(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==ae.type(t))i(e,t);else for(r in t)K(e+"["+r+"]",t[r],n,i)}function Y(e){return ae.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],Q=e.document,$=G.slice,J=G.concat,Z=G.push,ee=G.indexOf,te={},ne=te.toString,ie=te.hasOwnProperty,re={},oe="2.2.4",ae=function(e,t){return new ae.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};ae.fn=ae.prototype={jquery:oe,constructor:ae,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ae.each(this,e)},map:function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:G.sort,splice:G.splice},ae.extend=ae.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ae.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(l&&i&&(ae.isPlainObject(i)||(r=ae.isArray(i)))?(r?(r=!1,o=n&&ae.isArray(n)?n:[]):o=n&&ae.isPlainObject(n)?n:{},a[t]=ae.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},ae.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ae.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ae.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ae.type(e)||e.nodeType||ae.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?te[ne.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=ae.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ue,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;r<i&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ae.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:ee.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;o<a;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;a<r;a++)o=t(e[a],a,i),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return J.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),ae.isFunction(e))return i=$.call(arguments,2),r=function(){return e.apply(t||this,i.concat($.call(arguments)))},r.guid=e.guid=e.guid||ae.guid++,r},now:Date.now,support:re}),"function"==typeof Symbol&&(ae.fn[Symbol.iterator]=G[Symbol.iterator]),ae.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){te["[object "+t+"]"]=t.toLowerCase()});var he=function(e){function t(e,t,n,i){var r,o,a,s,u,l,h,p,d=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!i&&((t?t.ownerDocument||t:B)!==R&&A(t),t=t||R,D)){if(11!==v&&(l=ge.exec(e)))if(r=l[1]){if(9===v){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&j(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&!z[e+" "]&&(!L||!L.test(e))){if(1!==v)d=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,"\\$&"):t.setAttribute("id",s=U),h=C(e),o=h.length,u=fe.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=u+" "+f(h[o]);p=h.join(","),d=_e.test(e)&&c(t.parentNode)||t}if(p)try{return J.apply(n,d.querySelectorAll(p)),n}catch(e){}finally{s===U&&t.removeAttribute("id")}}}return P(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[U]=!0,e}function r(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[W,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[U]||(t[U]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[i])&&s[0]===W&&s[1]===o)return c[2]=s[2];if(u[i]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function v(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),l&&t.push(s)));return a}function g(e,t,n,r,o,a){return r&&!r[U]&&(r=g(r)),o&&!o[U]&&(o=g(o,a)),i(function(i,a,s,u){var l,c,h,f=[],p=[],d=a.length,g=i||v(t||"*",s.nodeType?[s]:s,[]),_=!e||!i&&t?g:m(g,f,e,s,u),y=n?o||(i?e:d||r)?[]:a:_;if(n&&n(_,y,s,u),r)for(l=m(y,p),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(y[p[c]]=!(_[p[c]]=h));if(i){if(o||e){if(o){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(_[c]=h);o(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=o?ee(i,h):f[c])>-1&&(i[l]=!(a[l]=h))}}else y=m(y===a?y.splice(d,y.length):y),o?o(null,a,y,u):J.apply(a,y)})}function _(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==I)||((t=n).nodeType?u(e,n,i):l(e,n,i));return t=null,r}];s<r;s++)if(n=T.relative[e[s].type])c=[p(d(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[U]){for(i=++s;i<r&&!T.relative[e[i].type];i++);return g(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<i&&_(e.slice(s,i)),i<r&&_(e=e.slice(i)),i<r&&f(e))}c.push(n)}return d(c)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,u,l){var c,h,f,p=0,d="0",v=i&&[],g=[],_=I,y=i||o&&T.find.TAG("*",l),b=W+=null==_?1:Math.random()||.1,w=y.length;for(l&&(I=a===R||a||l);d!==w&&null!=(c=y[d]);d++){if(o&&c){for(h=0,a||c.ownerDocument===R||(A(c),s=!D);f=e[h++];)if(f(c,a||R,s)){u.push(c);break}l&&(W=b)}r&&((c=!f&&c)&&p--,i&&v.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(v,g,a,s);if(i){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=Q.call(u));g=m(g)}J.apply(u,g),l&&!i&&g.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=b,I=_),v};return r?i(a):a}var b,w,T,E,S,C,x,P,I,N,O,A,R,k,D,L,M,F,j,U="sizzle"+1*new Date,B=e.document,W=0,V=0,q=n(),H=n(),z=n(),X=function(e,t){return e===t&&(O=!0),0},K=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,$=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),fe=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Te=function(){A()};try{J.apply(G=Z.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(e){J={apply:G.length?function(e,t){$.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,k=R.documentElement,D=!S(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(R.getElementsByClassName),w.getById=r(function(e){return k.appendChild(e).id=U,!R.getElementsByName||!R.getElementsByName(U).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},M=[],L=[],(w.qsa=me.test(R.querySelectorAll))&&(r(function(e){k.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(w.matchesSelector=me.test(F=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(e){w.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),M.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(k.compareDocumentPosition),j=t||me.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===B&&j(B,e)?-1:t===R||t.ownerDocument===B&&j(B,t)?1:N?ee(N,e)-ee(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!r||!o)return e===R?-1:t===R?1:r?-1:o?1:N?ee(N,e)-ee(N,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===B?-1:u[i]===B?1:0;
},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&A(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&D&&!z[n+" "]&&(!M||!M.test(n))&&(!L||!L.test(n)))try{var i=F.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&A(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&A(e);var n=T.attrHandle[t.toLowerCase()],i=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==i?i:w.attributes||!D?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(O=!w.detectDuplicates,N=!w.sortStable&&e.slice(0),e.sort(X),O){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return N=null,e},E=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=E(t);return n},T=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,p,d,v=o!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),_=!u&&!s,y=!1;if(m){if(o){for(;v;){for(f=t;f=f[v];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&_){for(f=m,h=f[U]||(f[U]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[e]||[],p=l[0]===W&&l[1],y=p&&l[2],f=p&&m.childNodes[p];f=++p&&f&&f[v]||(y=p=0)||d.pop();)if(1===f.nodeType&&++y&&f===t){c[e]=[W,p,y];break}}else if(_&&(f=t,h=f[U]||(f[U]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[e]||[],p=l[0]===W&&l[1],y=p),y===!1)for(;(f=++p&&f&&f[v]||(y=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++y||(_&&(h=f[U]||(f[U]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[e]=[W,y]),f!==t)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var r,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(r=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=x(e.replace(se,"$1"));return r[U]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return h.prototype=T.filters=T.pseudos,T.setFilters=new h,C=t.tokenize=function(e,n){var i,r,o,a,s,u,l,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){i&&!(r=ue.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in T.filter)!(r=pe[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):H(e,u).slice(0)},x=t.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=_(t[n]),o[U]?i.push(o):r.push(o);o=z(e,y(r,i)),o.selector=e}return o},P=t.select=function(e,t,n,i){var r,o,a,s,u,l="function"==typeof e&&e,h=!i&&C(e=l.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&D&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((u=T.find[s])&&(i=u(a.matches[0].replace(be,we),_e.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return J.apply(n,i),n;break}}return(l||x(e,h))(i,t,!D,n,!t||_e.test(e)&&c(t.parentNode)||t),n},w.sortStable=U.split("").sort(X).join("")===U,w.detectDuplicates=!!O,A(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ae.find=he,ae.expr=he.selectors,ae.expr[":"]=ae.expr.pseudos,ae.uniqueSort=ae.unique=he.uniqueSort,ae.text=he.getText,ae.isXMLDoc=he.isXML,ae.contains=he.contains;var fe=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ae(e).is(n))break;i.push(e)}return i},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},de=ae.expr.match.needsContext,ve=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ae.find.matchesSelector(i,e)?[i]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;t<n;t++)if(ae.contains(r[t],this))return!0}));for(t=0;t<n;t++)ae.find(e,r[t],i);return i=this.pushStack(n>1?ae.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&de.test(e)?ae(e):e||[],!1).length}});var ge,_e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=ae.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||ge,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:_e.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ve.test(i[1])&&ae.isPlainObject(t))for(i in t)ae.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=Q.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ae.isFunction(e)?void 0!==n.ready?n.ready(e):e(ae):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ae.makeArray(e,this))};ye.prototype=ae.fn,ge=ae(Q);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};ae.fn.extend({has:function(e){var t=ae(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ae.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=de.test(e)||"string"!=typeof e?ae(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ae.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ee.call(ae(e),this[0]):ee.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ae.uniqueSort(ae.merge(this.get(),ae(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,n){return fe(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,n){return fe(e,"nextSibling",n)},prevUntil:function(e,t,n){return fe(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||ae.merge([],e.childNodes)}},function(e,t){ae.fn[e]=function(n,i){var r=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ae.filter(i,r)),this.length>1&&(we[e]||ae.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var Te=/\S+/g;ae.Callbacks=function(e){e="string"==typeof e?a(e):ae.extend({},e);var t,n,i,r,o=[],s=[],u=-1,l=function(){for(r=e.once,i=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){ae.each(n,function(n,i){ae.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==ae.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return ae.each(arguments,function(e,t){for(var n;(n=ae.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?ae.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ae.extend({Deferred:function(e){var t=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,o){var a=ae.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ae.extend(e,i):i}},r={};return i.pipe=i.then,ae.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=$.call(arguments),a=o.length,s=1!==a||e&&ae.isFunction(e.promise)?a:0,u=1===s?e:ae.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?$.call(arguments):r,i===t?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&ae.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,t)).done(l(r,i,o)).fail(u.reject):--s;return s||u.resolveWith(i,o),u.promise()}});var Ee;ae.fn.ready=function(e){return ae.ready.promise().done(e),this},ae.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ae.readyWait++:ae.ready(!0)},ready:function(e){(e===!0?--ae.readyWait:ae.isReady)||(ae.isReady=!0,e!==!0&&--ae.readyWait>0||(Ee.resolveWith(Q,[ae]),ae.fn.triggerHandler&&(ae(Q).triggerHandler("ready"),ae(Q).off("ready"))))}}),ae.ready.promise=function(t){return Ee||(Ee=ae.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?e.setTimeout(ae.ready):(Q.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),Ee.promise(t)},ae.ready.promise();var Se=function(e,t,n,i,r,o,a){var s=0,u=e.length,l=null==n;if("object"===ae.type(n)){r=!0;for(s in n)Se(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,ae.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(ae(e),n)})),t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):o},Ce=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};u.uid=1,u.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ce(e))return{};var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,ae.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{ae.isArray(t)?i=t.concat(t.map(ae.camelCase)):(r=ae.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(Te)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||ae.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ae.isEmptyObject(t)}};var xe=new u,Pe=new u,Ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;ae.extend({hasData:function(e){return Pe.hasData(e)||xe.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return xe.access(e,t,n)},_removeData:function(e,t){xe.remove(e,t)}}),ae.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Pe.get(o),1===o.nodeType&&!xe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ae.camelCase(i.slice(5)),l(o,i,r[i])));xe.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):Se(this,function(t){var n,i;if(o&&void 0===t){if(n=Pe.get(o,e)||Pe.get(o,e.replace(Ne,"-$&").toLowerCase()),void 0!==n)return n;if(i=ae.camelCase(e),n=Pe.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ae.camelCase(e),this.each(function(){var n=Pe.get(this,i);Pe.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),ae.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=xe.get(e,t),n&&(!i||ae.isArray(n)?i=xe.access(e,t,ae.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ae.queue(e,t),i=n.length,r=n.shift(),o=ae._queueHooks(e,t),a=function(){ae.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return xe.get(e,n)||xe.access(e,n,{empty:ae.Callbacks("once memory").add(function(){xe.remove(e,[t+"queue",n])})})}}),ae.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ae.queue(this[0],e):void 0===t?this:this.each(function(){var n=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ae.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=xe.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===ae.css(e,"display")||!ae.contains(e.ownerDocument,e)},De=/^(?:checkbox|radio)$/i,Le=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td;var je=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ue=/^key/,Be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;ae.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,l,c,h,f,p,d,v,m=xe.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ae.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof ae&&ae.event.triggered!==t.type?ae.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],l=t.length;l--;)s=We.exec(t[l])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p&&(h=ae.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=ae.event.special[p]||{},c=ae.extend({type:p,origType:v,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ae.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(e,i,d,a)!==!1||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),ae.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,l,c,h,f,p,d,v,m=xe.hasData(e)&&xe.get(e);if(m&&(u=m.events)){for(t=(t||"").match(Te)||[""],l=t.length;l--;)if(s=We.exec(t[l])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p){for(h=ae.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(e,c));a&&!f.length&&(h.teardown&&h.teardown.call(e,d,m.handle)!==!1||ae.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)ae.event.remove(e,p+t[l],n,i,!0);ae.isEmptyObject(u)&&xe.remove(e,"handle events")}},dispatch:function(e){e=ae.event.fix(e);var t,n,i,r,o,a=[],s=$.call(arguments),u=(xe.get(this,"events")||{})[e.type]||[],l=ae.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ae.event.handlers.call(this,e,u),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,i=((ae.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],n=0;n<s;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ae(r,this).index(u)>-1:ae.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[ae.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Be.test(r)?this.mouseHooks:Ue.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ae.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ae.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ae.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ae.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ae.Event=function(e,t){return this instanceof ae.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:v):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),void(this[ae.expando]=!0)):new ae.Event(e,t)},ae.Event.prototype={constructor:ae.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||ae.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ae.fn.extend({on:function(e,t,n,i){return g(this,e,t,n,i)},one:function(e,t,n,i){return g(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ae(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=v),this.each(function(){ae.event.remove(this,e,n,t)})}});var Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qe=/<script|<style|<link/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ae.extend({htmlPrefilter:function(e){return e.replace(Ve,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),u=ae.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(a=h(s),o=h(e),i=0,r=o.length;i<r;i++)T(o[i],a[i]);if(t)if(n)for(o=o||h(e),a=a||h(s),i=0,r=o.length;i<r;i++)w(o[i],a[i]);else w(e,s);return a=h(s,"script"),a.length>0&&f(a,!u&&h(e,"script")),s},cleanData:function(e){for(var t,n,i,r=ae.event.special,o=0;void 0!==(n=e[o]);o++)if(Ce(n)){if(t=n[xe.expando]){if(t.events)for(i in t.events)r[i]?ae.event.remove(n,i):ae.removeEvent(n,i,t.handle);n[xe.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),ae.fn.extend({domManip:E,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Se(this,function(e){return void 0===e?ae.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ae.cleanData(h(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!Fe[(Le.exec(e)||["",""])[1].toLowerCase()]){e=ae.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ae.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;ae.inArray(this,e)<0&&(ae.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,i=[],r=ae(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ae(r[a])[t](n),Z.apply(i,n.get());return this.pushStack(i)}});var Ke,Ye={HTML:"block",BODY:"block"},Ge=/^margin/,Qe=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Ze=Q.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Ze.removeChild(a)}var n,i,r,o,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ae.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Ze.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Ze.removeChild(a),s.removeChild(n),t}}))}();var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],rt=Q.createElement("div").style;ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=ae.camelCase(t),u=e.style;return t=ae.cssProps[s]||(ae.cssProps[s]=N(s)||s),a=ae.cssHooks[t]||ae.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t]:(o=typeof n,"string"===o&&(r=Ae.exec(n))&&r[1]&&(n=c(e,t,r),
o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ae.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(u[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,a,s=ae.camelCase(t);return t=ae.cssProps[s]||(ae.cssProps[s]=N(s)||s),a=ae.cssHooks[t]||ae.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=P(e,t,i)),"normal"===r&&t in nt&&(r=nt[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={get:function(e,n,i){if(n)return et.test(ae.css(e,"display"))&&0===e.offsetWidth?Je(e,tt,function(){return R(e,t,i)}):R(e,t,i)},set:function(e,n,i){var r,o=i&&$e(e),a=i&&A(e,t,i,"border-box"===ae.css(e,"boxSizing",!1,o),o);return a&&(r=Ae.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=ae.css(e,t)),O(e,n,a)}}}),ae.cssHooks.marginLeft=I(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ae.cssHooks.marginRight=I(re.reliableMarginRight,function(e,t){if(t)return Je(e,{display:"inline-block"},P,[e,"marginRight"])}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Re[i]+t]=o[i]||o[i-2]||o[0];return r}},Ge.test(e)||(ae.cssHooks[e+t].set=O)}),ae.fn.extend({css:function(e,t){return Se(this,function(e,t,n){var i,r,o={},a=0;if(ae.isArray(t)){for(i=$e(e),r=t.length;a<r;a++)o[t[a]]=ae.css(e,t[a],!1,i);return o}return void 0!==n?ae.style(e,t,n):ae.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=D,D.prototype={constructor:D,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||ae.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ae.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ae.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ae.cssProps[e.prop]]&&!ae.cssHooks[e.prop]?e.elem[e.prop]=e.now:ae.style(e.elem,e.prop,e.now+e.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ae.fx=D.prototype.init,ae.fx.step={};var ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;ae.Animation=ae.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,i=0,r=e.length;i<r;i++)n=e[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[j],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),ae.speed=function(e,t,n){var i=e&&"object"==typeof e?ae.extend({},e):{complete:n||!n&&t||ae.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ae.isFunction(t)&&t};return i.duration=ae.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ae.fx.speeds?ae.fx.speeds[i.duration]:ae.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ae.isFunction(i.old)&&i.old.call(this),i.queue&&ae.dequeue(this,i.queue)},i},ae.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ae.isEmptyObject(e),o=ae.speed(t,n,i),a=function(){var t=B(this,ae.extend({},e),o);(r||xe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ae.timers,a=xe.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ut.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||ae.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=xe.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ae.timers,a=i?i.length:0;for(n.finish=!0,ae.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ae.each(["toggle","show","hide"],function(e,t){var n=ae.fn[t];ae.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,r)}}),ae.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ae.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ae.timers=[],ae.fx.tick=function(){var e,t=0,n=ae.timers;for(ot=ae.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||ae.fx.stop(),ot=void 0},ae.fx.timer=function(e){ae.timers.push(e),e()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){at||(at=e.setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){e.clearInterval(at),at=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(t,n){return t=ae.fx?ae.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var lt,ct=ae.expr.attrHandle;ae.fn.extend({attr:function(e,t){return Se(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ae.prop(e,t,n):(1===o&&ae.isXMLDoc(e)||(t=t.toLowerCase(),r=ae.attrHooks[t]||(ae.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void ae.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ae.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;n=o[r++];)i=ae.propFix[n]||n,ae.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?ae.removeAttr(e,n):e.setAttribute(n,n),n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ct[t]||ae.find.attr;ct[t]=function(e,t,i){var r,o;return i||(o=ct[t],ct[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ct[t]=o),r}});var ht=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;ae.fn.extend({prop:function(e,t){return Se(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ae.propFix[e]||e]})}}),ae.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ae.isXMLDoc(e)||(t=ae.propFix[t]||t,r=ae.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;ae.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,u=0;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(pt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ae.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,u=0;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(pt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=ae.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ae.isFunction(e)?this.each(function(n){ae(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=ae(this),o=e.match(Te)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=W(this),t&&xe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":xe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var dt=/\r/g,vt=/[\x20\t\r\n\f]+/g;ae.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ae.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ae(this).val()):e,null==r?r="":"number"==typeof r?r+="":ae.isArray(r)&&(r=ae.map(r,function(e){return null==e?"":e+""})),t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ae.valHooks[r.type]||ae.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(dt,""):null==n?"":n)}}}),ae.extend({valHooks:{option:{get:function(e){var t=ae.find.attr(e,"value");return null!=t?t:ae.trim(ae.text(e)).replace(vt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,u=r<0?s:o?r:0;u<s;u++)if(n=i[u],(n.selected||u===r)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ae.nodeName(n.parentNode,"optgroup"))){if(t=ae(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=ae.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=ae.inArray(ae.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,t){if(ae.isArray(t))return e.checked=ae.inArray(ae(e).val(),t)>-1}},re.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ae.extend(ae.event,{trigger:function(t,n,i,r){var o,a,s,u,l,c,h,f=[i||Q],p=ie.call(t,"type")?t.type:t,d=ie.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!mt.test(p+ae.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[ae.expando]?t:new ae.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ae.makeArray(n,[t]),h=ae.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ae.isWindow(i)){for(u=h.delegateType||p,mt.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||Q)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||p,c=(xe.get(a,"events")||{})[t.type]&&xe.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Ce(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Ce(i)||l&&ae.isFunction(i[p])&&!ae.isWindow(i)&&(s=i[l],s&&(i[l]=null),ae.event.triggered=p,i[p](),ae.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(e,t,n){var i=ae.extend(new ae.Event,n,{type:e,isSimulated:!0});ae.event.trigger(i,null,t)}}),ae.fn.extend({trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ae.event.trigger(e,t,n,!0)}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ae.event.simulate(t,e.target,ae.event.fix(e))};ae.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=xe.access(i,t);r||i.addEventListener(e,n,!0),xe.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=xe.access(i,t)-1;r?xe.access(i,t,r):(i.removeEventListener(e,n,!0),xe.remove(i,t))}}});var gt=e.location,_t=ae.now(),yt=/\?/;ae.parseJSON=function(e){return JSON.parse(e+"")},ae.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+t),n};var bt=/#.*$/,wt=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Ct=/^\/\//,xt={},Pt={},It="*/".concat("*"),Nt=Q.createElement("a");Nt.href=gt.href,ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:Et.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ae.ajaxSettings),t):H(ae.ajaxSettings,e)},ajaxPrefilter:V(xt),ajaxTransport:V(Pt),ajax:function(t,n){function i(t,n,i,s){var l,h,_,y,w,E=n;2!==b&&(b=2,u&&e.clearTimeout(u),r=void 0,a=s||"",T.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(y=z(f,T,i)),y=X(f,y,T,l),l?(f.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ae.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(ae.etag[o]=w)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=y.state,h=y.data,_=y.error,l=!_)):(_=E,!t&&E||(E="error",t<0&&(t=0))),T.status=t,T.statusText=(n||E)+"",l?v.resolveWith(p,[h,E,T]):v.rejectWith(p,[T,E,_]),T.statusCode(g),g=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[T,f,l?h:_]),m.fireWith(p,[T,E]),c&&(d.trigger("ajaxComplete",[T,f]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,u,l,c,h,f=ae.ajaxSetup({},n),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?ae(p):ae.event,v=ae.Deferred(),m=ae.Callbacks("once memory"),g=f.statusCode||{},_={},y={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=Tt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,_[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),i(0,t),this}};if(v.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||gt.href)+"").replace(bt,"").replace(Ct,gt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=ae.trim(f.dataType||"*").toLowerCase().match(Te)||[""],null==f.crossDomain){l=Q.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Nt.protocol+"//"+Nt.host!=l.protocol+"//"+l.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ae.param(f.data,f.traditional)),q(xt,f,n,T),2===b)return T;c=ae.event&&f.global,c&&0===ae.active++&&ae.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!St.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(yt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=wt.test(o)?o.replace(wt,"$1_="+_t++):o+(yt.test(o)?"&":"?")+"_="+_t++)),f.ifModified&&(ae.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ae.lastModified[o]),ae.etag[o]&&T.setRequestHeader("If-None-Match",ae.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+It+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)T.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(f.beforeSend.call(p,T,f)===!1||2===b))return T.abort();w="abort";for(h in{success:1,error:1,complete:1})T[h](f[h]);if(r=q(Pt,f,n,T)){if(T.readyState=1,c&&d.trigger("ajaxSend",[T,f]),2===b)return T;f.async&&f.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{b=1,r.send(_,i)}catch(e){if(!(b<2))throw e;i(-1,e)}}else i(-1,"No Transport");return T},getJSON:function(e,t,n){return ae.get(e,t,n,"json")},getScript:function(e,t){return ae.get(e,void 0,t,"script")}}),ae.each(["get","post"],function(e,t){ae[t]=function(e,n,i,r){return ae.isFunction(n)&&(r=r||i,i=n,n=void 0),ae.ajax(ae.extend({url:e,type:t,dataType:r,data:n,success:i},ae.isPlainObject(e)&&e))}}),ae._evalUrl=function(e){return ae.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ae.fn.extend({wrapAll:function(e){var t;return ae.isFunction(e)?this.each(function(t){ae(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ae(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(e){return!ae.expr.filters.visible(e)},ae.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ot=/%20/g,At=/\[\]$/,Rt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var n,i=[],r=function(e,t){t=ae.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){r(this.name,this.value)});else for(n in e)K(n,e[n],t,r);return i.join("&").replace(Ot,"+")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&Dt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:ae.isArray(n)?ae.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Lt={0:200,1223:204},Mt=ae.ajaxSettings.xhr();re.cors=!!Mt&&"withCredentials"in Mt,re.ajax=Mt=!!Mt,ae.ajaxTransport(function(t){var n,i;if(re.cors||Mt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Lt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=ae("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ft=[],jt=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||ae.expando+"_"+_t++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ae.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(jt,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||ae.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?ae(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Ft.push(r)),a&&ae.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ae.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=ve.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=p([e],t,r),r&&r.length&&ae(r).remove(),ae.merge([],i.childNodes))};var Ut=ae.fn.load;ae.fn.load=function(e,t,n){if("string"!=typeof e&&Ut)return Ut.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=ae.trim(e.slice(s)),e=e.slice(0,s)),ae.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&ae.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?ae("<div>").append(ae.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.expr.filters.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length},ae.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,l,c=ae.css(e,"position"),h=ae(e),f={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=ae.css(e,"top"),u=ae.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),ae.isFunction(t)&&(t=t.call(e,n,ae.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):h.css(f)}},ae.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,ae.contains(t,i)?(r=i.getBoundingClientRect(),n=Y(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===ae.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ae.nodeName(e[0],"html")||(i=e.offset()),i.top+=ae.css(e[0],"borderTopWidth",!0),i.left+=ae.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ae.css(n,"marginTop",!0),left:t.left-i.left-ae.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||Ze})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ae.fn[e]=function(i){return Se(this,function(e,i,r){var o=Y(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=I(re.pixelPosition,function(e,n){if(n)return n=P(e,t),Qe.test(n)?ae(e).position()[t]+"px":n})}),ae.each({Height:"height",Width:"width"},function(e,t){ae.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ae.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Se(this,function(t,n,i){var r;return ae.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ae.css(t,n,a):ae.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),ae.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ae.fn.andSelf=ae.fn.addBack,"function"==typeof i&&i.amd&&i("jquery",[],function(){return ae});var Bt=e.jQuery,Wt=e.$;return ae.noConflict=function(t){return e.$===ae&&(e.$=Wt),t&&e.jQuery===ae&&(e.jQuery=Bt),ae},t||(e.jQuery=e.$=ae),ae}),r("undefined"!=typeof jQuery?jQuery:window.jQuery)}).call(e,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],174:[function(e,t,n){(function(n){var i=e;(function(e,t,n,r,o){!function(n){"function"==typeof r&&r.amd?r(["jquery"],n):"object"==typeof t?e.exports=n:n(jQuery)}(function(e){function t(t){var a=t||window.event,s=u.call(arguments,1),l=0,h=0,f=0,p=0,d=0,v=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(f=-1*a.detail),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in a&&(f=-1*a.deltaY,l=f),"deltaX"in a&&(h=a.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");l*=m,f*=m,h*=m}else if(2===a.deltaMode){var g=e.data(this,"mousewheel-page-height");l*=g,f*=g,h*=g}if(p=Math.max(Math.abs(f),Math.abs(h)),(!o||o>p)&&(o=p,i(a,p)&&(o/=40)),i(a,p)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),f=Math[f>=1?"floor":"ceil"](f/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();d=t.clientX-_.left,v=t.clientY-_.top}return t.deltaX=h,t.deltaY=f,t.deltaFactor=o,t.offsetX=d,t.offsetY=v,t.deltaMode=0,s.unshift(t,l,h,f),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(n){"function"==typeof r&&r.amd?r(["jquery"],n):"object"==typeof t?e.exports=n:n(jQuery)}(function(e){function t(t){var a=t||window.event,s=u.call(arguments,1),l=0,h=0,f=0,p=0,d=0,v=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(f=-1*a.detail),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*f,f=0),l=0===f?h:f,"deltaY"in a&&(f=-1*a.deltaY,l=f),"deltaX"in a&&(h=a.deltaX,0===f&&(l=-1*h)),0!==f||0!==h){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");l*=m,f*=m,h*=m}else if(2===a.deltaMode){var g=e.data(this,"mousewheel-page-height");l*=g,f*=g,h*=g}if(p=Math.max(Math.abs(f),Math.abs(h)),(!o||o>p)&&(o=p,i(a,p)&&(o/=40)),i(a,p)&&(l/=40,h/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/o),h=Math[h>=1?"floor":"ceil"](h/o),f=Math[f>=1?"floor":"ceil"](f/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();d=t.clientX-_.left,v=t.clientY-_.top}return t.deltaX=h,t.deltaY=f,t.deltaFactor=o,t.offsetX=d,t.offsetY=v,t.deltaMode=0,s.unshift(t,l,h,f),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0;
}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(t){"function"==typeof r&&r.amd?r(["jquery"],t):"undefined"!=typeof e&&e.exports?e.exports=t:t(jQuery,window,document)}(function(t){!function(n){var o="function"==typeof r&&r.amd,a="undefined"!=typeof e&&e.exports,s="https:"==document.location.protocol?"https:":"http:",u="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?i("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+s+"//"+u+"%3E%3C/script%3E"))),n()}(function(){var e,n="mCustomScrollbar",i="mCS",r=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},u=window.attachEvent&&!window.addEventListener?1:0,l=!1,c=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(e){var e=t.extend(!0,{},o,e),n=f.call(this);if(e.live){var u=e.liveSelector||this.selector||r,l=t(u);if("off"===e.live)return void d(u);s[u]=setTimeout(function(){l.mCustomScrollbar(e),"once"===e.live&&l.length&&d(u)},500)}else d(u);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":v(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=m(e.scrollButtons.scrollType),p(e),t(n).each(function(){var n=t(this);if(!n.data(i)){n.data(i,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var r=n.data(i),o=r.opt,s=n.data("mcs-axis"),u=n.data("mcs-scrollbar-position"),l=n.data("mcs-theme");s&&(o.axis=s),u&&(o.scrollbarPosition=u),l&&(o.theme=l,p(o)),g.call(this),r&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),t("#mCSB_"+r.idx+"_container img:not(."+c[2]+")").addClass(c[2]),h.update.call(null,n)}})},update:function(e,n){var r=e||f.call(this);return t(r).each(function(){var e=t(this);if(e.data(i)){var r=e.data(i),o=r.opt,a=t("#mCSB_"+r.idx+"_container"),s=t("#mCSB_"+r.idx),u=[t("#mCSB_"+r.idx+"_dragger_vertical"),t("#mCSB_"+r.idx+"_dragger_horizontal")];if(!a.length)return;r.tweenRunning&&Y(e),n&&r&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(c[3])&&e.removeClass(c[3]),e.hasClass(c[4])&&e.removeClass(c[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),y.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||a.css("width",_(a)),r.overflowed=S.call(this),I.call(this),o.autoDraggerLength&&w.call(this),T.call(this),x.call(this);var l=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==o.axis&&(r.overflowed[0]?u[0].height()>u[0].parent().height()?C.call(this):(G(e,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),r.contentReset.y=null):(C.call(this),"y"===o.axis?P.call(this):"yx"===o.axis&&r.overflowed[1]&&G(e,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(r.overflowed[1]?u[1].width()>u[1].parent().width()?C.call(this):(G(e,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),r.contentReset.x=null):(C.call(this),"x"===o.axis?P.call(this):"yx"===o.axis&&r.overflowed[0]&&G(e,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&r&&(2===n&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===n&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(e,n){if("undefined"!=typeof e&&null!=e){var r=f.call(this);return t(r).each(function(){var r=t(this);if(r.data(i)){var o=r.data(i),a=o.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=t.extend(!0,{},s,n),l=H.call(this,e),c=u.scrollInertia>0&&u.scrollInertia<17?17:u.scrollInertia;l[0]=z.call(this,l[0],"y"),l[1]=z.call(this,l[1],"x"),u.moveDragger&&(l[0]*=o.scrollRatio.y,l[1]*=o.scrollRatio.x),u.dur=re()?0:c,setTimeout(function(){null!==l[0]&&"undefined"!=typeof l[0]&&"x"!==a.axis&&o.overflowed[0]&&(u.dir="y",u.overwrite="all",G(r,l[0].toString(),u)),null!==l[1]&&"undefined"!=typeof l[1]&&"y"!==a.axis&&o.overflowed[1]&&(u.dir="x",u.overwrite="none",G(r,l[1].toString(),u))},u.timeout)}})}},stop:function(){var e=f.call(this);return t(e).each(function(){var e=t(this);e.data(i)&&Y(e)})},disable:function(e){var n=f.call(this);return t(n).each(function(){var n=t(this);n.data(i)&&(n.data(i),X.call(this,"remove"),P.call(this),e&&C.call(this),I.call(this,!0),n.addClass(c[3]))})},destroy:function(){var e=f.call(this);return t(e).each(function(){var r=t(this);if(r.data(i)){var o=r.data(i),a=o.opt,s=t("#mCSB_"+o.idx),u=t("#mCSB_"+o.idx+"_container"),l=t(".mCSB_"+o.idx+"_scrollbar");a.live&&d(a.liveSelector||t(e).selector),X.call(this,"remove"),P.call(this),C.call(this),r.removeData(i),Z(this,"mcs"),l.remove(),u.find("img."+c[2]).removeClass(c[2]),s.replaceWith(u.contents()),r.removeClass(n+" _"+i+"_"+o.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4])}})}},f=function(){return"object"!=typeof t(this)||t(this).length<1?r:this},p=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],i=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],r=["minimal","minimal-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,n)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,i)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,r)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,o)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,a)>-1?"outside":e.scrollbarPosition},d=function(e){s[e]&&(clearTimeout(s[e]),Z(s,e))},v=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},m=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},g=function(){var e=t(this),r=e.data(i),o=r.opt,a=o.autoExpandScrollbar?" "+c[1]+"_expand":"",s=["<div id='mCSB_"+r.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+c[12]+"'><div id='mCSB_"+r.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+r.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+r.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+c[12]+"'><div id='mCSB_"+r.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],u="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],h="yx"===o.axis?"<div id='mCSB_"+r.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=o.autoHideScrollbar?" "+c[6]:"",p="x"!==o.axis&&"rtl"===r.langDir?" "+c[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===r.langDir?"989999px":o.setLeft,e.addClass(n+" _"+i+"_"+r.idx+f+p).wrapInner("<div id='mCSB_"+r.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+u+"'><div id='mCSB_"+r.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir='"+r.langDir+"' /></div>");var d=t("#mCSB_"+r.idx),v=t("#mCSB_"+r.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||v.css("width",_(v)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),d.addClass("mCSB_outside").after(l)):(d.addClass("mCSB_inside").append(l),v.wrap(h)),b.call(this);var m=[t("#mCSB_"+r.idx+"_dragger_vertical"),t("#mCSB_"+r.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},_=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],i=e.parent().width();return n[0]>i?n[0]:n[1]>i?n[1]:"100%"},y=function(){var e=t(this),n=e.data(i),r=n.opt,o=t("#mCSB_"+n.idx+"_container");if(r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(o[0].scrollWidth);3===r.advanced.autoExpandHorizontalScroll||2!==r.advanced.autoExpandHorizontalScroll&&a>o.parent().width()?o.css({width:a,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var e=t(this),n=e.data(i),r=n.opt,o=t(".mCSB_"+n.idx+"_scrollbar:first"),a=ne(r.scrollButtons.tabindex)?"tabindex='"+r.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+c[13]+"' "+a+" />","<a href='#' class='"+c[14]+"' "+a+" />","<a href='#' class='"+c[15]+"' "+a+" />","<a href='#' class='"+c[16]+"' "+a+" />"],u=["x"===r.axis?s[2]:s[0],"x"===r.axis?s[3]:s[1],s[2],s[3]];r.scrollButtons.enable&&o.prepend(u[0]).append(u[1]).next(".mCSB_scrollTools").prepend(u[2]).append(u[3])},w=function(){var e=t(this),n=e.data(i),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.height()/o.outerHeight(!1),r.width()/o.outerWidth(!1)],l=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],c=u&&l[1]<l[0]?l[0]:l[1],h=u&&l[3]<l[2]?l[2]:l[3];a[0].css({height:c,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"}),a[1].css({width:h,"max-width":a[1].parent().width()-10})},T=function(){var e=t(this),n=e.data(i),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),a=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-r.height(),o.outerWidth(!1)-r.width()],u=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:u[0],x:u[1]}},E=function(e,t,n){var i=n?c[0]+"_expanded":"",r=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(c[0]+" "+i),r.toggleClass(c[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(c[0]),r.removeClass(c[1])):(e.addClass(c[0]),r.addClass(c[1])))},S=function(){var e=t(this),n=e.data(i),r=t("#mCSB_"+n.idx),o=t("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?o.height():o.outerHeight(!1),s=null==n.overflowed?o.width():o.outerWidth(!1),u=o[0].scrollHeight,l=o[0].scrollWidth;return u>a&&(a=u),l>s&&(s=l),[a>r.height(),s>r.width()]},C=function(){var e=t(this),n=e.data(i),r=n.opt,o=t("#mCSB_"+n.idx),a=t("#mCSB_"+n.idx+"_container"),s=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(e),("x"!==r.axis&&!n.overflowed[0]||"y"===r.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),G(e,"_resetY")),"y"!==r.axis&&!n.overflowed[1]||"x"===r.axis&&n.overflowed[1]){var u=dx=0;"rtl"===n.langDir&&(u=o.width()-a.outerWidth(!1),dx=Math.abs(u/n.scrollRatio.x)),a.css("left",u),s[1].css("left",dx),G(e,"_resetX")}},x=function(){function e(){a=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(a),k.call(n[0])):e()},100)}var n=t(this),r=n.data(i),o=r.opt;if(!r.bindEvents){if(O.call(this),o.contentTouchScroll&&A.call(this),R.call(this),o.mouseWheel.enable){var a;e()}j.call(this),B.call(this),o.advanced.autoScrollOnFocus&&U.call(this),o.scrollButtons.enable&&W.call(this),o.keyboard.enable&&V.call(this),r.bindEvents=!0}},P=function(){var e=t(this),n=e.data(i),r=n.opt,o=i+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+c[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),u=t("#mCSB_"+n.idx+"_container");r.advanced.releaseDraggableSelectors&&s.add(t(r.advanced.releaseDraggableSelectors)),r.advanced.extraDraggableSelectors&&s.add(t(r.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!L()||top.document)).unbind("."+o),s.each(function(){t(this).unbind("."+o)}),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),Z(n.sequential,"step"),clearTimeout(u[0].onCompleteTimeout),Z(u[0],"onCompleteTimeout"),n.bindEvents=!1)},I=function(e){var n=t(this),r=n.data(i),o=r.opt,a=t("#mCSB_"+r.idx+"_container_wrapper"),s=a.length?a:t("#mCSB_"+r.idx+"_container"),u=[t("#mCSB_"+r.idx+"_scrollbar_vertical"),t("#mCSB_"+r.idx+"_scrollbar_horizontal")],l=[u[0].find(".mCSB_dragger"),u[1].find(".mCSB_dragger")];"x"!==o.axis&&(r.overflowed[0]&&!e?(u[0].add(l[0]).add(u[0].children("a")).css("display","block"),s.removeClass(c[8]+" "+c[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&l[0].css("display","none"),s.removeClass(c[10])):(u[0].css("display","none"),s.addClass(c[10])),s.addClass(c[8]))),"y"!==o.axis&&(r.overflowed[1]&&!e?(u[1].add(l[1]).add(u[1].children("a")).css("display","block"),s.removeClass(c[9]+" "+c[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&l[1].css("display","none"),s.removeClass(c[11])):(u[1].css("display","none"),s.addClass(c[11])),s.addClass(c[9]))),r.overflowed[0]||r.overflowed[1]?n.removeClass(c[5]):n.addClass(c[5])},N=function(e){var n=e.type,i=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,r=L()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[e.originalEvent.pageY-i[0]+r[0],e.originalEvent.pageX-i[1]+r[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return i?[e.pageY-i[0]+r[0],e.pageX-i[1]+r[1],!1]:[e.pageY,e.pageX,!1]}},O=function(){function e(e,t,i,r){if(p[0].idleTimer=c.scrollInertia<233?250:0,n.attr("id")===f[1])var o="x",u=(n[0].offsetLeft-t+r)*s.scrollRatio.x;else var o="y",u=(n[0].offsetTop-e+i)*s.scrollRatio.y;G(a,u.toString(),{dir:o,drag:!0})}var n,r,o,a=t(this),s=a.data(i),c=s.opt,h=i+"_"+s.idx,f=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],p=t("#mCSB_"+s.idx+"_container"),d=t("#"+f[0]+",#"+f[1]),v=c.advanced.releaseDraggableSelectors?d.add(t(c.advanced.releaseDraggableSelectors)):d,m=c.advanced.extraDraggableSelectors?t(!L()||top.document).add(t(c.advanced.extraDraggableSelectors)):t(!L()||top.document);d.bind("contextmenu."+h,function(e){e.preventDefault()}).bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(e){if(e.stopImmediatePropagation(),e.preventDefault(),ee(e)){l=!0,u&&(document.onselectstart=function(){return!1}),M.call(p,!1),Y(a),n=t(this);var i=n.offset(),s=N(e)[0]-i.top,h=N(e)[1]-i.left,f=n.height()+i.top,d=n.width()+i.left;f>s&&s>0&&d>h&&h>0&&(r=s,o=h),E(n,"active",c.autoExpandScrollbar)}}).bind("touchmove."+h,function(t){t.stopImmediatePropagation(),t.preventDefault();var i=n.offset(),a=N(t)[0]-i.top,s=N(t)[1]-i.left;e(r,o,a,s)}),t(document).add(m).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(t){if(n){var i=n.offset(),a=N(t)[0]-i.top,s=N(t)[1]-i.left;if(r===a&&o===s)return;e(r,o,a,s)}}).add(v).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(){n&&(E(n,"active",c.autoExpandScrollbar),n=null),l=!1,u&&(document.onselectstart=null),M.call(p,!0)})},A=function(){function n(t){if(!te(t)||l||N(t)[2])return void(e=0);e=1,T=0,E=0,c=1,S.removeClass("mCS_touch_action");var n=O.offset();h=N(t)[0]-n.top,f=N(t)[1]-n.left,F=[N(t)[0],N(t)[1]]}function r(e){if(te(e)&&!l&&!N(e)[2]&&(x.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!E||T)&&c)){m=$();var t=I.offset(),n=N(e)[0]-t.top,i=N(e)[1]-t.left,r="mcsLinearOut";if(R.push(n),k.push(i),F[2]=Math.abs(N(e)[0]-F[0]),F[3]=Math.abs(N(e)[1]-F[1]),C.overflowed[0])var o=A[0].parent().height()-A[0].height(),a=h-n>0&&n-h>-(o*C.scrollRatio.y)&&(2*F[3]<F[2]||"yx"===x.axis);if(C.overflowed[1])var s=A[1].parent().width()-A[1].width(),p=f-i>0&&i-f>-(s*C.scrollRatio.x)&&(2*F[2]<F[3]||"yx"===x.axis);a||p?(B||e.preventDefault(),T=1):(E=1,S.addClass("mCS_touch_action")),B&&e.preventDefault(),b="yx"===x.axis?[h-n,f-i]:"x"===x.axis?[null,f-i]:[h-n,null],O[0].idleTimer=250,C.overflowed[0]&&u(b[0],D,r,"y","all",!0),C.overflowed[1]&&u(b[1],D,r,"x",M,!0)}}function o(t){if(!te(t)||l||N(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),Y(S),v=$();var n=I.offset();p=N(t)[0]-n.top,d=N(t)[1]-n.left,R=[],k=[]}function a(e){if(te(e)&&!l&&!N(e)[2]){c=0,e.stopImmediatePropagation(),T=0,E=0,g=$();var t=I.offset(),n=N(e)[0]-t.top,i=N(e)[1]-t.left;if(!(g-m>30)){y=1e3/(g-v);var r="mcsEaseOut",o=2.5>y,a=o?[R[R.length-2],k[k.length-2]]:[0,0];_=o?[n-a[0],i-a[1]]:[n-p,i-d];var h=[Math.abs(_[0]),Math.abs(_[1])];y=o?[Math.abs(_[0]/4),Math.abs(_[1]/4)]:[y,y];var f=[Math.abs(O[0].offsetTop)-_[0]*s(h[0]/y[0],y[0]),Math.abs(O[0].offsetLeft)-_[1]*s(h[1]/y[1],y[1])];b="yx"===x.axis?[f[0],f[1]]:"x"===x.axis?[null,f[1]]:[f[0],null],w=[4*h[0]+x.scrollInertia,4*h[1]+x.scrollInertia];var S=parseInt(x.contentTouchScroll)||0;b[0]=h[0]>S?b[0]:0,b[1]=h[1]>S?b[1]:0,C.overflowed[0]&&u(b[0],w[0],r,"y",M,!1),C.overflowed[1]&&u(b[1],w[1],r,"x",M,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function u(e,t,n,i,r,o){e&&G(S,e.toString(),{dur:t,scrollEasing:n,dir:i,overwrite:r,drag:o})}var c,h,f,p,d,v,m,g,_,y,b,w,T,E,S=t(this),C=S.data(i),x=C.opt,P=i+"_"+C.idx,I=t("#mCSB_"+C.idx),O=t("#mCSB_"+C.idx+"_container"),A=[t("#mCSB_"+C.idx+"_dragger_vertical"),t("#mCSB_"+C.idx+"_dragger_horizontal")],R=[],k=[],D=0,M="yx"===x.axis?"none":"all",F=[],j=O.find("iframe"),U=["touchstart."+P+" pointerdown."+P+" MSPointerDown."+P,"touchmove."+P+" pointermove."+P+" MSPointerMove."+P,"touchend."+P+" pointerup."+P+" MSPointerUp."+P],B=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;O.bind(U[0],function(e){n(e)}).bind(U[1],function(e){r(e)}),I.bind(U[0],function(e){o(e)}).bind(U[2],function(e){a(e)}),j.length&&j.each(function(){t(this).bind("load",function(){L(this)&&t(this.contentDocument||this.contentWindow.document).bind(U[0],function(e){n(e),o(e)}).bind(U[1],function(e){r(e)}).bind(U[2],function(e){a(e)})})})},R=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function r(e,t,n){c.type=n&&o?"stepped":"stepless",c.scrollAmount=10,q(a,e,t,"mcsLinearOut",n?60:null)}var o,a=t(this),s=a.data(i),u=s.opt,c=s.sequential,h=i+"_"+s.idx,f=t("#mCSB_"+s.idx+"_container"),p=f.parent();f.bind("mousedown."+h,function(){e||o||(o=1,l=!0)}).add(document).bind("mousemove."+h,function(t){if(!e&&o&&n()){var i=f.offset(),a=N(t)[0]-i.top+f[0].offsetTop,l=N(t)[1]-i.left+f[0].offsetLeft;a>0&&a<p.height()&&l>0&&l<p.width()?c.step&&r("off",null,"stepped"):("x"!==u.axis&&s.overflowed[0]&&(0>a?r("on",38):a>p.height()&&r("on",40)),"y"!==u.axis&&s.overflowed[1]&&(0>l?r("on",37):l>p.width()&&r("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(){e||(o&&(o=0,r("off",null)),l=!1)})},k=function(){function e(e,i){if(Y(n),!F(n,e.target)){var a="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):u&&e.deltaFactor<100?100:e.deltaFactor||100,c=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var h="x",f=[Math.round(a*r.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],p="auto"!==o.mouseWheel.scrollAmount?f[1]:f[0]>=s.width()?.9*s.width():f[0],d=Math.abs(t("#mCSB_"+r.idx+"_container")[0].offsetLeft),v=l[1][0].offsetLeft,m=l[1].parent().width()-l[1].width(),g="y"===o.mouseWheel.axis?e.deltaY||i:e.deltaX;else var h="y",f=[Math.round(a*r.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],p="auto"!==o.mouseWheel.scrollAmount?f[1]:f[0]>=s.height()?.9*s.height():f[0],d=Math.abs(t("#mCSB_"+r.idx+"_container")[0].offsetTop),v=l[0][0].offsetTop,m=l[0].parent().height()-l[0].height(),g=e.deltaY||i;"y"===h&&!r.overflowed[0]||"x"===h&&!r.overflowed[1]||((o.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(g=-g),o.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==v||0>g&&v!==m||o.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(p=e.deltaFactor,c=17),G(n,(d-g*p).toString(),{dir:h,dur:c}))}}if(t(this).data(i)){var n=t(this),r=n.data(i),o=r.opt,a=i+"_"+r.idx,s=t("#mCSB_"+r.idx),l=[t("#mCSB_"+r.idx+"_dragger_vertical"),t("#mCSB_"+r.idx+"_dragger_horizontal")],c=t("#mCSB_"+r.idx+"_container").find("iframe");c.length&&c.each(function(){t(this).bind("load",function(){L(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,n){e(t,n)})})}),s.bind("mousewheel."+a,function(t,n){e(t,n)})}},D=new Object,L=function(e){var n=!1,i=!1,r=null;if(void 0===e?i="#empty":void 0!==t(e).attr("id")&&(i=t(e).attr("id")),i!==!1&&void 0!==D[i])return D[i];if(e){try{var o=e.contentDocument||e.contentWindow.document;r=o.body.innerHTML}catch(e){}n=null!==r}else{try{var o=top.document;r=o.body.innerHTML}catch(e){}n=null!==r}return i!==!1&&(D[i]=n),n},M=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},F=function(e,n){var r=n.nodeName.toLowerCase(),o=e.data(i).opt.mouseWheel.disableOver,a=["select","textarea"];return t.inArray(r,o)>-1&&!(t.inArray(r,a)>-1&&!t(n).is(":focus"))},j=function(){var e,n=t(this),r=n.data(i),o=i+"_"+r.idx,a=t("#mCSB_"+r.idx+"_container"),s=a.parent(),u=t(".mCSB_"+r.idx+"_scrollbar ."+c[12]);u.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(n){l=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(){l=!1}).bind("click."+o,function(i){if(e&&(e=0,t(i.target).hasClass(c[12])||t(i.target).hasClass("mCSB_draggerRail"))){Y(n);var o=t(this),u=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!r.overflowed[1])return;var l="x",h=i.pageX>u.offset().left?-1:1,f=Math.abs(a[0].offsetLeft)-h*(.9*s.width())}else{if(!r.overflowed[0])return;var l="y",h=i.pageY>u.offset().top?-1:1,f=Math.abs(a[0].offsetTop)-h*(.9*s.height())}G(n,f.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}})},U=function(){var e=t(this),n=e.data(i),r=n.opt,o=i+"_"+n.idx,a=t("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+o,function(){var n=t(document.activeElement),i=a.find(".mCustomScrollBox").length,o=0;n.is(r.advanced.autoScrollOnFocus)&&(Y(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=i?(o+17)*i:0,e[0]._focusTimeout=setTimeout(function(){var t=[ie(n)[0],ie(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],u=[i[0]+t[0]>=0&&i[0]+t[0]<s.height()-n.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<s.width()-n.outerWidth(!1)],l="yx"!==r.axis||u[0]||u[1]?"all":"none";"x"===r.axis||u[0]||G(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:o}),"y"===r.axis||u[1]||G(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:o})},e[0]._focusTimer))})},B=function(){var e=t(this),n=e.data(i),r=i+"_"+n.idx,o=t("#mCSB_"+n.idx+"_container").parent();o.bind("scroll."+r,function(){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},W=function(){var e=t(this),n=e.data(i),r=n.opt,o=n.sequential,a=i+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",u=t(s+">a");u.bind("contextmenu."+a,function(e){e.preventDefault()}).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(i){function a(t,n){o.scrollAmount=r.scrollButtons.scrollAmount,q(e,t,n)}if(i.preventDefault(),ee(i)){var s=t(this).attr("class");switch(o.type=r.scrollButtons.scrollType,i.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;l=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;l=!1,o.dir&&a("off",s);break;case"click":if("stepped"!==o.type||n.tweenRunning)return;a("on",s)}}})},V=function(){function e(e){function i(e,t){a.type=o.keyboard.scrollType,a.scrollAmount=o.keyboard.scrollAmount,"stepped"===a.type&&r.tweenRunning||q(n,e,t)}switch(e.type){case"blur":r.tweenRunning&&a.dir&&i("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,u="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!r.overflowed[0]||(37===s||39===s)&&!r.overflowed[1])return;"keyup"===e.type&&(u="off"),t(document.activeElement).is(h)||(e.preventDefault(),e.stopImmediatePropagation(),i(u,s))}else if(33===s||34===s){if((r.overflowed[0]||r.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){Y(n);var f=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&r.overflowed[1]&&!r.overflowed[0])var p="x",d=Math.abs(l[0].offsetLeft)-f*(.9*c.width());else var p="y",d=Math.abs(l[0].offsetTop)-f*(.9*c.height());G(n,d.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!t(document.activeElement).is(h)&&((r.overflowed[0]||r.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===o.axis||"yx"===o.axis&&r.overflowed[1]&&!r.overflowed[0])var p="x",d=35===s?Math.abs(c.width()-l.outerWidth(!1)):0;else var p="y",d=35===s?Math.abs(c.height()-l.outerHeight(!1)):0;G(n,d.toString(),{dir:p,scrollEasing:"mcsEaseInOut"})}}}var n=t(this),r=n.data(i),o=r.opt,a=r.sequential,s=i+"_"+r.idx,u=t("#mCSB_"+r.idx),l=t("#mCSB_"+r.idx+"_container"),c=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",f=l.find("iframe"),p=["blur."+s+" keydown."+s+" keyup."+s];f.length&&f.each(function(){t(this).bind("load",function(){L(this)&&t(this.contentDocument||this.contentWindow.document).bind(p[0],function(t){e(t)})})}),u.attr("tabindex","0").bind(p[0],function(t){e(t)})},q=function(e,n,r,o,a){function s(t){h.snapAmount&&(f.scrollAmount=h.snapAmount instanceof Array?"x"===f.dir[0]?h.snapAmount[1]:h.snapAmount[0]:h.snapAmount);var n="stepped"!==f.type,i=a?a:t?n?v/1.5:m:1e3/60,r=t?n?7.5:40:2.5,u=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],c=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],d="x"===f.dir[0]?u[1]+f.dir[1]*(c[1]*r):u[0]+f.dir[1]*(c[0]*r),g="x"===f.dir[0]?u[1]+f.dir[1]*parseInt(f.scrollAmount):u[0]+f.dir[1]*parseInt(f.scrollAmount),_="auto"!==f.scrollAmount?g:d,y=o?o:t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",b=!!t;return t&&17>i&&(_="x"===f.dir[0]?u[1]:u[0]),G(e,_.toString(),{dir:f.dir[0],scrollEasing:y,dur:i,onComplete:b}),t?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){s()},i)))}function u(){clearTimeout(f.step),Z(f,"step"),Y(e)}var l=e.data(i),h=l.opt,f=l.sequential,p=t("#mCSB_"+l.idx+"_container"),d="stepped"===f.type,v=h.scrollInertia<26?26:h.scrollInertia,m=h.scrollInertia<1?17:h.scrollInertia;switch(n){case"on":if(f.dir=[r===c[16]||r===c[15]||39===r||37===r?"x":"y",r===c[13]||r===c[15]||38===r||37===r?-1:1],Y(e),ne(r)&&"stepped"===f.type)return;s(d);break;case"off":u(),(d||l.tweenRunning&&f.dir)&&s(!0)}},H=function(e){var n=t(this).data(i).opt,r=[];return"function"==typeof e&&(e=e()),e instanceof Array?r=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(r[0]=e.y?e.y:e.x||"x"===n.axis?null:e,r[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},z=function(e,n){if(null!=e&&"undefined"!=typeof e){var r=t(this),o=r.data(i),a=o.opt,s=t("#mCSB_"+o.idx+"_container"),u=s.parent(),l=typeof e;n||(n="x"===a.axis?"x":"y");var c="x"===n?s.outerWidth(!1)-u.width():s.outerHeight(!1)-u.height(),f="x"===n?s[0].offsetLeft:s[0].offsetTop,p="x"===n?"left":"top";switch(l){case"function":return e();case"object":var d=e.jquery?e:t(e);if(!d.length)return;return"x"===n?ie(d)[1]:ie(d)[0];case"string":case"number":if(ne(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(c*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(f-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var v=f+parseInt(e.split("+=")[1]);return v>=0?0:Math.abs(v)}if(-1!==e.indexOf("px")&&ne(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;
if("bottom"===e)return Math.abs(u.height()-s.outerHeight(!1));if("right"===e)return Math.abs(u.width()-s.outerWidth(!1));if("first"===e||"last"===e){var d=s.find(":"+e);return"x"===n?ie(d)[1]:ie(d)[0]}return t(e).length?"x"===n?ie(t(e))[1]:ie(t(e))[0]:(s.css(p,e),void h.update.call(null,r[0]))}}},X=function(e){function n(){return clearTimeout(f[0].autoUpdate),0===s.parents("html").length?void(s=null):void(f[0].autoUpdate=setTimeout(function(){return l.advanced.updateOnSelectorChange&&(u.poll.change.n=o(),u.poll.change.n!==u.poll.change.o)?(u.poll.change.o=u.poll.change.n,void a(3)):l.advanced.updateOnContentResize&&(u.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+f[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,u.poll.size.n!==u.poll.size.o)?(u.poll.size.o=u.poll.size.n,void a(1)):!l.advanced.updateOnImageLoad||"auto"===l.advanced.updateOnImageLoad&&"y"===l.axis||(u.poll.img.n=f.find("img").length,u.poll.img.n===u.poll.img.o)?void((l.advanced.updateOnSelectorChange||l.advanced.updateOnContentResize||l.advanced.updateOnImageLoad)&&n()):(u.poll.img.o=u.poll.img.n,void f.find("img").each(function(){r(this)}))},l.advanced.autoUpdateTimeout))}function r(e){function n(e,t){return function(){return t.apply(e,arguments)}}function i(){this.onload=null,t(e).addClass(c[2]),a(2)}if(t(e).hasClass(c[2]))return void a();var r=new Image;r.onload=n(r,i),r.src=e.src}function o(){l.advanced.updateOnSelectorChange===!0&&(l.advanced.updateOnSelectorChange="*");var e=0,t=f.find(l.advanced.updateOnSelectorChange);return l.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function a(e){clearTimeout(f[0].autoUpdate),h.update.call(null,s[0],e)}var s=t(this),u=s.data(i),l=u.opt,f=t("#mCSB_"+u.idx+"_container");return e?(clearTimeout(f[0].autoUpdate),void Z(f[0],"autoUpdate")):void n()},K=function(e,t,n){return Math.round(e/t)*t-n},Y=function(e){var n=e.data(i),r=t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");r.each(function(){J.call(this)})},G=function(e,n,r){function o(e){return u&&l.callbacks[e]&&"function"==typeof l.callbacks[e]}function a(){return[l.callbacks.alwaysTriggerOffsets||b>=w[0]+S,l.callbacks.alwaysTriggerOffsets||-C>=b]}function s(){var t=[p[0].offsetTop,p[0].offsetLeft],n=[_[0].offsetTop,_[0].offsetLeft],i=[p.outerHeight(!1),p.outerWidth(!1)],o=[f.height(),f.width()];e[0].mcs={content:p,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-o[1])),direction:r.dir}}var u=e.data(i),l=u.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:l.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=t.extend(c,r),h=[r.dur,r.drag?0:r.dur],f=t("#mCSB_"+u.idx),p=t("#mCSB_"+u.idx+"_container"),d=p.parent(),v=l.callbacks.onTotalScrollOffset?H.call(e,l.callbacks.onTotalScrollOffset):[0,0],m=l.callbacks.onTotalScrollBackOffset?H.call(e,l.callbacks.onTotalScrollBackOffset):[0,0];if(u.trigger=r.trigger,0===d.scrollTop()&&0===d.scrollLeft()||(t(".mCSB_"+u.idx+"_scrollbar").css("visibility","visible"),d.scrollTop(0).scrollLeft(0)),"_resetY"!==n||u.contentReset.y||(o("onOverflowYNone")&&l.callbacks.onOverflowYNone.call(e[0]),u.contentReset.y=1),"_resetX"!==n||u.contentReset.x||(o("onOverflowXNone")&&l.callbacks.onOverflowXNone.call(e[0]),u.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!u.contentReset.y&&e[0].mcs||!u.overflowed[0]||(o("onOverflowY")&&l.callbacks.onOverflowY.call(e[0]),u.contentReset.x=null),!u.contentReset.x&&e[0].mcs||!u.overflowed[1]||(o("onOverflowX")&&l.callbacks.onOverflowX.call(e[0]),u.contentReset.x=null),l.snapAmount){var g=l.snapAmount instanceof Array?"x"===r.dir?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount;n=K(n,g,l.snapOffset)}switch(r.dir){case"x":var _=t("#mCSB_"+u.idx+"_dragger_horizontal"),y="left",b=p[0].offsetLeft,w=[f.width()-p.outerWidth(!1),_.parent().width()-_.width()],T=[n,0===n?0:n/u.scrollRatio.x],S=v[1],C=m[1],x=S>0?S/u.scrollRatio.x:0,P=C>0?C/u.scrollRatio.x:0;break;case"y":var _=t("#mCSB_"+u.idx+"_dragger_vertical"),y="top",b=p[0].offsetTop,w=[f.height()-p.outerHeight(!1),_.parent().height()-_.height()],T=[n,0===n?0:n/u.scrollRatio.y],S=v[0],C=m[0],x=S>0?S/u.scrollRatio.y:0,P=C>0?C/u.scrollRatio.y:0}T[1]<0||0===T[0]&&0===T[1]?T=[0,0]:T[1]>=w[1]?T=[w[0],w[1]]:T[0]=-T[0],e[0].mcs||(s(),o("onInit")&&l.callbacks.onInit.call(e[0])),clearTimeout(p[0].onCompleteTimeout),Q(_[0],y,Math.round(T[1]),h[1],r.scrollEasing),!u.tweenRunning&&(0===b&&T[0]>=0||b===w[0]&&T[0]<=w[0])||Q(p[0],y,Math.round(T[0]),h[0],r.scrollEasing,r.overwrite,{onStart:function(){r.callbacks&&r.onStart&&!u.tweenRunning&&(o("onScrollStart")&&(s(),l.callbacks.onScrollStart.call(e[0])),u.tweenRunning=!0,E(_),u.cbOffsets=a())},onUpdate:function(){r.callbacks&&r.onUpdate&&o("whileScrolling")&&(s(),l.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(r.callbacks&&r.onComplete){"yx"===l.axis&&clearTimeout(p[0].onCompleteTimeout);var t=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(s(),l.callbacks.onScroll.call(e[0])),o("onTotalScroll")&&T[1]>=w[1]-x&&u.cbOffsets[0]&&(s(),l.callbacks.onTotalScroll.call(e[0])),o("onTotalScrollBack")&&T[1]<=P&&u.cbOffsets[1]&&(s(),l.callbacks.onTotalScrollBack.call(e[0])),u.tweenRunning=!1,p[0].idleTimer=0,E(_,"hide")},t)}}})}},Q=function(e,t,n,i,r,o,a){function s(){w.stop||(_||d.call(),_=$()-g,u(),_>=w.time&&(w.time=_>w.time?_+f-(_-w.time):_+f-1,w.time<_+1&&(w.time=_+1)),w.time<i?w.id=p(s):m.call())}function u(){i>0?(w.currVal=h(w.time,y,T,i,r),b[t]=Math.round(w.currVal)+"px"):b[t]=n+"px",v.call()}function l(){f=1e3/60,w.time=_+f,p=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return u(),setTimeout(e,.01)},w.id=p(s)}function c(){null!=w.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function h(e,t,n,i,r){switch(r){case"linear":case"mcsLinear":return n*e/i+t;case"mcsLinearOut":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=i/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=i/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=i/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=i,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/i)+1)+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=i)*e,a=o*e;return t+n*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,p,a=a||{},d=a.onStart||function(){},v=a.onUpdate||function(){},m=a.onComplete||function(){},g=$(),_=0,y=e.offsetTop,b=e.style,w=e._mTween[t];"left"===t&&(y=e.offsetLeft);var T=n-y;w.stop=0,"none"!==o&&c(),l()},$=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var i=t[n];e._mTween[i].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},Z=function(e,t){try{delete e[t]}catch(n){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},re=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};t.fn[n]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[n]=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):h.init.apply(this,arguments)},t[n].defaults=o,window[n]=!0,t(window).bind("load",function(){t(r)[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,i,r=t(e),o=r.parents(".mCSB_container");if(o.length)return n=o.parent(),i=[o[0].offsetTop,o[0].offsetLeft],i[0]+ie(r)[0]>=0&&i[0]+ie(r)[0]<n.height()-r.outerHeight(!1)&&i[1]+ie(r)[1]>=0&&i[1]+ie(r)[1]<n.width()-r.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,i){var r,o,a,s,u=t(e),l=u.parents(".mCSB_container"),c="exact"===i[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return r=[u.outerHeight(!1),u.outerWidth(!1)],a=[l[0].offsetTop+ie(u)[0],l[0].offsetLeft+ie(u)[1]],o=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],s=[r[0]<o[0]?c[0]:c[1],r[1]<o[1]?c[0]:c[1]],a[0]-o[0]*s[0][0]<0&&a[0]+r[0]-o[0]*s[0][1]>=0&&a[1]-o[1]*s[1][0]<0&&a[1]+r[1]-o[1]*s[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(i);if(n)return n.overflowed[0]||n.overflowed[1]}})})})}),o("undefined"!=typeof mCustomScrollbar?mCustomScrollbar:window.mCustomScrollbar)}).call(n,void 0,void 0,void 0,void 0,function(e){t.exports=e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){m&&d&&(m=!1,d.length?v=d.concat(v):g=-1,v.length&&u())}function u(){if(!m){var e=o(s);m=!0;for(var t=v.length;t;){for(d=v,v=[];++g<t;)d&&d[g].run();g=-1,t=v.length}d=null,m=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var h,f,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(e){h=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,v=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new l(e,t)),1!==v.length||m||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],176:[function(e,t,n){"use strict";function i(){}function r(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,i)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void h(r(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var f=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new c(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(e,t)},n)}r[e]=a,0===--o&&t(r)}catch(e){n(e)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,a=0;a<r.length;a++)i(a,r[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){f(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=o},{}],177:[function(e,t,n){!function(e,i){"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define("scrollMonitor",[],i):"object"==typeof n?n.scrollMonitor=i():e.scrollMonitor=i()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),r=i.isInBrowser,o=n(2),a=new o(r?document.body:null);a.setStateFromDOM(null),a.listenToDOM(),r&&(window.scrollMonitor=a),e.exports=a},function(e,t){"use strict";t.VISIBILITYCHANGE="visibilityChange",t.ENTERVIEWPORT="enterViewport",t.FULLYENTERVIEWPORT="fullyEnterViewport",t.EXITVIEWPORT="exitViewport",t.PARTIALLYEXITVIEWPORT="partiallyExitViewport",t.LOCATIONCHANGE="locationChange",t.STATECHANGE="stateChange",t.eventTypes=[t.VISIBILITYCHANGE,t.ENTERVIEWPORT,t.FULLYENTERVIEWPORT,t.EXITVIEWPORT,t.PARTIALLYEXITVIEWPORT,t.LOCATIONCHANGE,t.STATECHANGE],t.isOnServer="undefined"==typeof window,t.isInBrowser=!t.isOnServer,t.defaultOffsets={top:0,bottom:0}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return u?0:e===document.body?window.innerHeight||document.documentElement.clientHeight:e.clientHeight}function o(e){return u?0:e===document.body?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):e.scrollHeight}function a(e){return u?0:e===document.body?window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop}var s=n(1),u=s.isOnServer,l=s.isInBrowser,c=s.eventTypes,h=n(3),f=!1;if(l)try{var p=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,p)}catch(e){}var d=!!f&&{capture:!1,passive:!0},v=function(){function e(t,n){function s(){if(l.viewportTop=a(t),l.viewportBottom=l.viewportTop+l.viewportHeight,l.documentHeight=o(t),l.documentHeight!==h){for(f=l.watchers.length;f--;)l.watchers[f].recalculateLocation();h=l.documentHeight}}function u(){for(p=l.watchers.length;p--;)l.watchers[p].update();for(p=l.watchers.length;p--;)l.watchers[p].triggerCallbacks()}i(this,e);var l=this;this.item=t,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=o(t),this.viewportHeight=r(t),this.DOMListener=function(){e.prototype.DOMListener.apply(l,arguments)},this.eventTypes=c,n&&(this.containerWatcher=n.create(t));var h,f,p;this.update=function(){s(),u()},this.recalculateLocations=function(){this.documentHeight=0,this.update()}}return e.prototype.listenToDOM=function(){l&&(window.addEventListener?(this.item===document.body?window.addEventListener("scroll",this.DOMListener,d):this.item.addEventListener("scroll",this.DOMListener,d),window.addEventListener("resize",this.DOMListener)):(this.item===document.body?window.attachEvent("onscroll",this.DOMListener):this.item.attachEvent("onscroll",this.DOMListener),window.attachEvent("onresize",this.DOMListener)),this.destroy=function(){window.addEventListener?(this.item===document.body?(window.removeEventListener("scroll",this.DOMListener,d),this.containerWatcher.destroy()):this.item.removeEventListener("scroll",this.DOMListener,d),window.removeEventListener("resize",this.DOMListener)):(this.item===document.body?(window.detachEvent("onscroll",this.DOMListener),this.containerWatcher.destroy()):this.item.detachEvent("onscroll",this.DOMListener),window.detachEvent("onresize",this.DOMListener))})},e.prototype.destroy=function(){},e.prototype.DOMListener=function(e){this.setStateFromDOM(e)},e.prototype.setStateFromDOM=function(e){var t=a(this.item),n=r(this.item),i=o(this.item);this.setState(t,n,i,e)},e.prototype.setState=function(e,t,n,i){var r=t!==this.viewportHeight||n!==this.contentHeight;if(this.latestEvent=i,this.viewportTop=e,this.viewportHeight=t,this.viewportBottom=e+t,this.contentHeight=n,r)for(var o=this.watchers.length;o--;)this.watchers[o].recalculateLocation();this.updateAndTriggerWatchers(i)},e.prototype.updateAndTriggerWatchers=function(e){for(var t=this.watchers.length;t--;)this.watchers[t].update();for(t=this.watchers.length;t--;)this.watchers[t].triggerCallbacks(e)},e.prototype.createCustomContainer=function(){return new e},e.prototype.createContainer=function(t){"string"==typeof t?t=document.querySelector(t):t&&t.length>0&&(t=t[0]);var n=new e(t,this);return n.setStateFromDOM(),n.listenToDOM(),n},e.prototype.create=function(e,t){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var n=new h(this,e,t);return this.watchers.push(n),n},e.prototype.beget=function(e,t){return this.create(e,t)},e}();e.exports=v},function(e,t,n){"use strict";function i(e,t,n){function i(e,t){if(0!==e.length)for(b=e.length;b--;)w=e[b],w.callback.call(r,t,r),w.isOne&&e.splice(b,1)}var r=this;this.watchItem=t,this.container=e,n?n===+n?this.offsets={top:n,bottom:n}:this.offsets={top:n.top||p.top,bottom:n.bottom||p.bottom}:this.offsets=p,this.callbacks={};for(var d=0,v=f.length;d<v;d++)r.callbacks[f[d]]=[];this.locked=!1;var m,g,_,y,b,w;this.triggerCallbacks=function(e){switch(this.isInViewport&&!m&&i(this.callbacks[a],e),this.isFullyInViewport&&!g&&i(this.callbacks[s],e),this.isAboveViewport!==_&&this.isBelowViewport!==y&&(i(this.callbacks[o],e),g||this.isFullyInViewport||(i(this.callbacks[s],e),i(this.callbacks[l],e)),m||this.isInViewport||(i(this.callbacks[a],e),i(this.callbacks[u],e))),!this.isFullyInViewport&&g&&i(this.callbacks[l],e),!this.isInViewport&&m&&i(this.callbacks[u],e),this.isInViewport!==m&&i(this.callbacks[o],e),!0){case m!==this.isInViewport:case g!==this.isFullyInViewport:case _!==this.isAboveViewport:case y!==this.isBelowViewport:i(this.callbacks[h],e)}m=this.isInViewport,g=this.isFullyInViewport,_=this.isAboveViewport,y=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,t=this.bottom;if(this.watchItem.nodeName){var n=this.watchItem.style.display;"none"===n&&(this.watchItem.style.display="");for(var r=0,o=this.container;o.containerWatcher;)r+=o.containerWatcher.top-o.containerWatcher.container.viewportTop,o=o.containerWatcher.container;var a=this.watchItem.getBoundingClientRect();this.top=a.top+this.container.viewportTop-r,this.bottom=a.bottom+this.container.viewportTop-r,"none"===n&&(this.watchItem.style.display=n)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=this.container.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===t||this.top===e&&this.bottom===t||i(this.callbacks[c],null)}},this.recalculateLocation(),this.update(),m=this.isInViewport,g=this.isFullyInViewport,_=this.isAboveViewport,y=this.isBelowViewport}var r=n(1),o=r.VISIBILITYCHANGE,a=r.ENTERVIEWPORT,s=r.FULLYENTERVIEWPORT,u=r.EXITVIEWPORT,l=r.PARTIALLYEXITVIEWPORT,c=r.LOCATIONCHANGE,h=r.STATECHANGE,f=r.eventTypes,p=r.defaultOffsets;i.prototype={on:function(e,t,n){switch(!0){case e===o&&!this.isInViewport&&this.isAboveViewport:case e===a&&this.isInViewport:case e===s&&this.isFullyInViewport:case e===u&&this.isAboveViewport&&!this.isInViewport:case e===l&&this.isInViewport&&this.isAboveViewport:if(t.call(this,this.container.latestEvent,this),n)return}if(!this.callbacks[e])throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+f.join(", "));this.callbacks[e].push({callback:t,isOne:n||!1})},off:function(e,t){if(!this.callbacks[e])throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+f.join(", "));for(var n,i=0;n=this.callbacks[e][i];i++)if(n.callback===t){this.callbacks[e].splice(i,1);break}},one:function(e,t){this.on(e,t,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<this.container.viewportTop,this.isBelowViewport=this.bottom>this.container.viewportBottom,this.isInViewport=this.top<this.container.viewportBottom&&this.bottom>this.container.viewportTop,this.isFullyInViewport=this.top>=this.container.viewportTop&&this.bottom<=this.container.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=this.container.watchers.indexOf(this),t=this;this.container.watchers.splice(e,1);for(var n=0,i=f.length;n<i;n++)t.callbacks[f[n]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var d=function(e){return function(t,n){this.on.call(this,e,t,n)}},v=0,m=f.length;v<m;v++){var g=f[v];i.prototype[g]=d(g)}e.exports=i}])})},{}],178:[function(e,t,n){(function(e){var n,i,r,o,a,s,u,l,c,h,f,p,d,v,m,g,_,y,b;!function(n){function i(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,i){return e[n]=t?t(n,i):i}}var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){n(i(r,i(e)))}):n("object"==typeof t&&"object"==typeof t.exports?i(r,i(t.exports)):i(r))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};n=function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]]);return n},o=function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){return function(n,i){t(n,i,e)}},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})},l=function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},d=function(e){return this instanceof d?(this.v=e,this):new d(e)},v=function(e,t,n){function i(e){c[e]&&(l[e]=function(t){return new Promise(function(n,i){h.push([e,t,n,i])>1||r(e,t)})})}function r(e,t){try{o(c[e](t))}catch(e){u(h[0][3],e)}}function o(e){e.value instanceof d?Promise.resolve(e.value.v).then(a,s):u(h[0][2],e)}function a(e){r("next",e)}function s(e){r("throw",e)}function u(e,t){e(t),h.shift(),h.length&&r(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(e,t||[]),h=[];return l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l},m=function(e){function t(t,r){e[t]&&(n[t]=function(n){return(i=!i)?{value:d(e[t](n)),done:"return"===t}:r?r(n):n})}var n,i;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof h?h(e):e[Symbol.iterator]()},_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},b=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",n),e("__assign",i),e("__rest",r),e("__decorate",o),e("__param",a),e("__metadata",s),e("__awaiter",u),e("__generator",l),e("__exportStar",c),e("__values",h),e("__read",f),e("__spread",p),e("__await",d),e("__asyncGenerator",v),e("__asyncDelegator",m),e("__asyncValues",g),e("__makeTemplateObject",_),e("__importStar",y),e("__importDefault",b)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],179:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},r=function(){return Modernizr.mq("(max-width: 767px)")},o=function(){return Modernizr.mq("(min-width: 768px)")},a=function(){return Modernizr.mq("(min-width: 1024px)")},s=function(){return Modernizr.mq("(min-width: 1200px)")},u=function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1};jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(-Math.pow(2,-10*t/r)+1)+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n}});var l={duration:500,easing:"easeOutExpo",queue:!1};n.debounce=i,n.iOS=u,n.isMobile=r,n.isTablet=o,n.isDesktop=a,n.isLargeDesktop=s,n.easeOutExpo=l},{}],180:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.ripple=n.toaster=void 0;var r=e("scrollMonitor"),o=i(r),a=e("mCustomScrollbar"),s=(i(a),e("./_helper")),u=$("body"),l=$(window),c=(0,s.isMobile)();$.fn.materialize=function(){return this.each(function(){function e(){$(".material-select-wrapper").find(".material-label").removeClass("active"),TweenLite.to(".material-select-wrapper .card-wrapper",.25,{autoAlpha:0,scale:0,top:0,ease:Expo.easeIn}),l.off("resize scroll",(0,s.debounce)(e,250))}var t=$(this),n=$('<span class = "material-label"/>'),i=$('<span class = "icon icon-chevron-down"/>'),r=$('<div class = "material-select-wrapper js-material-drop"/>'),o=$('<div class = "material-select-wrapper native js-material-drop"/>'),a="";t.hasClass("native")?t.wrap(o):t.wrap(r),t.before(n).before(i).on("change",function(e){n.text(t.find(":selected").text())}),n.text(t.find(":selected").text()),a+='<div class="card-wrapper"><ul>',t.find("option").each(function(){var e=$(this);a+=e.is(":selected")?'<li class="active"><button>'+e.text()+"</button></li>":"<li><button>"+e.text()+"</button></li>"}),a+="</ul></div>",t.after(a),t.parent().on("click",".material-label",function(){var t=$(this),n=t.parent(),i=t.parent().find(".card-wrapper");if(n.hasClass("native")&&c)return!1;if(t.hasClass("active"))TweenLite.to(i,.25,{autoAlpha:0,scale:.75,ease:Expo.easeOut});else{var r=i.find(".active").index(),o=$(".material-select-wrapper .card-wrapper li").outerHeight()*r;TweenLite.to(i,.25,{autoAlpha:1,scale:1,top:-o,ease:Expo.easeOut})}t.toggleClass("active"),i.addClass("active").mCustomScrollbar("scrollTo",0),l.on("resize scroll",(0,s.debounce)(e,250))}).on("click","button",function(t){t.preventDefault();var n=$(this),i=n.parents(".card-wrapper"),r=n.parents(".material-select-wrapper"),o=n.parent(),a=o.index()+1,s=r.find("select option:nth-child("+a+")").val();return(!o.hasClass("native")||!c)&&(r.find(".active").removeClass("active"),o.addClass("active"),TweenLite.to(i,.25,{autoAlpha:0,scale:0,ease:Expo.easeIn}),r.find("select").val(s).trigger("change").end().find(".material-label").text(n.text()),void l.off("resize scroll",e,250))}),t.next().mCustomScrollbar({setTop:0,setHeight:250,theme:"minimal-dark",scrollbarPosition:"outside"}),u.on("click",function(t){var n=$(t.target),i=$(".material-select-wrapper"),r=$(".material-select-wrapper .card-wrapper");n.hasClass("material-select-wrapper")||n.parents(".material-select-wrapper").length||!i.find(".material-label").hasClass("active")||(i.find(".material-label").removeClass("active"),
r.removeClass("active"),TweenLite.to(r,.25,{autoAlpha:0,scale:0,top:0,ease:Expo.easeInOut}),l.off("resize scroll",(0,s.debounce)(e,250)))})})},$(function(){var e=$("button, .cta, .-btn");e.on("click",function(e){var t=$(this);t.hasClass("disabled")||d(e,t)}),$(".floating-input").each(function(){var e=$(this);e.wrap('<div class="floating"></div>').before('<span class="placeholder">'+e.attr("placeholder")+"</span>").attr("placeholder","").on("focus",function(){var e=$(this);e.parent().addClass("focus")}).on("blur",function(){var e=$(this);""===e.val()&&e.parent().removeClass("focus")}),void 0!==e.data("hint")&&""!==e.data("hint")&&e.after('<span class="hint"><strong>*Hint: </strong>'+e.data("hint")+"</span>"),$(".placeholder").on("click",function(){$(this).next().focus()})}),$(".progress").each(function(){var e=$(this),t=e.find(".progress-bar");void 0!==t.data("value")&&t.css({width:t.data("value")+"%"})}),$(".material").materialize();var t=$(".card");t.length&&(t.each(function(e,t){var n=$(t),i=o.default.create(t);i.enterViewport(function(){n.addClass("show",this.isInViewport),n.removeClass("up",this.isAboveViewport)}),i.exitViewport(function(){n.removeClass("show",this.isInViewport),n.toggleClass("up",this.isAboveViewport)})}),o.default.recalculateLocations()),l.on("resize",(0,s.debounce)(function(){c=(0,s.isMobile)()},250))});var h=0,f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Toaster message",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=doT.template($("#toaster-template").html()),r={ind:h,message:t};$(".toaster__wrap").length||$("#main").after('<div class="toaster__wrap" />'),$(".toaster__wrap").append(i(r));var e=".toaster"+h;TweenLite.to(e,.75,{opacity:1,scale:1,ease:Expo.easeOut}),0!==n&&TweenLite.to(e,.75,{opacity:0,scale:.75,ease:Expo.easeOut,delay:n,onComplete:function(){$(e).remove()}}),$(e).on("click",function(t){t.preventDefault(),TweenLite.to($(this),.75,{opacity:0,scale:.75,ease:Expo.easeOut,onComplete:function(){$(e).remove()}})}),h++},p=0,d=function(e,t){if($(".no-svg").length)return!1;var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","g"),r=document.createElementNS("http://www.w3.org/2000/svg","circle"),o=e.offsetX,a=e.offsetY;if(void 0==o)return!1;n.setAttributeNS(null,"class","ripple ripple"+p),i.setAttributeNS(null,"transform","translate("+o+", "+a+")"),r.setAttributeNS(null,"r",parseInt(t.outerWidth())+o),n.appendChild(i),i.appendChild(r),t.append(n);var s=t.find(".ripple"+p);TweenLite.from(s.find("circle"),1.5,{attr:{r:0},opacity:.75,ease:Expo.easeOut,onComplete:function(){s.remove()}}),p++};n.toaster=f,n.ripple=d},{"./_helper":179,mCustomScrollbar:174,scrollMonitor:177}],181:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n){function r(e,t){return("undefined"==typeof e?"undefined":i(e))===t}function o(){var e,t,n,i,o,a,s;for(var u in h)if(h.hasOwnProperty(u)){if(e=[],t=h[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=r(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)a=e[o],s=a.split("."),1===s.length?p[s[0]]=i:(!p[s[0]]||p[s[0]]instanceof Boolean||(p[s[0]]=new Boolean(p[s[0]])),p[s[0]][s[1]]=i),c.push((i?"":"no-")+s.join("-"))}}function a(e){var t=d.className,n=p._config.classPrefix||"";if(v&&(t=t.baseVal),p._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}p._config.enableClasses&&(t+=" "+n+e.join(" "+n),v?d.className.baseVal=t:d.className=t)}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):v?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(){var e=t.body;return e||(e=s(v?"svg":"body"),e.fake=!0),e}function l(e,n,i,r){var o,a,l,c,h="modernizr",f=s("div"),p=u();if(parseInt(i,10))for(;i--;)l=s("div"),l.id=r?r[i]:h+(i+1),f.appendChild(l);return o=s("style"),o.type="text/css",o.id="s"+h,(p.fake?p:f).appendChild(o),p.appendChild(f),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),f.id=h,p.fake&&(p.style.background="",p.style.overflow="hidden",c=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),a=n(f,e),p.fake?(p.parentNode.removeChild(p),d.style.overflow=c,d.offsetHeight):f.parentNode.removeChild(f),!!a}var c=[],h=[],f={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){h.push({name:e,fn:t,options:n})},addAsyncTest:function(e){h.push({name:null,fn:e})}},p=function(){};p.prototype=f,p=new p;var d=t.documentElement,v="svg"===d.nodeName.toLowerCase(),m=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return l("@media "+t+" { #modernizr { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position}),n}}();f.mq=m,o(),a(c),delete f.addTest,delete f.addAsyncTest;for(var g=0;g<p._q.length;g++)p._q[g]();e.Modernizr=p}(window,document)},{}],182:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=e("jquery"),o=i(r);e("lazyload"),e("TweenLite"),e("EasePack"),e("AttrPlugin"),e("CSSPlugin"),e("doT"),e("./_modernizr");var a=e("./_helper"),s=e("./_material"),u=e("../../../_modules/organisms/photoapp/photoapp"),l=i(u);(0,o.default)(window),(0,o.default)("body"),(0,o.default)(".header"),(0,a.isMobile)();(0,o.default)(function(){var e={apiKey:"AIzaSyAzhfbEZEV5GaMHVjQvLgQB7g6noJvIYMY",authDomain:"natseye.firebaseapp.com",databaseURL:"https://natseye.firebaseio.com",projectId:"natseye",storageBucket:"natseye.appspot.com",messagingSenderId:"602975578099"};firebase.initializeApp(e),new l.default,TweenLite.ticker.fps(60),console.log("I'm a firestarter!")}),"serviceWorker"in navigator&&(window.addEventListener("load",function(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/service-worker.js",{scope:"./"}).then(function(e){console.log("registered service worker"),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":navigator.serviceWorker.controller||(0,s.toaster)("Caching complete!");break;case"redundant":throw Error("The installing service worker became redundant.")}}}}).catch(function(e){console.error("uh oh... "),console.error(e)}),window.addEventListener("beforeinstallprompt",function(e){outputElement.textContent="beforeinstallprompt Event fired"}))}),window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){console.log(e.outcome),"dismissed"==e.outcome?console.log("User cancelled homescreen install"):console.log("User added to homescreen")})}),navigator.serviceWorker&&navigator.serviceWorker.controller&&(console.log("navigator.serviceWorker.controller.onstatechange:: "+navigator.serviceWorker.controller.onstatechange),navigator.serviceWorker.controller.onstatechange=function(e){"redundant"===e.target.state&&((0,s.toaster)("A new version of this app is available."),window.location.reload())}))},{"../../../_modules/organisms/photoapp/photoapp":183,"./_helper":179,"./_material":180,"./_modernizr":181,AttrPlugin:169,CSSPlugin:170,EasePack:168,TweenLite:167,doT:159,jquery:173,lazyload:172}],183:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("firebase"),s=i(a),u=e("../../../../node_modules/croppie/croppie"),l=i(u),c=e("../../../_assets/natseye/js/_material"),h=e("../../../_assets/natseye/js/_helper"),f=e("../../../../node_modules/hammerjs/hammer.min"),p=i(f),d=function(){function e(){if(r(this,e),$(".photoapp").length){var t=this,n=document.querySelector(".photoapp__polaroid"),i=$(window);API_KEY="API_KEY",t.socket=io(),t.$window=i,t.$message=$(".photoapp__message"),t.$polaroid=$(".photoapp__polaroid"),t.$viewer=$(".photoapp__viewer"),t.$controls=$(".photoapp__controls"),t.$camera=$(".photoapp__btn.-camera"),t.$loader=$(".photoapp__loader"),t.$percent=t.$loader.find(".percent"),t.isFlicked=!1,t.rotation=0,t.photoAppView,$(".js-take-photo").on("click",function(){$(".js-open-photo").trigger("click")});var o=new p.default(n);o.get("swipe").set({direction:p.default.DIRECTION_VERTICAL}),o.on("swipe",function(e){e.angle<0&&((0,c.toaster)("Uploading image"),t.$message.text(""),t.$viewer.removeClass("-preview"),t.$window.off("devicemotion"),t.isFlicked=!0,t.flickPhoto())}),$(".js-open-photo").on("change",function(e){var n=($(this),e.target||window.event.srcElement),r=document.querySelector(".photoapp__img"),o=document.querySelector(".photoapp__hidden"),a=n.files,s=i.width()-50;if(t.$message.text("crop and rotate"),t.$camera.addClass("-hide"),$("body").animate({scrollTop:$(document).height()},{duration:500,easing:"easeOutExpo"}),FileReader&&a&&a.length){var u=new FileReader;u.onload=function(e){({requests:[{image:{content:u.result.replace("data:image/jpeg;base64,","")},features:[{type:"SAFE_SEARCH_DETECTION",maxResults:200}]}]});r.src=u.result,r.onload=function(){$(".croppie-container").length?t.photoAppView.bind({url:r.src}):t.photoAppView=new l.default(r,{enableOrientation:!0,viewport:{height:s,width:s},showZoomer:!1}),t.getOrientation(o.files[0],function(e){switch(e){case 8:t.rotation=-90;break;case 3:t.rotation=180;break;case 6:t.rotation=90}}),setTimeout(function(){t.photoAppView.rotate(t.rotation)},50)}},u.readAsDataURL(a[0])}}),$(".js-rotate-photo").on("click",function(e){var n=$(this);return!n.parent().hasClass("-preview")&&void t.photoAppView.rotate(-90)}),$(".js-delete-photo").on("click",function(e){$(this);$(".croppie-container").length&&t.reset()}),$(".js-crop-photo").on("click",function(e){var n=$(this);return!n.parent().hasClass("-preview")&&(t.$message.text("are you happy with your photo?"),t.$polaroid.removeClass("-hide"),t.$controls.addClass("-preview"),t.$viewer.addClass("-preview"),t.photoAppView.result({type:"base64",size:{width:500,height:500}}).then(function(e){t.$polaroid.find("img").attr("src",e)}),void t.$window.on("devicemotion",function(e){t.deviceMotion(e,t)}))})}}return o(e,[{key:"getLikelihood",value:function(e){switch(e){case"UNKNOWN":return 0;case"VERY_UNLIKELY":return 1;case"UNLIKELY":return 2;case"POSSIBLE":return 3;case"LIKELY":return 4;case"VERY_LIKELY":return 5}}},{key:"deviceMotion",value:function(e,t){(0,h.iOS)()&&e.originalEvent.acceleration.y>15&&!t.isFlicked?(t.isFlicked=!0,console.log("flick"),t.flickPhoto()):!(0,h.iOS)()&&e.originalEvent.acceleration.y<-15&&!t.isFlicked&&(t.isFlicked=!0,console.log("flick"),t.flickPhoto())}},{key:"flickPhoto",value:function(){var e,t,n,i,r,o,a=this,u=s.default.database(),l=s.default.storage(),h=u.ref(),f=l.ref(),p=0;a.$window.off("devicemotion"),a.$loader.removeClass("-hide"),a.$viewer.addClass("-disabled"),a.$controls.addClass("-disabled"),a.$polaroid.addClass("-throw"),a.photoAppView.result({type:"base64",size:{width:500,height:500}}).then(function(e){a.socket.emit("photo flick",e)}),e=h.child("image"),n=new Date,a.photoAppView.result({type:"blob",size:{width:500,height:500}}).then(function(s){i="/"+n.getTime()+".jpg",o=f.child(i),r=o.put(s),r.on("state_changed",function(e){p=Math.round(e.bytesTransferred/e.totalBytes*100),console.log("Upload is "+p+"% done"),a.$percent.text(p+"%")},function(e){(0,c.toaster)("Unable to save image. -_-"),(0,c.toaster)(JSON.stringify(e)),a.$viewer.addClass("-disabled"),a.$controls.removeClass("-disabled"),a.$loader.addClass("-hide")},function(){t=r.snapshot.downloadURL,e.push({src:t}).then(function(){(0,c.toaster)("Upload successful! ^_^"),a.reset()})})})}},{key:"getOrientation",value:function(e,t){var n=new FileReader;n.onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);for(var i=n.byteLength,r=2;r<i;){var o=n.getUint16(r,!1);if(r+=2,65505==o){if(1165519206!=n.getUint32(r+=2,!1))return t(-1);var a=18761==n.getUint16(r+=6,!1);r+=n.getUint32(r+4,a);var s=n.getUint16(r,a);r+=2;for(var u=0;u<s;u++)if(274==n.getUint16(r+12*u,a))return t(n.getUint16(r+12*u+8,a))}else{if(65280!=(65280&o))break;r+=n.getUint16(r,!1)}}return t(-1)},n.readAsArrayBuffer(e.slice(0,65536))}},{key:"reset",value:function(){var e=this;e.isFlicked=!1,e.photoAppView.destroy(),e.$message.text("tap to snap a photo"),e.$viewer.removeClass("-disabled -preview"),e.$controls.addClass("-disabled").removeClass("-preview"),e.$camera.removeClass("-hide"),e.$loader.addClass("-hide"),e.$polaroid.addClass("-hide").removeClass("-throw"),e.$percent.text("0%"),$(".photoapp__img").unwrap().attr("src","")}}]),e}();n.default=d,t.exports=n.default},{"../../../../node_modules/croppie/croppie":158,"../../../../node_modules/hammerjs/hammer.min":171,"../../../_assets/natseye/js/_helper":179,"../../../_assets/natseye/js/_material":180,firebase:163}]},{},[182]);
//# sourceMappingURL=main.js.map
